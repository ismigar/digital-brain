(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function l(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(s){if(s.ep)return;s.ep=!0;const c=l(s);fetch(s.href,c)}})();function Ku(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var vu={exports:{}},rr={};var ng;function Ey(){if(ng)return rr;ng=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(i,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:o,type:i,key:d,ref:s!==void 0?s:null,props:c}}return rr.Fragment=a,rr.jsx=l,rr.jsxs=l,rr}var ig;function xy(){return ig||(ig=1,vu.exports=Ey()),vu.exports}var I=xy(),yu={exports:{}},ve={};var ag;function _y(){if(ag)return ve;ag=1;var o=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function K(E,U,Q){this.props=E,this.context=U,this.refs=H,this.updater=Q||w}K.prototype.isReactComponent={},K.prototype.setState=function(E,U){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,U,"setState")},K.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function $(){}$.prototype=K.prototype;function q(E,U,Q){this.props=E,this.context=U,this.refs=H,this.updater=Q||w}var C=q.prototype=new $;C.constructor=q,D(C,K.prototype),C.isPureReactComponent=!0;var M=Array.isArray;function B(){}var G={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function R(E,U,Q){var ne=Q.ref;return{$$typeof:o,type:E,key:U,ref:ne!==void 0?ne:null,props:Q}}function k(E,U){return R(E.type,U,E.props)}function Z(E){return typeof E=="object"&&E!==null&&E.$$typeof===o}function te(E){var U={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Q){return U[Q]})}var ce=/\/+/g;function oe(E,U){return typeof E=="object"&&E!==null&&E.key!=null?te(""+E.key):U.toString(36)}function ye(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(B,B):(E.status="pending",E.then(function(U){E.status==="pending"&&(E.status="fulfilled",E.value=U)},function(U){E.status==="pending"&&(E.status="rejected",E.reason=U)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function N(E,U,Q,ne,de){var Ee=typeof E;(Ee==="undefined"||Ee==="boolean")&&(E=null);var Ae=!1;if(E===null)Ae=!0;else switch(Ee){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(E.$$typeof){case o:case a:Ae=!0;break;case y:return Ae=E._init,N(Ae(E._payload),U,Q,ne,de)}}if(Ae)return de=de(E),Ae=ne===""?"."+oe(E,0):ne,M(de)?(Q="",Ae!=null&&(Q=Ae.replace(ce,"$&/")+"/"),N(de,U,Q,"",function(Qt){return Qt})):de!=null&&(Z(de)&&(de=k(de,Q+(de.key==null||E&&E.key===de.key?"":(""+de.key).replace(ce,"$&/")+"/")+Ae)),U.push(de)),1;Ae=0;var Xe=ne===""?".":ne+":";if(M(E))for(var He=0;He<E.length;He++)ne=E[He],Ee=Xe+oe(ne,He),Ae+=N(ne,U,Q,Ee,de);else if(He=_(E),typeof He=="function")for(E=He.call(E),He=0;!(ne=E.next()).done;)ne=ne.value,Ee=Xe+oe(ne,He++),Ae+=N(ne,U,Q,Ee,de);else if(Ee==="object"){if(typeof E.then=="function")return N(ye(E),U,Q,ne,de);throw U=String(E),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function V(E,U,Q){if(E==null)return E;var ne=[],de=0;return N(E,ne,"","",function(Ee){return U.call(Q,Ee,de++)}),ne}function ee(E){if(E._status===-1){var U=E._result;U=U(),U.then(function(Q){(E._status===0||E._status===-1)&&(E._status=1,E._result=Q)},function(Q){(E._status===0||E._status===-1)&&(E._status=2,E._result=Q)}),E._status===-1&&(E._status=0,E._result=U)}if(E._status===1)return E._result.default;throw E._result}var ae=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},fe={map:V,forEach:function(E,U,Q){V(E,function(){U.apply(this,arguments)},Q)},count:function(E){var U=0;return V(E,function(){U++}),U},toArray:function(E){return V(E,function(U){return U})||[]},only:function(E){if(!Z(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ve.Activity=v,ve.Children=fe,ve.Component=K,ve.Fragment=l,ve.Profiler=s,ve.PureComponent=q,ve.StrictMode=i,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ve.__COMPILER_RUNTIME={__proto__:null,c:function(E){return G.H.useMemoCache(E)}},ve.cache=function(E){return function(){return E.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(E,U,Q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ne=D({},E.props),de=E.key;if(U!=null)for(Ee in U.key!==void 0&&(de=""+U.key),U)!W.call(U,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&U.ref===void 0||(ne[Ee]=U[Ee]);var Ee=arguments.length-2;if(Ee===1)ne.children=Q;else if(1<Ee){for(var Ae=Array(Ee),Xe=0;Xe<Ee;Xe++)Ae[Xe]=arguments[Xe+2];ne.children=Ae}return R(E.type,de,ne)},ve.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ve.createElement=function(E,U,Q){var ne,de={},Ee=null;if(U!=null)for(ne in U.key!==void 0&&(Ee=""+U.key),U)W.call(U,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(de[ne]=U[ne]);var Ae=arguments.length-2;if(Ae===1)de.children=Q;else if(1<Ae){for(var Xe=Array(Ae),He=0;He<Ae;He++)Xe[He]=arguments[He+2];de.children=Xe}if(E&&E.defaultProps)for(ne in Ae=E.defaultProps,Ae)de[ne]===void 0&&(de[ne]=Ae[ne]);return R(E,Ee,de)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(E){return{$$typeof:h,render:E}},ve.isValidElement=Z,ve.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:ee}},ve.memo=function(E,U){return{$$typeof:p,type:E,compare:U===void 0?null:U}},ve.startTransition=function(E){var U=G.T,Q={};G.T=Q;try{var ne=E(),de=G.S;de!==null&&de(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(B,ae)}catch(Ee){ae(Ee)}finally{U!==null&&Q.types!==null&&(U.types=Q.types),G.T=U}},ve.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ve.use=function(E){return G.H.use(E)},ve.useActionState=function(E,U,Q){return G.H.useActionState(E,U,Q)},ve.useCallback=function(E,U){return G.H.useCallback(E,U)},ve.useContext=function(E){return G.H.useContext(E)},ve.useDebugValue=function(){},ve.useDeferredValue=function(E,U){return G.H.useDeferredValue(E,U)},ve.useEffect=function(E,U){return G.H.useEffect(E,U)},ve.useEffectEvent=function(E){return G.H.useEffectEvent(E)},ve.useId=function(){return G.H.useId()},ve.useImperativeHandle=function(E,U,Q){return G.H.useImperativeHandle(E,U,Q)},ve.useInsertionEffect=function(E,U){return G.H.useInsertionEffect(E,U)},ve.useLayoutEffect=function(E,U){return G.H.useLayoutEffect(E,U)},ve.useMemo=function(E,U){return G.H.useMemo(E,U)},ve.useOptimistic=function(E,U){return G.H.useOptimistic(E,U)},ve.useReducer=function(E,U,Q){return G.H.useReducer(E,U,Q)},ve.useRef=function(E){return G.H.useRef(E)},ve.useState=function(E){return G.H.useState(E)},ve.useSyncExternalStore=function(E,U,Q){return G.H.useSyncExternalStore(E,U,Q)},ve.useTransition=function(){return G.H.useTransition()},ve.version="19.2.0",ve}var rg;function Zl(){return rg||(rg=1,yu.exports=_y()),yu.exports}var pe=Zl();const lp=Ku(pe),me=o=>typeof o=="string",lr=()=>{let o,a;const l=new Promise((i,s)=>{o=i,a=s});return l.resolve=o,l.reject=a,l},lg=o=>o==null?"":""+o,wy=(o,a,l)=>{o.forEach(i=>{a[i]&&(l[i]=a[i])})},Ty=/###/g,sg=o=>o&&o.indexOf("###")>-1?o.replace(Ty,"."):o,og=o=>!o||me(o),gr=(o,a,l)=>{const i=me(a)?a.split("."):a;let s=0;for(;s<i.length-1;){if(og(o))return{};const c=sg(i[s]);!o[c]&&l&&(o[c]=new l),Object.prototype.hasOwnProperty.call(o,c)?o=o[c]:o={},++s}return og(o)?{}:{obj:o,k:sg(i[s])}},ug=(o,a,l)=>{const{obj:i,k:s}=gr(o,a,Object);if(i!==void 0||a.length===1){i[s]=l;return}let c=a[a.length-1],d=a.slice(0,a.length-1),h=gr(o,d,Object);for(;h.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),h=gr(o,d,Object),h?.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=l},Ay=(o,a,l,i)=>{const{obj:s,k:c}=gr(o,a,Object);s[c]=s[c]||[],s[c].push(l)},Vl=(o,a)=>{const{obj:l,k:i}=gr(o,a);if(l&&Object.prototype.hasOwnProperty.call(l,i))return l[i]},Cy=(o,a,l)=>{const i=Vl(o,l);return i!==void 0?i:Vl(a,l)},sp=(o,a,l)=>{for(const i in a)i!=="__proto__"&&i!=="constructor"&&(i in o?me(o[i])||o[i]instanceof String||me(a[i])||a[i]instanceof String?l&&(o[i]=a[i]):sp(o[i],a[i],l):o[i]=a[i]);return o},na=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ry={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Dy=o=>me(o)?o.replace(/[&<>"'\/]/g,a=>Ry[a]):o;class Ny{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){const l=this.regExpMap.get(a);if(l!==void 0)return l;const i=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,i),this.regExpQueue.push(a),i}}const Ly=[" ",",","?","!",";"],Oy=new Ny(20),zy=(o,a,l)=>{a=a||"",l=l||"";const i=Ly.filter(d=>a.indexOf(d)<0&&l.indexOf(d)<0);if(i.length===0)return!0;const s=Oy.getRegExp(`(${i.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!s.test(o);if(!c){const d=o.indexOf(l);d>0&&!s.test(o.substring(0,d))&&(c=!0)}return c},ju=(o,a,l=".")=>{if(!o)return;if(o[a])return Object.prototype.hasOwnProperty.call(o,a)?o[a]:void 0;const i=a.split(l);let s=o;for(let c=0;c<i.length;){if(!s||typeof s!="object")return;let d,h="";for(let g=c;g<i.length;++g)if(g!==c&&(h+=l),h+=i[g],d=s[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&g<i.length-1)continue;c+=g-c+1;break}s=d}return s},vr=o=>o?.replace("_","-"),My={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,a){console?.[o]?.apply?.(console,a)}};class Xl{constructor(a,l={}){this.init(a,l)}init(a,l={}){this.prefix=l.prefix||"i18next:",this.logger=a||My,this.options=l,this.debug=l.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,l,i,s){return s&&!this.debug?null:(me(a[0])&&(a[0]=`${i}${this.prefix} ${a[0]}`),this.logger[l](a))}create(a){return new Xl(this.logger,{prefix:`${this.prefix}:${a}:`,...this.options})}clone(a){return a=a||this.options,a.prefix=a.prefix||this.prefix,new Xl(this.logger,a)}}var tn=new Xl;class Ql{constructor(){this.observers={}}on(a,l){return a.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(l)||0;this.observers[i].set(l,s+1)}),this}off(a,l){if(this.observers[a]){if(!l){delete this.observers[a];return}this.observers[a].delete(l)}}emit(a,...l){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([s,c])=>{for(let d=0;d<c;d++)s(...l)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,c])=>{for(let d=0;d<c;d++)s.apply(s,[a,...l])})}}class cg extends Ql{constructor(a,l={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=l,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}removeNamespaces(a){const l=this.options.ns.indexOf(a);l>-1&&this.options.ns.splice(l,1)}getResource(a,l,i,s={}){const c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;a.indexOf(".")>-1?h=a.split("."):(h=[a,l],i&&(Array.isArray(i)?h.push(...i):me(i)&&c?h.push(...i.split(c)):h.push(i)));const g=Vl(this.data,h);return!g&&!l&&!i&&a.indexOf(".")>-1&&(a=h[0],l=h[1],i=h.slice(2).join(".")),g||!d||!me(i)?g:ju(this.data?.[a]?.[l],i,c)}addResource(a,l,i,s,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[a,l];i&&(h=h.concat(d?i.split(d):i)),a.indexOf(".")>-1&&(h=a.split("."),s=l,l=h[1]),this.addNamespaces(l),ug(this.data,h,s),c.silent||this.emit("added",a,l,i,s)}addResources(a,l,i,s={silent:!1}){for(const c in i)(me(i[c])||Array.isArray(i[c]))&&this.addResource(a,l,c,i[c],{silent:!0});s.silent||this.emit("added",a,l,i)}addResourceBundle(a,l,i,s,c,d={silent:!1,skipCopy:!1}){let h=[a,l];a.indexOf(".")>-1&&(h=a.split("."),s=i,i=l,l=h[1]),this.addNamespaces(l);let g=Vl(this.data,h)||{};d.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?sp(g,i,c):g={...g,...i},ug(this.data,h,g),d.silent||this.emit("added",a,l,i)}removeResourceBundle(a,l){this.hasResourceBundle(a,l)&&delete this.data[a][l],this.removeNamespaces(l),this.emit("removed",a,l)}hasResourceBundle(a,l){return this.getResource(a,l)!==void 0}getResourceBundle(a,l){return l||(l=this.options.defaultNS),this.getResource(a,l)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){const l=this.getDataByLanguage(a);return!!(l&&Object.keys(l)||[]).find(s=>l[s]&&Object.keys(l[s]).length>0)}toJSON(){return this.data}}var op={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,a,l,i,s){return o.forEach(c=>{a=this.processors[c]?.process(a,l,i,s)??a}),a}};const up=Symbol("i18next/PATH_KEY");function Gy(){const o=[],a=Object.create(null);let l;return a.get=(i,s)=>(l?.revoke?.(),s===up?o:(o.push(s),l=Proxy.revocable(i,a),l.proxy)),Proxy.revocable(Object.create(null),a).proxy}function Bu(o,a){const{[up]:l}=o(Gy());return l.join(a?.keySeparator??".")}const fg={},bu=o=>!me(o)&&typeof o!="boolean"&&typeof o!="number";class Kl extends Ql{constructor(a,l={}){super(),wy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=l,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=tn.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,l={interpolation:{}}){const i={...l};if(a==null)return!1;const s=this.resolve(a,i);if(s?.res===void 0)return!1;const c=bu(s.res);return!(i.returnObjects===!1&&c)}extractFromKey(a,l){let i=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let c=l.ns||this.options.defaultNS||[];const d=i&&a.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!zy(a,i,s);if(d&&!h){const g=a.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:a,namespaces:me(c)?[c]:c};const p=a.split(i);(i!==s||i===s&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),a=p.join(s)}return{key:a,namespaces:me(c)?[c]:c}}translate(a,l,i){let s=typeof l=="object"?{...l}:l;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),a==null)return"";typeof a=="function"&&(a=Bu(a,{...this.options,...s})),Array.isArray(a)||(a=[String(a)]);const c=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,d=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:h,namespaces:g}=this.extractFromKey(a[a.length-1],s),p=g[g.length-1];let y=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=s.lng||this.language,S=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return S?c?{res:`${p}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:`${p}${y}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:h;const _=this.resolve(a,s);let w=_?.res;const D=_?.usedKey||h,H=_?.exactUsedKey||h,K=["[object Number]","[object Function]","[object RegExp]"],$=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,q=!this.i18nFormat||this.i18nFormat.handleAsObject,C=s.count!==void 0&&!me(s.count),M=Kl.hasDefaultValue(s),B=C?this.pluralResolver.getSuffix(v,s.count,s):"",G=s.ordinal&&C?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",W=C&&!s.ordinal&&s.count===0,R=W&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${B}`]||s[`defaultValue${G}`]||s.defaultValue;let k=w;q&&!w&&M&&(k=R);const Z=bu(k),te=Object.prototype.toString.apply(k);if(q&&k&&Z&&K.indexOf(te)<0&&!(me($)&&Array.isArray(k))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ce=this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,k,{...s,ns:g}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(_.res=ce,_.usedParams=this.getUsedParamsDetails(s),_):ce}if(d){const ce=Array.isArray(k),oe=ce?[]:{},ye=ce?H:D;for(const N in k)if(Object.prototype.hasOwnProperty.call(k,N)){const V=`${ye}${d}${N}`;M&&!w?oe[N]=this.translate(V,{...s,defaultValue:bu(R)?R[N]:void 0,joinArrays:!1,ns:g}):oe[N]=this.translate(V,{...s,joinArrays:!1,ns:g}),oe[N]===V&&(oe[N]=k[N])}w=oe}}else if(q&&me($)&&Array.isArray(w))w=w.join($),w&&(w=this.extendTranslation(w,a,s,i));else{let ce=!1,oe=!1;!this.isValidLookup(w)&&M&&(ce=!0,w=R),this.isValidLookup(w)||(oe=!0,w=h);const N=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&oe?void 0:w,V=M&&R!==w&&this.options.updateMissing;if(oe||ce||V){if(this.logger.log(V?"updateKey":"missingKey",v,p,h,V?R:w),d){const E=this.resolve(h,{...s,keySeparator:!1});E&&E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(let E=0;E<ae.length;E++)ee.push(ae[E]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(s.lng||this.language):ee.push(s.lng||this.language);const fe=(E,U,Q)=>{const ne=M&&Q!==w?Q:N;this.options.missingKeyHandler?this.options.missingKeyHandler(E,p,U,ne,V,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(E,p,U,ne,V,s),this.emit("missingKey",E,p,U,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?ee.forEach(E=>{const U=this.pluralResolver.getSuffixes(E,s);W&&s[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(Q=>{fe([E],h+Q,s[`defaultValue${Q}`]||R)})}):fe(ee,h,R))}w=this.extendTranslation(w,a,s,_,i),oe&&w===h&&this.options.appendNamespaceToMissingKey&&(w=`${p}${y}${h}`),(oe||ce)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${y}${h}`:h,ce?w:void 0,s))}return c?(_.res=w,_.usedParams=this.getUsedParamsDetails(s),_):w}extendTranslation(a,l,i,s,c){if(this.i18nFormat?.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const g=me(a)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(g){const v=a.match(this.interpolator.nestingRegexp);p=v&&v.length}let y=i.replace&&!me(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),a=this.interpolator.interpolate(a,y,i.lng||this.language||s.usedLng,i),g){const v=a.match(this.interpolator.nestingRegexp),S=v&&v.length;p<S&&(i.nest=!1)}!i.lng&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(a=this.interpolator.nest(a,(...v)=>c?.[0]===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${l[0]}`),null):this.translate(...v,l),i)),i.interpolation&&this.interpolator.reset()}const d=i.postProcess||this.options.postProcess,h=me(d)?[d]:d;return a!=null&&h?.length&&i.applyPostProcessor!==!1&&(a=op.handle(h,a,l,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),a}resolve(a,l={}){let i,s,c,d,h;return me(a)&&(a=[a]),a.forEach(g=>{if(this.isValidLookup(i))return;const p=this.extractFromKey(g,l),y=p.key;s=y;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const S=l.count!==void 0&&!me(l.count),_=S&&!l.ordinal&&l.count===0,w=l.context!==void 0&&(me(l.context)||typeof l.context=="number")&&l.context!=="",D=l.lngs?l.lngs:this.languageUtils.toResolveHierarchy(l.lng||this.language,l.fallbackLng);v.forEach(H=>{this.isValidLookup(i)||(h=H,!fg[`${D[0]}-${H}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(fg[`${D[0]}-${H}`]=!0,this.logger.warn(`key "${s}" for languages "${D.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(K=>{if(this.isValidLookup(i))return;d=K;const $=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys($,y,K,H,l);else{let C;S&&(C=this.pluralResolver.getSuffix(K,l.count,l));const M=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(l.ordinal&&C.indexOf(B)===0&&$.push(y+C.replace(B,this.options.pluralSeparator)),$.push(y+C),_&&$.push(y+M)),w){const G=`${y}${this.options.contextSeparator||"_"}${l.context}`;$.push(G),S&&(l.ordinal&&C.indexOf(B)===0&&$.push(G+C.replace(B,this.options.pluralSeparator)),$.push(G+C),_&&$.push(G+M))}}let q;for(;q=$.pop();)this.isValidLookup(i)||(c=q,i=this.getResource(K,H,q,l))}))})}),{res:i,usedKey:s,exactUsedKey:c,usedLng:d,usedNS:h}}isValidLookup(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}getResource(a,l,i,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(a,l,i,s):this.resourceStore.getResource(a,l,i,s)}getUsedParamsDetails(a={}){const l=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=a.replace&&!me(a.replace);let s=i?a.replace:a;if(i&&typeof a.count<"u"&&(s.count=a.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const c of l)delete s[c]}return s}static hasDefaultValue(a){const l="defaultValue";for(const i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&l===i.substring(0,l.length)&&a[i]!==void 0)return!0;return!1}}class dg{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tn.create("languageUtils")}getScriptPartFromCode(a){if(a=vr(a),!a||a.indexOf("-")<0)return null;const l=a.split("-");return l.length===2||(l.pop(),l[l.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(l.join("-"))}getLanguagePartFromCode(a){if(a=vr(a),!a||a.indexOf("-")<0)return a;const l=a.split("-");return this.formatLanguageCode(l[0])}formatLanguageCode(a){if(me(a)&&a.indexOf("-")>-1){let l;try{l=Intl.getCanonicalLocales(a)[0]}catch{}return l&&this.options.lowerCaseLng&&(l=l.toLowerCase()),l||(this.options.lowerCaseLng?a.toLowerCase():a)}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){if(!a)return null;let l;return a.forEach(i=>{if(l)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(l=s)}),!l&&this.options.supportedLngs&&a.forEach(i=>{if(l)return;const s=this.getScriptPartFromCode(i);if(this.isSupportedCode(s))return l=s;const c=this.getLanguagePartFromCode(i);if(this.isSupportedCode(c))return l=c;l=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),l||(l=this.getFallbackCodes(this.options.fallbackLng)[0]),l}getFallbackCodes(a,l){if(!a)return[];if(typeof a=="function"&&(a=a(l)),me(a)&&(a=[a]),Array.isArray(a))return a;if(!l)return a.default||[];let i=a[l];return i||(i=a[this.getScriptPartFromCode(l)]),i||(i=a[this.formatLanguageCode(l)]),i||(i=a[this.getLanguagePartFromCode(l)]),i||(i=a.default),i||[]}toResolveHierarchy(a,l){const i=this.getFallbackCodes((l===!1?[]:l)||this.options.fallbackLng||[],a),s=[],c=d=>{d&&(this.isSupportedCode(d)?s.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return me(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(a)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(a)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(a))):me(a)&&c(this.formatLanguageCode(a)),i.forEach(d=>{s.indexOf(d)<0&&c(this.formatLanguageCode(d))}),s}}const hg={zero:0,one:1,two:2,few:3,many:4,other:5},gg={select:o=>o===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Uy{constructor(a,l={}){this.languageUtils=a,this.options=l,this.logger=tn.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,l){this.rules[a]=l}clearCache(){this.pluralRulesCache={}}getRule(a,l={}){const i=vr(a==="dev"?"en":a),s=l.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:i,type:s});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(i,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gg;if(!a.match(/-|_/))return gg;const g=this.languageUtils.getLanguagePartFromCode(a);d=this.getRule(g,l)}return this.pluralRulesCache[c]=d,d}needsPlural(a,l={}){let i=this.getRule(a,l);return i||(i=this.getRule("dev",l)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(a,l,i={}){return this.getSuffixes(a,i).map(s=>`${l}${s}`)}getSuffixes(a,l={}){let i=this.getRule(a,l);return i||(i=this.getRule("dev",l)),i?i.resolvedOptions().pluralCategories.sort((s,c)=>hg[s]-hg[c]).map(s=>`${this.options.prepend}${l.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(a,l,i={}){const s=this.getRule(a,i);return s?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(l)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",l,i))}}const pg=(o,a,l,i=".",s=!0)=>{let c=Cy(o,a,l);return!c&&s&&me(l)&&(c=ju(o,l,i),c===void 0&&(c=ju(a,l,i))),c},Su=o=>o.replace(/\$/g,"$$$$");class ky{constructor(a={}){this.logger=tn.create("interpolator"),this.options=a,this.format=a?.interpolation?.format||(l=>l),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});const{escape:l,escapeValue:i,useRawValueToEscape:s,prefix:c,prefixEscaped:d,suffix:h,suffixEscaped:g,formatSeparator:p,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:S,nestingPrefixEscaped:_,nestingSuffix:w,nestingSuffixEscaped:D,nestingOptionsSeparator:H,maxReplaces:K,alwaysFormat:$}=a.interpolation;this.escape=l!==void 0?l:Dy,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=c?na(c):d||"{{",this.suffix=h?na(h):g||"}}",this.formatSeparator=p||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=S?na(S):_||na("$t("),this.nestingSuffix=w?na(w):D||na(")"),this.nestingOptionsSeparator=H||",",this.maxReplaces=K||1e3,this.alwaysFormat=$!==void 0?$:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const a=(l,i)=>l?.source===i?(l.lastIndex=0,l):new RegExp(i,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(a,l,i,s){let c,d,h;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=_=>{if(_.indexOf(this.formatSeparator)<0){const K=pg(l,g,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(K,void 0,i,{...s,...l,interpolationkey:_}):K}const w=_.split(this.formatSeparator),D=w.shift().trim(),H=w.join(this.formatSeparator).trim();return this.format(pg(l,g,D,this.options.keySeparator,this.options.ignoreJSONStructure),H,i,{...s,...l,interpolationkey:D})};this.resetRegExp();const y=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>Su(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?Su(this.escape(_)):Su(_)}].forEach(_=>{for(h=0;c=_.regex.exec(a);){const w=c[1].trim();if(d=p(w),d===void 0)if(typeof y=="function"){const H=y(a,c,s);d=me(H)?H:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))d="";else if(v){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${a}`),d="";else!me(d)&&!this.useRawValueToEscape&&(d=lg(d));const D=_.safeValue(d);if(a=a.replace(c[0],D),v?(_.regex.lastIndex+=d.length,_.regex.lastIndex-=c[0].length):_.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),a}nest(a,l,i={}){let s,c,d;const h=(g,p)=>{const y=this.nestingOptionsSeparator;if(g.indexOf(y)<0)return g;const v=g.split(new RegExp(`${y}[ ]*{`));let S=`{${v[1]}`;g=v[0],S=this.interpolate(S,d);const _=S.match(/'/g),w=S.match(/"/g);((_?.length??0)%2===0&&!w||w.length%2!==0)&&(S=S.replace(/'/g,'"'));try{d=JSON.parse(S),p&&(d={...p,...d})}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,D),`${g}${y}${S}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,g};for(;s=this.nestingRegexp.exec(a);){let g=[];d={...i},d=d.replace&&!me(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const p=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(p!==-1&&(g=s[1].slice(p).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),s[1]=s[1].slice(0,p)),c=l(h.call(this,s[1].trim(),d),d),c&&s[0]===a&&!me(c))return c;me(c)||(c=lg(c)),c||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${a}`),c=""),g.length&&(c=g.reduce((y,v)=>this.format(y,v,i.lng,{...i,interpolationkey:s[1].trim()}),c.trim())),a=a.replace(s[0],c),this.regexp.lastIndex=0}return a}}const jy=o=>{let a=o.toLowerCase().trim();const l={};if(o.indexOf("(")>-1){const i=o.split("(");a=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);a==="currency"&&s.indexOf(":")<0?l.currency||(l.currency=s.trim()):a==="relativetime"&&s.indexOf(":")<0?l.range||(l.range=s.trim()):s.split(";").forEach(d=>{if(d){const[h,...g]=d.split(":"),p=g.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();l[y]||(l[y]=p),p==="false"&&(l[y]=!1),p==="true"&&(l[y]=!0),isNaN(p)||(l[y]=parseInt(p,10))}})}return{formatName:a,formatOptions:l}},mg=o=>{const a={};return(l,i,s)=>{let c=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(c={...c,[s.interpolationkey]:void 0});const d=i+JSON.stringify(c);let h=a[d];return h||(h=o(vr(i),s),a[d]=h),h(l)}},By=o=>(a,l,i)=>o(vr(l),i)(a);class Hy{constructor(a={}){this.logger=tn.create("formatter"),this.options=a,this.init(a)}init(a,l={interpolation:{}}){this.formatSeparator=l.interpolation.formatSeparator||",";const i=l.cacheInBuiltFormats?mg:By;this.formats={number:i((s,c)=>{const d=new Intl.NumberFormat(s,{...c});return h=>d.format(h)}),currency:i((s,c)=>{const d=new Intl.NumberFormat(s,{...c,style:"currency"});return h=>d.format(h)}),datetime:i((s,c)=>{const d=new Intl.DateTimeFormat(s,{...c});return h=>d.format(h)}),relativetime:i((s,c)=>{const d=new Intl.RelativeTimeFormat(s,{...c});return h=>d.format(h,c.range||"day")}),list:i((s,c)=>{const d=new Intl.ListFormat(s,{...c});return h=>d.format(h)})}}add(a,l){this.formats[a.toLowerCase().trim()]=l}addCached(a,l){this.formats[a.toLowerCase().trim()]=mg(l)}format(a,l,i,s={}){const c=l.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(g=>g.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,g)=>{const{formatName:p,formatOptions:y}=jy(g);if(this.formats[p]){let v=h;try{const S=s?.formatParams?.[s.interpolationkey]||{},_=S.locale||S.lng||s.locale||s.lng||i;v=this.formats[p](h,_,{...y,...s,...S})}catch(S){this.logger.warn(S)}return v}else this.logger.warn(`there was no format function for ${p}`);return h},a)}}const Fy=(o,a)=>{o.pending[a]!==void 0&&(delete o.pending[a],o.pendingCount--)};class $y extends Ql{constructor(a,l,i,s={}){super(),this.backend=a,this.store=l,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=tn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,s.backend,s)}queueLoad(a,l,i,s){const c={},d={},h={},g={};return a.forEach(p=>{let y=!0;l.forEach(v=>{const S=`${p}|${v}`;!i.reload&&this.store.hasResourceBundle(p,v)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?d[S]===void 0&&(d[S]=!0):(this.state[S]=1,y=!1,d[S]===void 0&&(d[S]=!0),c[S]===void 0&&(c[S]=!0),g[v]===void 0&&(g[v]=!0)))}),y||(h[p]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(g)}}loaded(a,l,i){const s=a.split("|"),c=s[0],d=s[1];l&&this.emit("failedLoading",c,d,l),!l&&i&&this.store.addResourceBundle(c,d,i,void 0,void 0,{skipCopy:!0}),this.state[a]=l?-1:2,l&&i&&(this.state[a]=0);const h={};this.queue.forEach(g=>{Ay(g.loaded,[c],d),Fy(g,a),l&&g.errors.push(l),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(p=>{h[p]||(h[p]={});const y=g.loaded[p];y.length&&y.forEach(v=>{h[p][v]===void 0&&(h[p][v]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(g=>!g.done)}read(a,l,i,s=0,c=this.retryTimeout,d){if(!a.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:l,fcName:i,tried:s,wait:c,callback:d});return}this.readingCalls++;const h=(p,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(p&&y&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,a,l,i,s+1,c*2,d)},c);return}d(p,y)},g=this.backend[i].bind(this.backend);if(g.length===2){try{const p=g(a,l);p&&typeof p.then=="function"?p.then(y=>h(null,y)).catch(h):h(null,p)}catch(p){h(p)}return}return g(a,l,h)}prepareLoading(a,l,i={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();me(a)&&(a=this.languageUtils.toResolveHierarchy(a)),me(l)&&(l=[l]);const c=this.queueLoad(a,l,i,s);if(!c.toLoad.length)return c.pending.length||s(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(a,l,i){this.prepareLoading(a,l,{},i)}reload(a,l,i){this.prepareLoading(a,l,{reload:!0},i)}loadOne(a,l=""){const i=a.split("|"),s=i[0],c=i[1];this.read(s,c,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${l}loading namespace ${c} for language ${s} failed`,d),!d&&h&&this.logger.log(`${l}loaded namespace ${c} for language ${s}`,h),this.loaded(a,d,h)})}saveMissing(a,l,i,s,c,d={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(l)){this.logger.warn(`did not save key "${i}" as the namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const g={...d,isUpdate:c},p=this.backend.create.bind(this.backend);if(p.length<6)try{let y;p.length===5?y=p(a,l,i,s,g):y=p(a,l,i,s),y&&typeof y.then=="function"?y.then(v=>h(null,v)).catch(h):h(null,y)}catch(y){h(y)}else p(a,l,i,s,h,g)}!a||!a[0]||this.store.addResource(a[0],l,i,s)}}}const vg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let a={};if(typeof o[1]=="object"&&(a=o[1]),me(o[1])&&(a.defaultValue=o[1]),me(o[2])&&(a.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const l=o[3]||o[2];Object.keys(l).forEach(i=>{a[i]=l[i]})}return a},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yg=o=>(me(o.ns)&&(o.ns=[o.ns]),me(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),me(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs?.indexOf?.("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),typeof o.initImmediate=="boolean"&&(o.initAsync=o.initImmediate),o),kl=()=>{},qy=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(l=>{typeof o[l]=="function"&&(o[l]=o[l].bind(o))})};class pr extends Ql{constructor(a={},l){if(super(),this.options=yg(a),this.services={},this.logger=tn,this.modules={external:[]},qy(this),l&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,l),this;setTimeout(()=>{this.init(a,l)},0)}}init(a={},l){this.isInitializing=!0,typeof a=="function"&&(l=a,a={}),a.defaultNS==null&&a.ns&&(me(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const i=vg();this.options={...i,...this.options,...yg(a)},this.options.interpolation={...i.interpolation,...this.options.interpolation},a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?tn.init(s(this.modules.logger),this.options):tn.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=Hy;const y=new dg(this.options);this.store=new cg(this.options.resources,this.options);const v=this.services;v.logger=tn,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new Uy(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(p),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new ky(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new $y(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(_,...w)=>{this.emit(_,...w)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Kl(this.services,this.options),this.translator.on("*",(_,...w)=>{this.emit(_,...w)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,l||(l=kl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...y)=>this.store[p](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...y)=>(this.store[p](...y),this)});const h=lr(),g=()=>{const p=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),l(y,v)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),h}loadResources(a,l=kl){let i=l;const s=me(a)?a:this.language;if(typeof a=="function"&&(i=a),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const c=[],d=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(p=>{p!=="cimode"&&c.indexOf(p)<0&&c.push(p)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>d(g)),this.options.preload?.forEach?.(h=>d(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(a,l,i){const s=lr();return typeof a=="function"&&(i=a,a=void 0),typeof l=="function"&&(i=l,l=void 0),a||(a=this.languages),l||(l=this.options.ns),i||(i=kl),this.services.backendConnector.reload(a,l,c=>{s.resolve(),i(c)}),s}use(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&op.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}setResolvedLanguage(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1)){for(let l=0;l<this.languages.length;l++){const i=this.languages[l];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(a)<0&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,l){this.isLanguageChangingTo=a;const i=lr();this.emit("languageChanging",a);const s=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,g)=>{g?this.isLanguageChangingTo===a&&(s(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,i.resolve((...p)=>this.t(...p)),l&&l(h,(...p)=>this.t(...p))},d=h=>{!a&&!h&&this.services.languageDetector&&(h=[]);const g=me(h)?h:h&&h[0],p=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(me(h)?[h]:h);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,y=>{c(y,p)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(a),i}getFixedT(a,l,i){const s=(c,d,...h)=>{let g;typeof d!="object"?g=this.options.overloadTranslationOptionHandler([c,d].concat(h)):g={...d},g.lng=g.lng||s.lng,g.lngs=g.lngs||s.lngs,g.ns=g.ns||s.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||i||s.keyPrefix);const p=this.options.keySeparator||".";let y;return g.keyPrefix&&Array.isArray(c)?y=c.map(v=>(typeof v=="function"&&(v=Bu(v,{...this.options,...d})),`${g.keyPrefix}${p}${v}`)):(typeof c=="function"&&(c=Bu(c,{...this.options,...d})),y=g.keyPrefix?`${g.keyPrefix}${p}${c}`:c),this.t(y,g)};return me(a)?s.lng=a:s.lngs=a,s.ns=l,s.keyPrefix=i,s}t(...a){return this.translator?.translate(...a)}exists(...a){return this.translator?.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,l={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=l.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const d=(h,g)=>{const p=this.services.backendConnector.state[`${h}|${g}`];return p===-1||p===0||p===2};if(l.precheck){const h=l.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(i,a)&&(!s||d(c,a)))}loadNamespaces(a,l){const i=lr();return this.options.ns?(me(a)&&(a=[a]),a.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),l&&l(s)}),i):(l&&l(),Promise.resolve())}loadLanguages(a,l){const i=lr();me(a)&&(a=[a]);const s=this.options.preload||[],c=a.filter(d=>s.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=s.concat(c),this.loadResources(d=>{i.resolve(),l&&l(d)}),i):(l&&l(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!a)return"rtl";try{const s=new Intl.Locale(a);if(s&&s.getTextInfo){const c=s.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new dg(vg());return a.toLowerCase().indexOf("-latn")>1?"ltr":l.indexOf(i.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},l){const i=new pr(a,l);return i.createInstance=pr.createInstance,i}cloneInstance(a={},l=kl){const i=a.forkResourceStore;i&&delete a.forkResourceStore;const s={...this.options,...a,isClone:!0},c=new pr(s);if((a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},i){const h=Object.keys(this.store.data).reduce((g,p)=>(g[p]={...this.store.data[p]},g[p]=Object.keys(g[p]).reduce((y,v)=>(y[v]={...g[p][v]},y),g[p]),g),{});c.store=new cg(h,s),c.services.resourceStore=c.store}return c.translator=new Kl(c.services,s),c.translator.on("*",(h,...g)=>{c.emit(h,...g)}),c.init(s,l),c.translator.options=s,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ft=pr.createInstance();ft.createInstance;ft.dir;ft.init;ft.loadResources;ft.reloadResources;ft.use;ft.changeLanguage;ft.getFixedT;ft.t;ft.exists;ft.setDefaultNamespace;ft.hasLoadedNamespace;ft.loadNamespaces;ft.loadLanguages;const Yy=(o,a,l,i)=>{const s=[l,{code:a,...i||{}}];if(o?.services?.logger?.forward)return o.services.logger.forward(s,"warn","react-i18next::",!0);mi(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),o?.services?.logger?.warn?o.services.logger.warn(...s):console?.warn&&console.warn(...s)},bg={},cp=(o,a,l,i)=>{mi(l)&&bg[l]||(mi(l)&&(bg[l]=new Date),Yy(o,a,l,i))},fp=(o,a)=>()=>{if(o.isInitialized)a();else{const l=()=>{setTimeout(()=>{o.off("initialized",l)},0),a()};o.on("initialized",l)}},Hu=(o,a,l)=>{o.loadNamespaces(a,fp(o,l))},Sg=(o,a,l,i)=>{if(mi(l)&&(l=[l]),o.options.preload&&o.options.preload.indexOf(a)>-1)return Hu(o,l,i);l.forEach(s=>{o.options.ns.indexOf(s)<0&&o.options.ns.push(s)}),o.loadLanguages(a,fp(o,i))},Vy=(o,a,l={})=>!a.languages||!a.languages.length?(cp(a,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:a.languages}),!0):a.hasLoadedNamespace(o,{lng:l.lng,precheck:(i,s)=>{if(l.bindI18n&&l.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,o))return!1}}),mi=o=>typeof o=="string",Xy=o=>typeof o=="object"&&o!==null,Ky=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Zy={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Qy=o=>Zy[o],Jy=o=>o.replace(Ky,Qy);let Fu={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Jy};const Iy=(o={})=>{Fu={...Fu,...o}},Py=()=>Fu;let dp;const Wy=o=>{dp=o},eb=()=>dp,tb={type:"3rdParty",init(o){Iy(o.options.react),Wy(o)}},nb=pe.createContext();class ib{constructor(){this.usedNamespaces={}}addUsedNamespaces(a){a.forEach(l=>{this.usedNamespaces[l]||(this.usedNamespaces[l]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Eu={exports:{}},xu={};var Eg;function ab(){if(Eg)return xu;Eg=1;var o=Zl();function a(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}var l=typeof Object.is=="function"?Object.is:a,i=o.useState,s=o.useEffect,c=o.useLayoutEffect,d=o.useDebugValue;function h(v,S){var _=S(),w=i({inst:{value:_,getSnapshot:S}}),D=w[0].inst,H=w[1];return c(function(){D.value=_,D.getSnapshot=S,g(D)&&H({inst:D})},[v,_,S]),s(function(){return g(D)&&H({inst:D}),v(function(){g(D)&&H({inst:D})})},[v]),d(_),_}function g(v){var S=v.getSnapshot;v=v.value;try{var _=S();return!l(v,_)}catch{return!0}}function p(v,S){return S()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return xu.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:y,xu}var xg;function rb(){return xg||(xg=1,Eu.exports=ab()),Eu.exports}var lb=rb();const sb=(o,a)=>mi(a)?a:Xy(a)&&mi(a.defaultValue)?a.defaultValue:Array.isArray(o)?o[o.length-1]:o,ob={t:sb,ready:!1},ub=()=>()=>{},yr=(o,a={})=>{const{i18n:l}=a,{i18n:i,defaultNS:s}=pe.useContext(nb)||{},c=l||i||eb();c&&!c.reportNamespaces&&(c.reportNamespaces=new ib),c||cp(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=pe.useMemo(()=>({...Py(),...c?.options?.react,...a}),[c,a]),{useSuspense:h,keyPrefix:g}=d,p=s||c?.options?.defaultNS,y=mi(p)?[p]:p||["translation"],v=pe.useMemo(()=>y,y);c?.reportNamespaces?.addUsedNamespaces?.(v);const S=pe.useRef(0),_=pe.useCallback(R=>{if(!c)return ub;const{bindI18n:k,bindI18nStore:Z}=d,te=()=>{S.current+=1,R()};return k&&c.on(k,te),Z&&c.store.on(Z,te),()=>{k&&k.split(" ").forEach(ce=>c.off(ce,te)),Z&&Z.split(" ").forEach(ce=>c.store.off(ce,te))}},[c,d]),w=pe.useRef(),D=pe.useCallback(()=>{if(!c)return ob;const R=!!(c.isInitialized||c.initializedStoreOnce)&&v.every(ye=>Vy(ye,c,d)),k=a.lng||c.language,Z=S.current,te=w.current;if(te&&te.ready===R&&te.lng===k&&te.keyPrefix===g&&te.revision===Z)return te;const oe={t:c.getFixedT(k,d.nsMode==="fallback"?v:v[0],g),ready:R,lng:k,keyPrefix:g,revision:Z};return w.current=oe,oe},[c,v,g,d,a.lng]),[H,K]=pe.useState(0),{t:$,ready:q}=lb.useSyncExternalStore(_,D,D);pe.useEffect(()=>{if(c&&!q&&!h){const R=()=>K(k=>k+1);a.lng?Sg(c,a.lng,v,R):Hu(c,v,R)}},[c,a.lng,v,q,h,H]);const C=c||{},M=pe.useRef(null),B=pe.useRef(),G=R=>{const k=Object.getOwnPropertyDescriptors(R);k.__original&&delete k.__original;const Z=Object.create(Object.getPrototypeOf(R),k);if(!Object.prototype.hasOwnProperty.call(Z,"__original"))try{Object.defineProperty(Z,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return Z},W=pe.useMemo(()=>{const R=C,k=R?.language;let Z=R;R&&(M.current&&M.current.__original===R?B.current!==k?(Z=G(R),M.current=Z,B.current=k):Z=M.current:(Z=G(R),M.current=Z,B.current=k));const te=[$,Z,q];return te.t=$,te.i18n=Z,te.ready=q,te},[$,C,q,C.resolvedLanguage,C.language,C.languages]);if(c&&h&&!q)throw new Promise(R=>{const k=()=>R();a.lng?Sg(c,a.lng,v,k):Hu(c,v,k)});return W},{slice:cb,forEach:fb}=[];function db(o){return fb.call(cb.call(arguments,1),a=>{if(a)for(const l in a)o[l]===void 0&&(o[l]=a[l])}),o}function hb(o){return typeof o!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(l=>l.test(o))}const _g=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gb=function(o,a){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(a);let c=`${o}=${s}`;if(i.maxAge>0){const d=i.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(i.domain){if(!_g.test(i.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${i.domain}`}if(i.path){if(!_g.test(i.path))throw new TypeError("option path is invalid");c+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(c+="; HttpOnly"),i.secure&&(c+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(c+="; Partitioned"),c},wg={create(o,a,l,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};l&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+l*60*1e3)),i&&(s.domain=i),document.cookie=gb(o,a,s)},read(o){const a=`${o}=`,l=document.cookie.split(";");for(let i=0;i<l.length;i++){let s=l[i];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(a)===0)return s.substring(a.length,s.length)}return null},remove(o,a){this.create(o,"",-1,a)}};var pb={name:"cookie",lookup(o){let{lookupCookie:a}=o;if(a&&typeof document<"u")return wg.read(a)||void 0},cacheUserLanguage(o,a){let{lookupCookie:l,cookieMinutes:i,cookieDomain:s,cookieOptions:c}=a;l&&typeof document<"u"&&wg.create(l,o,i,s,c)}},mb={name:"querystring",lookup(o){let{lookupQuerystring:a}=o,l;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const c=i.substring(1).split("&");for(let d=0;d<c.length;d++){const h=c[d].indexOf("=");h>0&&c[d].substring(0,h)===a&&(l=c[d].substring(h+1))}}return l}},vb={name:"hash",lookup(o){let{lookupHash:a,lookupFromHashIndex:l}=o,i;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const c=s.substring(1);if(a){const d=c.split("&");for(let h=0;h<d.length;h++){const g=d[h].indexOf("=");g>0&&d[h].substring(0,g)===a&&(i=d[h].substring(g+1))}}if(i)return i;if(!i&&l>-1){const d=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof l=="number"?l:0]?.replace("/",""):void 0}}}return i}};let ia=null;const Tg=()=>{if(ia!==null)return ia;try{if(ia=typeof window<"u"&&window.localStorage!==null,!ia)return!1;const o="i18next.translate.boo";window.localStorage.setItem(o,"foo"),window.localStorage.removeItem(o)}catch{ia=!1}return ia};var yb={name:"localStorage",lookup(o){let{lookupLocalStorage:a}=o;if(a&&Tg())return window.localStorage.getItem(a)||void 0},cacheUserLanguage(o,a){let{lookupLocalStorage:l}=a;l&&Tg()&&window.localStorage.setItem(l,o)}};let aa=null;const Ag=()=>{if(aa!==null)return aa;try{if(aa=typeof window<"u"&&window.sessionStorage!==null,!aa)return!1;const o="i18next.translate.boo";window.sessionStorage.setItem(o,"foo"),window.sessionStorage.removeItem(o)}catch{aa=!1}return aa};var bb={name:"sessionStorage",lookup(o){let{lookupSessionStorage:a}=o;if(a&&Ag())return window.sessionStorage.getItem(a)||void 0},cacheUserLanguage(o,a){let{lookupSessionStorage:l}=a;l&&Ag()&&window.sessionStorage.setItem(l,o)}},Sb={name:"navigator",lookup(o){const a=[];if(typeof navigator<"u"){const{languages:l,userLanguage:i,language:s}=navigator;if(l)for(let c=0;c<l.length;c++)a.push(l[c]);i&&a.push(i),s&&a.push(s)}return a.length>0?a:void 0}},Eb={name:"htmlTag",lookup(o){let{htmlTag:a}=o,l;const i=a||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(l=i.getAttribute("lang")),l}},xb={name:"path",lookup(o){let{lookupFromPathIndex:a}=o;if(typeof window>"u")return;const l=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof a=="number"?a:0]?.replace("/",""):void 0}},_b={name:"subdomain",lookup(o){let{lookupFromSubdomainIndex:a}=o;const l=typeof a=="number"?a+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[l]}};let hp=!1;try{document.cookie,hp=!0}catch{}const gp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];hp||gp.splice(1,1);const wb=()=>({order:gp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:o=>o});class pp{constructor(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(a,l)}init(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=a,this.options=db(l,this.options||{},wb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(pb),this.addDetector(mb),this.addDetector(yb),this.addDetector(bb),this.addDetector(Sb),this.addDetector(Eb),this.addDetector(xb),this.addDetector(_b),this.addDetector(vb)}addDetector(a){return this.detectors[a.name]=a,this}detect(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,l=[];return a.forEach(i=>{if(this.detectors[i]){let s=this.detectors[i].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(l=l.concat(s))}}),l=l.filter(i=>i!=null&&!hb(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?l:l.length>0?l[0]:null}cacheUserLanguage(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;l&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(a)>-1||l.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(a,this.options)}))}}pp.type="languageDetector";const Tb="Digital Brain",Ab="Search nodes...",Cb="Filter by Kind",Rb="Filter by Cluster",Db="Filter by Project",Nb="Reset Filters",Lb="Depth Filter",Ob="1 (Direct)",zb="2 (Extended)",Mb="3 (Deep)",Gb="Legend",Ub="Connections",kb="No connections found.",jb="Similarity",Bb="Reason",Hb="Language",Fb={app_title:Tb,search_placeholder:Ab,filter_by_kind:Cb,filter_by_cluster:Rb,filter_by_project:Db,reset_filters:Nb,depth_filter:Lb,depth_1:Ob,depth_2:zb,depth_3:Mb,legend_title:Gb,connections_title:Ub,no_connections:kb,similarity_score:jb,reason:Bb,language:Hb},$b="Cerebro Digital",qb="Buscar nodos...",Yb="Filtrar por Tipo",Vb="Filtrar por Clster",Xb="Filtrar por Proyecto",Kb="Restablecer Filtros",Zb="Filtro de Profundidad",Qb="1 (Directo)",Jb="2 (Extendido)",Ib="3 (Profundo)",Pb="Leyenda",Wb="Conexiones",e0="No se encontraron conexiones.",t0="Similitud",n0="Razn",i0="Idioma",a0={app_title:$b,search_placeholder:qb,filter_by_kind:Yb,filter_by_cluster:Vb,filter_by_project:Xb,reset_filters:Kb,depth_filter:Zb,depth_1:Qb,depth_2:Jb,depth_3:Ib,legend_title:Pb,connections_title:Wb,no_connections:e0,similarity_score:t0,reason:n0,language:i0},r0="Cerveau Numrique",l0="Rechercher des nuds...",s0="Filtrer par Type",o0="Filtrer par Cluster",u0="Filtrer par Projet",c0="Rinitialiser les Filtres",f0="Filtre de Profondeur",d0="1 (Direct)",h0="2 (tendu)",g0="3 (Profond)",p0="Lgende",m0="Connexions",v0="Aucune connexion trouve.",y0="Similarit",b0="Raison",S0="Langue",E0={app_title:r0,search_placeholder:l0,filter_by_kind:s0,filter_by_cluster:o0,filter_by_project:u0,reset_filters:c0,depth_filter:f0,depth_1:d0,depth_2:h0,depth_3:g0,legend_title:p0,connections_title:m0,no_connections:v0,similarity_score:y0,reason:b0,language:S0},x0="Cervell Digital",_0="Cercar nodes...",w0="Filtrar per Tipus",T0="Filtrar per Clster",A0="Filtrar per Projecte",C0="Restablir Filtres",R0="Filtre de Profunditat",D0="1 (Directe)",N0="2 (Ests)",L0="3 (Profund)",O0="Llegenda",z0="Connexions",M0="No s'han trobat connexions.",G0="Similitud",U0="Ra",k0="Idioma",j0={app_title:x0,search_placeholder:_0,filter_by_kind:w0,filter_by_cluster:T0,filter_by_project:A0,reset_filters:C0,depth_filter:R0,depth_1:D0,depth_2:N0,depth_3:L0,legend_title:O0,connections_title:z0,no_connections:M0,similarity_score:G0,reason:U0,language:k0};ft.use(pp).use(tb).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:Fb},es:{translation:a0},fr:{translation:E0},ca:{translation:j0}}});var _u={exports:{}},sr={},wu={exports:{}},Tu={};var Cg;function B0(){return Cg||(Cg=1,(function(o){function a(N,V){var ee=N.length;N.push(V);e:for(;0<ee;){var ae=ee-1>>>1,fe=N[ae];if(0<s(fe,V))N[ae]=V,N[ee]=fe,ee=ae;else break e}}function l(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var V=N[0],ee=N.pop();if(ee!==V){N[0]=ee;e:for(var ae=0,fe=N.length,E=fe>>>1;ae<E;){var U=2*(ae+1)-1,Q=N[U],ne=U+1,de=N[ne];if(0>s(Q,ee))ne<fe&&0>s(de,Q)?(N[ae]=de,N[ne]=ee,ae=ne):(N[ae]=Q,N[U]=ee,ae=U);else if(ne<fe&&0>s(de,ee))N[ae]=de,N[ne]=ee,ae=ne;else break e}}return V}function s(N,V){var ee=N.sortIndex-V.sortIndex;return ee!==0?ee:N.id-V.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();o.unstable_now=function(){return d.now()-h}}var g=[],p=[],y=1,v=null,S=3,_=!1,w=!1,D=!1,H=!1,K=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function C(N){for(var V=l(p);V!==null;){if(V.callback===null)i(p);else if(V.startTime<=N)i(p),V.sortIndex=V.expirationTime,a(g,V);else break;V=l(p)}}function M(N){if(D=!1,C(N),!w)if(l(g)!==null)w=!0,B||(B=!0,te());else{var V=l(p);V!==null&&ye(M,V.startTime-N)}}var B=!1,G=-1,W=5,R=-1;function k(){return H?!0:!(o.unstable_now()-R<W)}function Z(){if(H=!1,B){var N=o.unstable_now();R=N;var V=!0;try{e:{w=!1,D&&(D=!1,$(G),G=-1),_=!0;var ee=S;try{t:{for(C(N),v=l(g);v!==null&&!(v.expirationTime>N&&k());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,S=v.priorityLevel;var fe=ae(v.expirationTime<=N);if(N=o.unstable_now(),typeof fe=="function"){v.callback=fe,C(N),V=!0;break t}v===l(g)&&i(g),C(N)}else i(g);v=l(g)}if(v!==null)V=!0;else{var E=l(p);E!==null&&ye(M,E.startTime-N),V=!1}}break e}finally{v=null,S=ee,_=!1}V=void 0}}finally{V?te():B=!1}}}var te;if(typeof q=="function")te=function(){q(Z)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,oe=ce.port2;ce.port1.onmessage=Z,te=function(){oe.postMessage(null)}}else te=function(){K(Z,0)};function ye(N,V){G=K(function(){N(o.unstable_now())},V)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(N){N.callback=null},o.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<N?Math.floor(1e3/N):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(N){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var ee=S;S=V;try{return N()}finally{S=ee}},o.unstable_requestPaint=function(){H=!0},o.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ee=S;S=N;try{return V()}finally{S=ee}},o.unstable_scheduleCallback=function(N,V,ee){var ae=o.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,N){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=ee+fe,N={id:y++,callback:V,priorityLevel:N,startTime:ee,expirationTime:fe,sortIndex:-1},ee>ae?(N.sortIndex=ee,a(p,N),l(g)===null&&N===l(p)&&(D?($(G),G=-1):D=!0,ye(M,ee-ae))):(N.sortIndex=fe,a(g,N),w||_||(w=!0,B||(B=!0,te()))),N},o.unstable_shouldYield=k,o.unstable_wrapCallback=function(N){var V=S;return function(){var ee=S;S=V;try{return N.apply(this,arguments)}finally{S=ee}}}})(Tu)),Tu}var Rg;function H0(){return Rg||(Rg=1,wu.exports=B0()),wu.exports}var Au={exports:{}},st={};var Dg;function F0(){if(Dg)return st;Dg=1;var o=Zl();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:g,containerInfo:p,implementation:y}}var d=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,st.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(g,p,null,y)},st.flushSync=function(g){var p=d.T,y=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=p,i.p=y,i.d.f()}},st.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},st.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},st.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:_}):y==="script"&&i.d.X(g,{crossOrigin:v,integrity:S,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},st.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},st.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(g,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},st.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},st.requestFormReset=function(g){i.d.r(g)},st.unstable_batchedUpdates=function(g,p){return g(p)},st.useFormState=function(g,p,y){return d.H.useFormState(g,p,y)},st.useFormStatus=function(){return d.H.useHostTransitionStatus()},st.version="19.2.0",st}var Ng;function $0(){if(Ng)return Au.exports;Ng=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),Au.exports=F0(),Au.exports}var Lg;function q0(){if(Lg)return sr;Lg=1;var o=H0(),a=Zl(),l=$0();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var u=n.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){n=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===n)return g(u),e;if(f===r)return g(u),t;f=f.sibling}throw Error(i(188))}if(n.return!==r.return)n=u,r=f;else{for(var m=!1,b=u.child;b;){if(b===n){m=!0,n=u,r=f;break}if(b===r){m=!0,r=u,n=f;break}b=b.sibling}if(!m){for(b=f.child;b;){if(b===n){m=!0,n=f,r=u;break}if(b===r){m=!0,r=f,n=u;break}b=b.sibling}if(!m)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case K:return"Profiler";case H:return"StrictMode";case M:return"Suspense";case B:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case q:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var ye=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],fe=-1;function E(e){return{current:e}}function U(e){0>fe||(e.current=ae[fe],ae[fe]=null,fe--)}function Q(e,t){fe++,ae[fe]=e.current,e.current=t}var ne=E(null),de=E(null),Ee=E(null),Ae=E(null);function Xe(e,t){switch(Q(Ee,t),Q(de,e),Q(ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Th(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Th(t),e=Ah(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(ne),Q(ne,e)}function He(){U(ne),U(de),U(Ee)}function Qt(e){e.memoizedState!==null&&Q(Ae,e);var t=ne.current,n=Ah(t,e.type);t!==n&&(Q(de,e),Q(ne,n))}function vi(e){de.current===e&&(U(ne),U(de)),Ae.current===e&&(U(Ae),tr._currentValue=ee)}var da,Pl;function Jt(e){if(da===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);da=t&&t[1]||"",Pl=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+e+Pl}var Wl=!1;function es(e,t){if(!e||Wl)return"";Wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var z=j}Reflect.construct(e,[],X)}else{try{X.call()}catch(j){z=j}e.call(X.prototype)}}else{try{throw Error()}catch(j){z=j}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),m=f[0],b=f[1];if(m&&b){var x=m.split(`
`),O=b.split(`
`);for(u=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;if(r===x.length||u===O.length)for(r=x.length-1,u=O.length-1;1<=r&&0<=u&&x[r]!==O[u];)u--;for(;1<=r&&0<=u;r--,u--)if(x[r]!==O[u]){if(r!==1||u!==1)do if(r--,u--,0>u||x[r]!==O[u]){var F=`
`+x[r].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=r&&0<=u);break}}}finally{Wl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Jt(n):""}function Pp(e,t){switch(e.tag){case 26:case 27:case 5:return Jt(e.type);case 16:return Jt("Lazy");case 13:return e.child!==t&&t!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return es(e.type,!1);case 11:return es(e.type.render,!1);case 1:return es(e.type,!0);case 31:return Jt("Activity");default:return""}}function tc(e){try{var t="",n=null;do t+=Pp(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ts=Object.prototype.hasOwnProperty,ns=o.unstable_scheduleCallback,is=o.unstable_cancelCallback,Wp=o.unstable_shouldYield,em=o.unstable_requestPaint,bt=o.unstable_now,tm=o.unstable_getCurrentPriorityLevel,nc=o.unstable_ImmediatePriority,ic=o.unstable_UserBlockingPriority,Sr=o.unstable_NormalPriority,nm=o.unstable_LowPriority,ac=o.unstable_IdlePriority,im=o.log,am=o.unstable_setDisableYieldValue,ha=null,St=null;function Tn(e){if(typeof im=="function"&&am(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ha,e)}catch{}}var Et=Math.clz32?Math.clz32:sm,rm=Math.log,lm=Math.LN2;function sm(e){return e>>>=0,e===0?32:31-(rm(e)/lm|0)|0}var Er=256,xr=262144,_r=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wr(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=r&134217727;return b!==0?(r=b&~f,r!==0?u=In(r):(m&=b,m!==0?u=In(m):n||(n=b&~e,n!==0&&(u=In(n))))):(b=r&~f,b!==0?u=In(b):m!==0?u=In(m):n||(n=r&~e,n!==0&&(u=In(n)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:u}function ga(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function om(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var e=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),e}function as(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function um(e,t,n,r,u,f){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,x=e.expirationTimes,O=e.hiddenUpdates;for(n=m&~n;0<n;){var F=31-Et(n),X=1<<F;b[F]=0,x[F]=-1;var z=O[F];if(z!==null)for(O[F]=null,F=0;F<z.length;F++){var j=z[F];j!==null&&(j.lane&=-536870913)}n&=~X}r!==0&&lc(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~t))}function lc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Et(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function sc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Et(n),u=1<<r;u&t|e[r]&t&&(e[r]|=t),n&=~u}}function oc(e,t){var n=t&-t;return n=(n&42)!==0?1:rs(n),(n&(e.suspendedLanes|t))!==0?0:n}function rs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ls(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uc(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Qh(e.type))}function cc(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var An=Math.random().toString(36).slice(2),tt="__reactFiber$"+An,dt="__reactProps$"+An,yi="__reactContainer$"+An,ss="__reactEvents$"+An,cm="__reactListeners$"+An,fm="__reactHandles$"+An,fc="__reactResources$"+An,ma="__reactMarker$"+An;function os(e){delete e[tt],delete e[dt],delete e[ss],delete e[cm],delete e[fm]}function bi(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zh(e);e!==null;){if(n=e[tt])return n;e=zh(e)}return t}e=n,n=e.parentNode}return null}function Si(e){if(e=e[tt]||e[yi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function va(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ei(e){var t=e[fc];return t||(t=e[fc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ma]=!0}var dc=new Set,hc={};function Pn(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(hc[e]=t,e=0;e<t.length;e++)dc.add(t[e])}var dm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},pc={};function hm(e){return ts.call(pc,e)?!0:ts.call(gc,e)?!1:dm.test(e)?pc[e]=!0:(gc[e]=!0,!1)}function Tr(e,t,n){if(hm(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ar(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gm(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){n=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){if(!e._valueTracker){var t=mc(e)?"checked":"value";e._valueTracker=gm(e,t,""+e[t])}}function vc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pm=/[\n"\\]/g;function Nt(e){return e.replace(pm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cs(e,t,n,r,u,f,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?fs(e,m,Dt(t)):n!=null?fs(e,m,Dt(n)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Dt(b):e.removeAttribute("name")}function yc(e,t,n,r,u,f,m,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){us(e);return}n=n!=null?""+Dt(n):"",t=t!=null?""+Dt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=b?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),us(e)}function fs(e,t,n){t==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _i(e,t,n,r){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function bc(e,t,n){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Dt(n):""}function Sc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ye(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Dt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),us(e)}function wi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||mm.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function xc(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&n[u]!==r&&Ec(e,u,r)}else for(var f in t)t.hasOwnProperty(f)&&Ec(e,f,t[f])}function ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ym=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(e){return ym.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var hs=null;function gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function _c(e){var t=Si(e);if(t&&(e=t.stateNode)){var n=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(cs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var u=r[dt]||null;if(!u)throw Error(i(90));cs(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&vc(r)}break e;case"textarea":bc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}}}var ps=!1;function wc(e,t,n){if(ps)return e(t,n);ps=!0;try{var r=e(t);return r}finally{if(ps=!1,(Ti!==null||Ai!==null)&&(pl(),Ti&&(t=Ti,e=Ai,Ai=Ti=null,_c(t),e)))for(t=0;t<e.length;t++)_c(e[t])}}function ya(e,t){var n=e.stateNode;if(n===null)return null;var r=n[dt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(rn)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){ms=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{ms=!1}var Cn=null,vs=null,Dr=null;function Tc(){if(Dr)return Dr;var e,t=vs,n=t.length,r,u="value"in Cn?Cn.value:Cn.textContent,f=u.length;for(e=0;e<n&&t[e]===u[e];e++);var m=n-e;for(r=1;r<=m&&t[n-r]===u[f-r];r++);return Dr=u.slice(e,1<r?1-r:void 0)}function Nr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lr(){return!0}function Ac(){return!1}function ht(e){function t(n,r,u,f,m){this._reactName=n,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Lr:Ac,this.isPropagationStopped=Ac,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=ht(Wn),Sa=v({},Wn,{view:0,detail:0}),bm=ht(Sa),ys,bs,Ea,zr=v({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(ys=e.screenX-Ea.screenX,bs=e.screenY-Ea.screenY):bs=ys=0,Ea=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),Cc=ht(zr),Sm=v({},zr,{dataTransfer:0}),Em=ht(Sm),xm=v({},Sa,{relatedTarget:0}),Ss=ht(xm),_m=v({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=ht(_m),Tm=v({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Am=ht(Tm),Cm=v({},Wn,{data:0}),Rc=ht(Cm),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nm[e])?!!t[e]:!1}function Es(){return Lm}var Om=v({},Sa,{key:function(e){if(e.key){var t=Rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zm=ht(Om),Mm=v({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=ht(Mm),Gm=v({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Um=ht(Gm),km=v({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),jm=ht(km),Bm=v({},zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=ht(Bm),Fm=v({},Wn,{newState:0,oldState:0}),$m=ht(Fm),qm=[9,13,27,32],xs=rn&&"CompositionEvent"in window,xa=null;rn&&"documentMode"in document&&(xa=document.documentMode);var Ym=rn&&"TextEvent"in window&&!xa,Nc=rn&&(!xs||xa&&8<xa&&11>=xa),Lc=" ",Oc=!1;function zc(e,t){switch(e){case"keyup":return qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function Vm(e,t){switch(e){case"compositionend":return Mc(t);case"keypress":return t.which!==32?null:(Oc=!0,Lc);case"textInput":return e=t.data,e===Lc&&Oc?null:e;default:return null}}function Xm(e,t){if(Ci)return e==="compositionend"||!xs&&zc(e,t)?(e=Tc(),Dr=vs=Cn=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nc&&t.locale!=="ko"?null:t.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Km[e.type]:t==="textarea"}function Uc(e,t,n,r){Ti?Ai?Ai.push(r):Ai=[r]:Ti=r,t=xl(t,"onChange"),0<t.length&&(n=new Or("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _a=null,wa=null;function Zm(e){bh(e,0)}function Mr(e){var t=va(e);if(vc(t))return e}function kc(e,t){if(e==="change")return t}var jc=!1;if(rn){var _s;if(rn){var ws="oninput"in document;if(!ws){var Bc=document.createElement("div");Bc.setAttribute("oninput","return;"),ws=typeof Bc.oninput=="function"}_s=ws}else _s=!1;jc=_s&&(!document.documentMode||9<document.documentMode)}function Hc(){_a&&(_a.detachEvent("onpropertychange",Fc),wa=_a=null)}function Fc(e){if(e.propertyName==="value"&&Mr(wa)){var t=[];Uc(t,wa,e,gs(e)),wc(Zm,t)}}function Qm(e,t,n){e==="focusin"?(Hc(),_a=t,wa=n,_a.attachEvent("onpropertychange",Fc)):e==="focusout"&&Hc()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mr(wa)}function Im(e,t){if(e==="click")return Mr(t)}function Pm(e,t){if(e==="input"||e==="change")return Mr(t)}function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Wm;function Ta(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var u=n[r];if(!ts.call(t,u)||!xt(e[u],t[u]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var n=$c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$c(n)}}function Yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cr(e.document)}return t}function Ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ev=rn&&"documentMode"in document&&11>=document.documentMode,Ri=null,As=null,Aa=null,Cs=!1;function Xc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cs||Ri==null||Ri!==Cr(r)||(r=Ri,"selectionStart"in r&&Ts(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&Ta(Aa,r)||(Aa=r,r=xl(As,"onSelect"),0<r.length&&(t=new Or("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ri)))}function ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Di={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},Rs={},Kc={};rn&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function ti(e){if(Rs[e])return Rs[e];if(!Di[e])return e;var t=Di[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kc)return Rs[e]=t[n];return e}var Zc=ti("animationend"),Qc=ti("animationiteration"),Jc=ti("animationstart"),tv=ti("transitionrun"),nv=ti("transitionstart"),iv=ti("transitioncancel"),Ic=ti("transitionend"),Pc=new Map,Ds="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ds.push("scrollEnd");function qt(e,t){Pc.set(e,t),Pn(t,[e])}var Gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Ni=0,Ns=0;function Ur(){for(var e=Ni,t=Ns=Ni=0;t<e;){var n=Lt[t];Lt[t++]=null;var r=Lt[t];Lt[t++]=null;var u=Lt[t];Lt[t++]=null;var f=Lt[t];if(Lt[t++]=null,r!==null&&u!==null){var m=r.pending;m===null?u.next=u:(u.next=m.next,m.next=u),r.pending=u}f!==0&&Wc(n,u,f)}}function kr(e,t,n,r){Lt[Ni++]=e,Lt[Ni++]=t,Lt[Ni++]=n,Lt[Ni++]=r,Ns|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Ls(e,t,n,r){return kr(e,t,n,r),jr(e)}function ni(e,t){return kr(e,null,null,t),jr(e)}function Wc(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var u=!1,f=e.return;f!==null;)f.childLanes|=n,r=f.alternate,r!==null&&(r.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-Et(n),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=n|536870912),f):null}function jr(e){if(50<Za)throw Za=0,Fo=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Li={};function av(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new av(e,t,n,r)}function Os(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ef(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,u,f){var m=0;if(r=e,typeof e=="function")Os(e)&&(m=1);else if(typeof e=="string")m=uy(e,n,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case R:return e=_t(31,n,t,u),e.elementType=R,e.lanes=f,e;case D:return ii(n.children,u,f,t);case H:m=8,u|=24;break;case K:return e=_t(12,n,t,u|2),e.elementType=K,e.lanes=f,e;case M:return e=_t(13,n,t,u),e.elementType=M,e.lanes=f,e;case B:return e=_t(19,n,t,u),e.elementType=B,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:m=10;break e;case $:m=9;break e;case C:m=11;break e;case G:m=14;break e;case W:m=16,r=null;break e}m=29,n=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=_t(m,n,t,u),t.elementType=e,t.type=r,t.lanes=f,t}function ii(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function zs(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function tf(e){var t=_t(18,null,null,0);return t.stateNode=e,t}function Ms(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var nf=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var n=nf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:tc(t)},nf.set(e,t),t)}return{value:e,source:t,stack:tc(t)}}var Oi=[],zi=0,Hr=null,Ca=0,zt=[],Mt=0,Rn=null,It=1,Pt="";function sn(e,t){Oi[zi++]=Ca,Oi[zi++]=Hr,Hr=e,Ca=t}function af(e,t,n){zt[Mt++]=It,zt[Mt++]=Pt,zt[Mt++]=Rn,Rn=e;var r=It;e=Pt;var u=32-Et(r)-1;r&=~(1<<u),n+=1;var f=32-Et(t)+u;if(30<f){var m=u-u%5;f=(r&(1<<m)-1).toString(32),r>>=m,u-=m,It=1<<32-Et(t)+u|n<<u|r,Pt=f+e}else It=1<<f|n<<u|r,Pt=e}function Gs(e){e.return!==null&&(sn(e,1),af(e,1,0))}function Us(e){for(;e===Hr;)Hr=Oi[--zi],Oi[zi]=null,Ca=Oi[--zi],Oi[zi]=null;for(;e===Rn;)Rn=zt[--Mt],zt[Mt]=null,Pt=zt[--Mt],zt[Mt]=null,It=zt[--Mt],zt[Mt]=null}function rf(e,t){zt[Mt++]=It,zt[Mt++]=Pt,zt[Mt++]=Rn,It=t.id,Pt=t.overflow,Rn=e}var nt=null,je=null,Ce=!1,Dn=null,Gt=!1,ks=Error(i(519));function Nn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ra(Ot(t,e)),ks}function lf(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[tt]=e,t[dt]=r,n){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(n=0;n<Ja.length;n++)_e(Ja[n],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),yc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Sc(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||_h(t.textContent,n)?(r.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),r.onScroll!=null&&_e("scroll",t),r.onScrollEnd!=null&&_e("scrollend",t),r.onClick!=null&&(t.onclick=an),t=!0):t=!1,t||Nn(e,!0)}function sf(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:nt=nt.return}}function Mi(e){if(e!==nt)return!1;if(!Ce)return sf(e),Ce=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nu(e.type,e.memoizedProps)),n=!n),n&&je&&Nn(e),sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));je=Oh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));je=Oh(e)}else t===27?(t=je,Yn(e.type)?(e=su,su=null,je=e):je=t):je=nt?kt(e.stateNode.nextSibling):null;return!0}function ai(){je=nt=null,Ce=!1}function js(){var e=Dn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Dn=null),e}function Ra(e){Dn===null?Dn=[e]:Dn.push(e)}var Bs=E(null),ri=null,on=null;function Ln(e,t,n){Q(Bs,t._currentValue),t._currentValue=n}function un(e){e._currentValue=Bs.current,U(Bs)}function Hs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t,n,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var m=u.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=u;for(var x=0;x<t.length;x++)if(b.context===t[x]){f.lanes|=n,b=f.alternate,b!==null&&(b.lanes|=n),Hs(f.return,n,e),r||(m=null);break e}f=b.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=n,f=m.alternate,f!==null&&(f.lanes|=n),Hs(m,n,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function Gi(e,t,n,r){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var b=u.type;xt(u.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(u===Ae.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(tr):e=[tr])}u=u.return}e!==null&&Fs(t,e,n,r),t.flags|=262144}function Fr(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function li(e){ri=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return of(ri,e)}function $r(e,t){return ri===null&&li(e),of(e,t)}function of(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},on===null){if(e===null)throw Error(i(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return n}var rv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},lv=o.unstable_scheduleCallback,sv=o.unstable_NormalPriority,Ke={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $s(){return{controller:new rv,data:new Map,refCount:0}}function Da(e){e.refCount--,e.refCount===0&&lv(sv,function(){e.controller.abort()})}var Na=null,qs=0,Ui=0,ki=null;function ov(e,t){if(Na===null){var n=Na=[];qs=0,Ui=Ko(),ki={status:"pending",value:void 0,then:function(r){n.push(r)}}}return qs++,t.then(uf,uf),t}function uf(){if(--qs===0&&Na!==null){ki!==null&&(ki.status="fulfilled");var e=Na;Na=null,Ui=0,ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function uv(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),r}var cf=N.S;N.S=function(e,t){Kd=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ov(e,t),cf!==null&&cf(e,t)};var si=E(null);function Ys(){var e=si.current;return e!==null?e:ke.pooledCache}function qr(e,t){t===null?Q(si,si.current):Q(si,t.pool)}function ff(){var e=Ys();return e===null?null:{parent:Ke._currentValue,pool:e}}var ji=Error(i(460)),Vs=Error(i(474)),Yr=Error(i(542)),Vr={then:function(){}};function df(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(an,an),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e;default:if(typeof t.status=="string")t.then(an,an);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,pf(e),e}throw ui=t,ji}}function oi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ui=n,ji):n}}var ui=null;function gf(){if(ui===null)throw Error(i(459));var e=ui;return ui=null,e}function pf(e){if(e===ji||e===Yr)throw Error(i(483))}var Bi=null,La=0;function Xr(e){var t=La;return La+=1,Bi===null&&(Bi=[]),hf(Bi,e,t)}function Oa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kr(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function mf(e){function t(A,T){if(e){var L=A.deletions;L===null?(A.deletions=[T],A.flags|=16):L.push(T)}}function n(A,T){if(!e)return null;for(;T!==null;)t(A,T),T=T.sibling;return null}function r(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function u(A,T){return A=ln(A,T),A.index=0,A.sibling=null,A}function f(A,T,L){return A.index=L,e?(L=A.alternate,L!==null?(L=L.index,L<T?(A.flags|=67108866,T):L):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function m(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function b(A,T,L,Y){return T===null||T.tag!==6?(T=zs(L,A.mode,Y),T.return=A,T):(T=u(T,L),T.return=A,T)}function x(A,T,L,Y){var ue=L.type;return ue===D?F(A,T,L.props.children,Y,L.key):T!==null&&(T.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===W&&oi(ue)===T.type)?(T=u(T,L.props),Oa(T,L),T.return=A,T):(T=Br(L.type,L.key,L.props,null,A.mode,Y),Oa(T,L),T.return=A,T)}function O(A,T,L,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==L.containerInfo||T.stateNode.implementation!==L.implementation?(T=Ms(L,A.mode,Y),T.return=A,T):(T=u(T,L.children||[]),T.return=A,T)}function F(A,T,L,Y,ue){return T===null||T.tag!==7?(T=ii(L,A.mode,Y,ue),T.return=A,T):(T=u(T,L),T.return=A,T)}function X(A,T,L){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=zs(""+T,A.mode,L),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _:return L=Br(T.type,T.key,T.props,null,A.mode,L),Oa(L,T),L.return=A,L;case w:return T=Ms(T,A.mode,L),T.return=A,T;case W:return T=oi(T),X(A,T,L)}if(ye(T)||te(T))return T=ii(T,A.mode,L,null),T.return=A,T;if(typeof T.then=="function")return X(A,Xr(T),L);if(T.$$typeof===q)return X(A,$r(A,T),L);Kr(A,T)}return null}function z(A,T,L,Y){var ue=T!==null?T.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:b(A,T,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===ue?x(A,T,L,Y):null;case w:return L.key===ue?O(A,T,L,Y):null;case W:return L=oi(L),z(A,T,L,Y)}if(ye(L)||te(L))return ue!==null?null:F(A,T,L,Y,null);if(typeof L.then=="function")return z(A,T,Xr(L),Y);if(L.$$typeof===q)return z(A,T,$r(A,L),Y);Kr(A,L)}return null}function j(A,T,L,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return A=A.get(L)||null,b(T,A,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return A=A.get(Y.key===null?L:Y.key)||null,x(T,A,Y,ue);case w:return A=A.get(Y.key===null?L:Y.key)||null,O(T,A,Y,ue);case W:return Y=oi(Y),j(A,T,L,Y,ue)}if(ye(Y)||te(Y))return A=A.get(L)||null,F(T,A,Y,ue,null);if(typeof Y.then=="function")return j(A,T,L,Xr(Y),ue);if(Y.$$typeof===q)return j(A,T,L,$r(T,Y),ue);Kr(T,Y)}return null}function re(A,T,L,Y){for(var ue=null,Re=null,le=T,Se=T=0,Te=null;le!==null&&Se<L.length;Se++){le.index>Se?(Te=le,le=null):Te=le.sibling;var De=z(A,le,L[Se],Y);if(De===null){le===null&&(le=Te);break}e&&le&&De.alternate===null&&t(A,le),T=f(De,T,Se),Re===null?ue=De:Re.sibling=De,Re=De,le=Te}if(Se===L.length)return n(A,le),Ce&&sn(A,Se),ue;if(le===null){for(;Se<L.length;Se++)le=X(A,L[Se],Y),le!==null&&(T=f(le,T,Se),Re===null?ue=le:Re.sibling=le,Re=le);return Ce&&sn(A,Se),ue}for(le=r(le);Se<L.length;Se++)Te=j(le,A,Se,L[Se],Y),Te!==null&&(e&&Te.alternate!==null&&le.delete(Te.key===null?Se:Te.key),T=f(Te,T,Se),Re===null?ue=Te:Re.sibling=Te,Re=Te);return e&&le.forEach(function(Qn){return t(A,Qn)}),Ce&&sn(A,Se),ue}function he(A,T,L,Y){if(L==null)throw Error(i(151));for(var ue=null,Re=null,le=T,Se=T=0,Te=null,De=L.next();le!==null&&!De.done;Se++,De=L.next()){le.index>Se?(Te=le,le=null):Te=le.sibling;var Qn=z(A,le,De.value,Y);if(Qn===null){le===null&&(le=Te);break}e&&le&&Qn.alternate===null&&t(A,le),T=f(Qn,T,Se),Re===null?ue=Qn:Re.sibling=Qn,Re=Qn,le=Te}if(De.done)return n(A,le),Ce&&sn(A,Se),ue;if(le===null){for(;!De.done;Se++,De=L.next())De=X(A,De.value,Y),De!==null&&(T=f(De,T,Se),Re===null?ue=De:Re.sibling=De,Re=De);return Ce&&sn(A,Se),ue}for(le=r(le);!De.done;Se++,De=L.next())De=j(le,A,Se,De.value,Y),De!==null&&(e&&De.alternate!==null&&le.delete(De.key===null?Se:De.key),T=f(De,T,Se),Re===null?ue=De:Re.sibling=De,Re=De);return e&&le.forEach(function(Sy){return t(A,Sy)}),Ce&&sn(A,Se),ue}function Ge(A,T,L,Y){if(typeof L=="object"&&L!==null&&L.type===D&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var ue=L.key;T!==null;){if(T.key===ue){if(ue=L.type,ue===D){if(T.tag===7){n(A,T.sibling),Y=u(T,L.props.children),Y.return=A,A=Y;break e}}else if(T.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===W&&oi(ue)===T.type){n(A,T.sibling),Y=u(T,L.props),Oa(Y,L),Y.return=A,A=Y;break e}n(A,T);break}else t(A,T);T=T.sibling}L.type===D?(Y=ii(L.props.children,A.mode,Y,L.key),Y.return=A,A=Y):(Y=Br(L.type,L.key,L.props,null,A.mode,Y),Oa(Y,L),Y.return=A,A=Y)}return m(A);case w:e:{for(ue=L.key;T!==null;){if(T.key===ue)if(T.tag===4&&T.stateNode.containerInfo===L.containerInfo&&T.stateNode.implementation===L.implementation){n(A,T.sibling),Y=u(T,L.children||[]),Y.return=A,A=Y;break e}else{n(A,T);break}else t(A,T);T=T.sibling}Y=Ms(L,A.mode,Y),Y.return=A,A=Y}return m(A);case W:return L=oi(L),Ge(A,T,L,Y)}if(ye(L))return re(A,T,L,Y);if(te(L)){if(ue=te(L),typeof ue!="function")throw Error(i(150));return L=ue.call(L),he(A,T,L,Y)}if(typeof L.then=="function")return Ge(A,T,Xr(L),Y);if(L.$$typeof===q)return Ge(A,T,$r(A,L),Y);Kr(A,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,T!==null&&T.tag===6?(n(A,T.sibling),Y=u(T,L),Y.return=A,A=Y):(n(A,T),Y=zs(L,A.mode,Y),Y.return=A,A=Y),m(A)):n(A,T)}return function(A,T,L,Y){try{La=0;var ue=Ge(A,T,L,Y);return Bi=null,ue}catch(le){if(le===ji||le===Yr)throw le;var Re=_t(29,le,null,A.mode);return Re.lanes=Y,Re.return=A,Re}finally{}}}var ci=mf(!0),vf=mf(!1),On=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ne&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=jr(e),Wc(e,null,n),t}return kr(e,r,t,n),jr(e)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sc(e,n)}}function Zs(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var u=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?u=f=m:f=f.next=m,n=n.next}while(n!==null);f===null?u=f=t:f=f.next=t}else u=f=t;n={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Qs=!1;function Ma(){if(Qs){var e=ki;if(e!==null)throw e}}function Ga(e,t,n,r){Qs=!1;var u=e.updateQueue;On=!1;var f=u.firstBaseUpdate,m=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var x=b,O=x.next;x.next=null,m===null?f=O:m.next=O,m=x;var F=e.alternate;F!==null&&(F=F.updateQueue,b=F.lastBaseUpdate,b!==m&&(b===null?F.firstBaseUpdate=O:b.next=O,F.lastBaseUpdate=x))}if(f!==null){var X=u.baseState;m=0,F=O=x=null,b=f;do{var z=b.lane&-536870913,j=z!==b.lane;if(j?(we&z)===z:(r&z)===z){z!==0&&z===Ui&&(Qs=!0),F!==null&&(F=F.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var re=e,he=b;z=t;var Ge=n;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){X=re.call(Ge,X,z);break e}X=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,z=typeof re=="function"?re.call(Ge,X,z):re,z==null)break e;X=v({},X,z);break e;case 2:On=!0}}z=b.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=u.callbacks,j===null?u.callbacks=[z]:j.push(z))}else j={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},F===null?(O=F=j,x=X):F=F.next=j,m|=z;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;j=b,b=j.next,j.next=null,u.lastBaseUpdate=j,u.shared.pending=null}}while(!0);F===null&&(x=X),u.baseState=x,u.firstBaseUpdate=O,u.lastBaseUpdate=F,f===null&&(u.shared.lanes=0),Bn|=m,e.lanes=m,e.memoizedState=X}}function yf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function bf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)yf(n[e],t)}var Hi=E(null),Zr=E(0);function Sf(e,t){e=yn,Q(Zr,e),Q(Hi,t),yn=e|t.baseLanes}function Js(){Q(Zr,yn),Q(Hi,Hi.current)}function Is(){yn=Zr.current,U(Hi),U(Zr)}var wt=E(null),Ut=null;function Gn(e){var t=e.alternate;Q(Ye,Ye.current&1),Q(wt,e),Ut===null&&(t===null||Hi.current!==null||t.memoizedState!==null)&&(Ut=e)}function Ps(e){Q(Ye,Ye.current),Q(wt,e),Ut===null&&(Ut=e)}function Ef(e){e.tag===22?(Q(Ye,Ye.current),Q(wt,e),Ut===null&&(Ut=e)):Un()}function Un(){Q(Ye,Ye.current),Q(wt,wt.current)}function Tt(e){U(wt),Ut===e&&(Ut=null),U(Ye)}var Ye=E(0);function Qr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ru(n)||lu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cn=0,be=null,ze=null,Ze=null,Jr=!1,Fi=!1,fi=!1,Ir=0,Ua=0,$i=null,cv=0;function $e(){throw Error(i(321))}function Ws(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,u,f){return cn=f,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?ad:mo,fi=!1,f=n(r,u),fi=!1,Fi&&(f=_f(t,n,r,u)),xf(e),f}function xf(e){N.H=Ba;var t=ze!==null&&ze.next!==null;if(cn=0,Ze=ze=be=null,Jr=!1,Ua=0,$i=null,t)throw Error(i(300));e===null||Qe||(e=e.dependencies,e!==null&&Fr(e)&&(Qe=!0))}function _f(e,t,n,r){be=e;var u=0;do{if(Fi&&($i=null),Ua=0,Fi=!1,25<=u)throw Error(i(301));if(u+=1,Ze=ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}N.H=rd,f=t(n,r)}while(Fi);return f}function fv(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?ka(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(be.flags|=1024),t}function to(){var e=Ir!==0;return Ir=0,e}function no(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function io(e){if(Jr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Jr=!1}cn=0,Ze=ze=be=null,Fi=!1,Ua=Ir=0,$i=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?be.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Ve(){if(ze===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Ze===null?be.memoizedState:Ze.next;if(t!==null)Ze=t,ze=e;else{if(e===null)throw be.alternate===null?Error(i(467)):Error(i(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ze===null?be.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Pr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ka(e){var t=Ua;return Ua+=1,$i===null&&($i=[]),e=hf($i,e,t),t=be,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?ad:mo),e}function Wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ka(e);if(e.$$typeof===q)return it(e)}throw Error(i(438,String(e)))}function ao(e){var t=null,n=be.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=be.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Pr(),be.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function fn(e,t){return typeof t=="function"?t(e):t}function el(e){var t=Ve();return ro(t,ze,e)}function ro(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var m=u.next;u.next=f.next,f.next=m}t.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var b=m=null,x=null,O=t,F=!1;do{var X=O.lane&-536870913;if(X!==O.lane?(we&X)===X:(cn&X)===X){var z=O.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),X===Ui&&(F=!0);else if((cn&z)===z){O=O.next,z===Ui&&(F=!0);continue}else X={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(b=x=X,m=f):x=x.next=X,be.lanes|=z,Bn|=z;X=O.action,fi&&n(f,X),f=O.hasEagerState?O.eagerState:n(f,X)}else z={lane:X,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(b=x=z,m=f):x=x.next=z,be.lanes|=X,Bn|=X;O=O.next}while(O!==null&&O!==t);if(x===null?m=f:x.next=b,!xt(f,e.memoizedState)&&(Qe=!0,F&&(n=ki,n!==null)))throw n;e.memoizedState=f,e.baseState=m,e.baseQueue=x,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function lo(e){var t=Ve(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,u=n.pending,f=t.memoizedState;if(u!==null){n.pending=null;var m=u=u.next;do f=e(f,m.action),m=m.next;while(m!==u);xt(f,t.memoizedState)||(Qe=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,r]}function wf(e,t,n){var r=be,u=Ve(),f=Ce;if(f){if(n===void 0)throw Error(i(407));n=n()}else n=t();var m=!xt((ze||u).memoizedState,n);if(m&&(u.memoizedState=n,Qe=!0),u=u.queue,uo(Cf.bind(null,r,u,e),[e]),u.getSnapshot!==t||m||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,qi(9,{destroy:void 0},Af.bind(null,r,u,n,t),null),ke===null)throw Error(i(349));f||(cn&127)!==0||Tf(r,t,n)}return n}function Tf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t=Pr(),be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Af(e,t,n,r){t.value=n,t.getSnapshot=r,Rf(t)&&Df(e)}function Cf(e,t,n){return n(function(){Rf(t)&&Df(e)})}function Rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Df(e){var t=ni(e,2);t!==null&&yt(t,e,2)}function so(e){var t=ct();if(typeof e=="function"){var n=e;if(e=n(),fi){Tn(!0);try{n()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function Nf(e,t,n,r){return e.baseState=n,ro(e,ze,typeof r=="function"?r:fn)}function dv(e,t,n,r,u){if(il(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};N.T!==null?n(!0):f.isTransition=!1,r(f),n=t.pending,n===null?(f.next=t.pending=f,Lf(t,f)):(f.next=n.next,t.pending=n.next=f)}}function Lf(e,t){var n=t.action,r=t.payload,u=e.state;if(t.isTransition){var f=N.T,m={};N.T=m;try{var b=n(u,r),x=N.S;x!==null&&x(m,b),Of(e,t,b)}catch(O){oo(e,t,O)}finally{f!==null&&m.types!==null&&(f.types=m.types),N.T=f}}else try{f=n(u,r),Of(e,t,f)}catch(O){oo(e,t,O)}}function Of(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){zf(e,t,r)},function(r){return oo(e,t,r)}):zf(e,t,n)}function zf(e,t,n){t.status="fulfilled",t.value=n,Mf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lf(e,n)))}function oo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Mf(t),t=t.next;while(t!==r)}e.action=null}function Mf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gf(e,t){return t}function Uf(e,t){if(Ce){var n=ke.formState;if(n!==null){e:{var r=be;if(Ce){if(je){t:{for(var u=je,f=Gt;u.nodeType!==8;){if(!f){u=null;break t}if(u=kt(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){je=kt(u.nextSibling),r=u.data==="F!";break e}}Nn(r)}r=!1}r&&(t=n[0])}}return n=ct(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gf,lastRenderedState:t},n.queue=r,n=td.bind(null,be,r),r.dispatch=n,r=so(!1),f=po.bind(null,be,!1,r.queue),r=ct(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,n=dv.bind(null,be,u,f,n),u.dispatch=n,r.memoizedState=e,[t,n,!1]}function kf(e){var t=Ve();return jf(t,ze,e)}function jf(e,t,n){if(t=ro(e,t,Gf)[0],e=el(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ka(t)}catch(m){throw m===ji?Yr:m}else r=t;t=Ve();var u=t.queue,f=u.dispatch;return n!==t.memoizedState&&(be.flags|=2048,qi(9,{destroy:void 0},hv.bind(null,u,n),null)),[r,f,e]}function hv(e,t){e.action=t}function Bf(e){var t=Ve(),n=ze;if(n!==null)return jf(t,n,e);Ve(),t=t.memoizedState,n=Ve();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function qi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=be.updateQueue,t===null&&(t=Pr(),be.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Hf(){return Ve().memoizedState}function tl(e,t,n,r){var u=ct();be.flags|=e,u.memoizedState=qi(1|t,{destroy:void 0},n,r===void 0?null:r)}function nl(e,t,n,r){var u=Ve();r=r===void 0?null:r;var f=u.memoizedState.inst;ze!==null&&r!==null&&Ws(r,ze.memoizedState.deps)?u.memoizedState=qi(t,f,n,r):(be.flags|=e,u.memoizedState=qi(1|t,f,n,r))}function Ff(e,t){tl(8390656,8,e,t)}function uo(e,t){nl(2048,8,e,t)}function gv(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=Pr(),be.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function $f(e){var t=Ve().memoizedState;return gv({ref:t,nextImpl:e}),function(){if((Ne&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function qf(e,t){return nl(4,2,e,t)}function Yf(e,t){return nl(4,4,e,t)}function Vf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xf(e,t,n){n=n!=null?n.concat([e]):null,nl(4,4,Vf.bind(null,t,e),n)}function co(){}function Kf(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Ws(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zf(e,t){var n=Ve();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Ws(t,r[1]))return r[0];if(r=e(),fi){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[r,t],r}function fo(e,t,n){return n===void 0||(cn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Qd(),be.lanes|=e,Bn|=e,n)}function Qf(e,t,n,r){return xt(n,t)?n:Hi.current!==null?(e=fo(e,n,r),xt(e,t)||(Qe=!0),e):(cn&42)===0||(cn&1073741824)!==0&&(we&261930)===0?(Qe=!0,e.memoizedState=n):(e=Qd(),be.lanes|=e,Bn|=e,t)}function Jf(e,t,n,r,u){var f=V.p;V.p=f!==0&&8>f?f:8;var m=N.T,b={};N.T=b,po(e,!1,t,n);try{var x=u(),O=N.S;if(O!==null&&O(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var F=uv(x,r);ja(e,t,F,Rt(e))}else ja(e,t,r,Rt(e))}catch(X){ja(e,t,{then:function(){},status:"rejected",reason:X},Rt())}finally{V.p=f,m!==null&&b.types!==null&&(m.types=b.types),N.T=m}}function pv(){}function ho(e,t,n,r){if(e.tag!==5)throw Error(i(476));var u=If(e).queue;Jf(e,u,t,ee,n===null?pv:function(){return Pf(e),n(r)})}function If(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=If(e);t.next===null&&(t=e.alternate.memoizedState),ja(e,t.next.queue,{},Rt())}function go(){return it(tr)}function Wf(){return Ve().memoizedState}function ed(){return Ve().memoizedState}function mv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=zn(n);var r=Mn(t,e,n);r!==null&&(yt(r,t,n),za(r,t,n)),t={cache:$s()},e.payload=t;return}t=t.return}}function vv(e,t,n){var r=Rt();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},il(e)?nd(t,n):(n=Ls(e,t,n,r),n!==null&&(yt(n,e,r),id(n,t,r)))}function td(e,t,n){var r=Rt();ja(e,t,n,r)}function ja(e,t,n,r){var u={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(il(e))nd(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,b=f(m,n);if(u.hasEagerState=!0,u.eagerState=b,xt(b,m))return kr(e,t,u,0),ke===null&&Ur(),!1}catch{}finally{}if(n=Ls(e,t,u,r),n!==null)return yt(n,e,r),id(n,t,r),!0}return!1}function po(e,t,n,r){if(r={lane:2,revertLane:Ko(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},il(e)){if(t)throw Error(i(479))}else t=Ls(e,n,r,2),t!==null&&yt(t,e,2)}function il(e){var t=e.alternate;return e===be||t!==null&&t===be}function nd(e,t){Fi=Jr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function id(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sc(e,n)}}var Ba={readContext:it,use:Wr,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e};Ba.useEffectEvent=$e;var ad={readContext:it,use:Wr,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Ff,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,tl(4194308,4,Vf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){tl(4,2,e,t)},useMemo:function(e,t){var n=ct();t=t===void 0?null:t;var r=e();if(fi){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ct();if(n!==void 0){var u=n(t);if(fi){Tn(!0);try{n(t)}finally{Tn(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=vv.bind(null,be,e),[r.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=so(e);var t=e.queue,n=td.bind(null,be,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:co,useDeferredValue:function(e,t){var n=ct();return fo(n,e,t)},useTransition:function(){var e=so(!1);return e=Jf.bind(null,be,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=be,u=ct();if(Ce){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ke===null)throw Error(i(349));(we&127)!==0||Tf(r,t,n)}u.memoizedState=n;var f={value:n,getSnapshot:t};return u.queue=f,Ff(Cf.bind(null,r,f,e),[e]),r.flags|=2048,qi(9,{destroy:void 0},Af.bind(null,r,f,n,t),null),n},useId:function(){var e=ct(),t=ke.identifierPrefix;if(Ce){var n=Pt,r=It;n=(r&~(1<<32-Et(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ir++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=cv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:go,useFormState:Uf,useActionState:Uf,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=po.bind(null,be,!0,n),n.dispatch=t,[e,t]},useMemoCache:ao,useCacheRefresh:function(){return ct().memoizedState=mv.bind(null,be)},useEffectEvent:function(e){var t=ct(),n={impl:e};return t.memoizedState=n,function(){if((Ne&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},mo={readContext:it,use:Wr,useCallback:Kf,useContext:it,useEffect:uo,useImperativeHandle:Xf,useInsertionEffect:qf,useLayoutEffect:Yf,useMemo:Zf,useReducer:el,useRef:Hf,useState:function(){return el(fn)},useDebugValue:co,useDeferredValue:function(e,t){var n=Ve();return Qf(n,ze.memoizedState,e,t)},useTransition:function(){var e=el(fn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ka(e),t]},useSyncExternalStore:wf,useId:Wf,useHostTransitionStatus:go,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var n=Ve();return Nf(n,ze,e,t)},useMemoCache:ao,useCacheRefresh:ed};mo.useEffectEvent=$f;var rd={readContext:it,use:Wr,useCallback:Kf,useContext:it,useEffect:uo,useImperativeHandle:Xf,useInsertionEffect:qf,useLayoutEffect:Yf,useMemo:Zf,useReducer:lo,useRef:Hf,useState:function(){return lo(fn)},useDebugValue:co,useDeferredValue:function(e,t){var n=Ve();return ze===null?fo(n,e,t):Qf(n,ze.memoizedState,e,t)},useTransition:function(){var e=lo(fn)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ka(e),t]},useSyncExternalStore:wf,useId:Wf,useHostTransitionStatus:go,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,t){var n=Ve();return ze!==null?Nf(n,ze,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ao,useCacheRefresh:ed};rd.useEffectEvent=$f;function vo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),u=zn(r);u.payload=t,n!=null&&(u.callback=n),t=Mn(e,u,r),t!==null&&(yt(t,e,r),za(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),u=zn(r);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Mn(e,u,r),t!==null&&(yt(t,e,r),za(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=zn(n);r.tag=2,t!=null&&(r.callback=t),t=Mn(e,r,n),t!==null&&(yt(t,e,n),za(t,e,n))}};function ld(e,t,n,r,u,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,m):t.prototype&&t.prototype.isPureReactComponent?!Ta(n,r)||!Ta(u,f):!0}function sd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function di(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function od(e){Gr(e)}function ud(e){console.error(e)}function cd(e){Gr(e)}function al(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function fd(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function bo(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){al(e,t)},n}function dd(e){return e=zn(e),e.tag=3,e}function hd(e,t,n,r){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){fd(t,n,r)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){fd(t,n,r),typeof u!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function yv(e,t,n,r,u){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Gi(t,n,u,!0),n=wt.current,n!==null){switch(n.tag){case 31:case 13:return Ut===null?ml():n.alternate===null&&qe===0&&(qe=3),n.flags&=-257,n.flags|=65536,n.lanes=u,r===Vr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Yo(e,r,u)),!1;case 22:return n.flags|=65536,r===Vr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Yo(e,r,u)),!1}throw Error(i(435,n.tag))}return Yo(e,r,u),ml(),!1}if(Ce)return t=wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==ks&&(e=Error(i(422),{cause:r}),Ra(Ot(e,n)))):(r!==ks&&(t=Error(i(423),{cause:r}),Ra(Ot(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Ot(r,n),u=bo(e.stateNode,r,u),Zs(e,u),qe!==4&&(qe=2)),!1;var f=Error(i(520),{cause:r});if(f=Ot(f,n),Ka===null?Ka=[f]:Ka.push(f),qe!==4&&(qe=2),t===null)return!0;r=Ot(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=bo(n.stateNode,r,e),Zs(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hn===null||!Hn.has(f))))return n.flags|=65536,u&=-u,n.lanes|=u,u=dd(u),hd(u,e,n,r),Zs(n,u),!1}n=n.return}while(n!==null);return!1}var So=Error(i(461)),Qe=!1;function at(e,t,n,r){t.child=e===null?vf(t,null,n,r):ci(t,e.child,n,r)}function gd(e,t,n,r,u){n=n.render;var f=t.ref;if("ref"in r){var m={};for(var b in r)b!=="ref"&&(m[b]=r[b])}else m=r;return li(t),r=eo(e,t,n,m,f,u),b=to(),e!==null&&!Qe?(no(e,t,u),dn(e,t,u)):(Ce&&b&&Gs(t),t.flags|=1,at(e,t,r,u),t.child)}function pd(e,t,n,r,u){if(e===null){var f=n.type;return typeof f=="function"&&!Os(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,md(e,t,f,r,u)):(e=Br(n.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Ro(e,u)){var m=f.memoizedProps;if(n=n.compare,n=n!==null?n:Ta,n(m,r)&&e.ref===t.ref)return dn(e,t,u)}return t.flags|=1,e=ln(f,r),e.ref=t.ref,e.return=t,t.child=e}function md(e,t,n,r,u){if(e!==null){var f=e.memoizedProps;if(Ta(f,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=f,Ro(e,u))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,dn(e,t,u)}return Eo(e,t,n,r,u)}function vd(e,t,n,r){var u=r.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~f}else r=0,t.child=null;return yd(e,t,f,n,r)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qr(t,f!==null?f.cachePool:null),f!==null?Sf(t,f):Js(),Ef(t);else return r=t.lanes=536870912,yd(e,t,f!==null?f.baseLanes|n:n,n,r)}else f!==null?(qr(t,f.cachePool),Sf(t,f),Un(),t.memoizedState=null):(e!==null&&qr(t,null),Js(),Un());return at(e,t,u,n),t.child}function Ha(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yd(e,t,n,r,u){var f=Ys();return f=f===null?null:{parent:Ke._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&qr(t,null),Js(),Ef(t),e!==null&&Gi(e,t,r,!0),t.childLanes=u,null}function rl(e,t){return t=sl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bd(e,t,n){return ci(t,e.child,null,n),e=rl(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function bv(e,t,n){var r=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ce){if(r.mode==="hidden")return e=rl(t,r),t.lanes=536870912,Ha(null,e);if(Ps(t),(e=je)?(e=Lh(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rn!==null?{id:It,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},n=tf(e),n.return=t,t.child=n,nt=t,je=null)):e=null,e===null)throw Nn(t);return t.lanes=536870912,null}return rl(t,r)}var f=e.memoizedState;if(f!==null){var m=f.dehydrated;if(Ps(t),u)if(t.flags&256)t.flags&=-257,t=bd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Qe||Gi(e,t,n,!1),u=(n&e.childLanes)!==0,Qe||u){if(r=ke,r!==null&&(m=oc(r,n),m!==0&&m!==f.retryLane))throw f.retryLane=m,ni(e,m),yt(r,e,m),So;ml(),t=bd(e,t,n)}else e=f.treeContext,je=kt(m.nextSibling),nt=t,Ce=!0,Dn=null,Gt=!1,e!==null&&rf(t,e),t=rl(t,r),t.flags|=4096;return t}return e=ln(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ll(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Eo(e,t,n,r,u){return li(t),n=eo(e,t,n,r,void 0,u),r=to(),e!==null&&!Qe?(no(e,t,u),dn(e,t,u)):(Ce&&r&&Gs(t),t.flags|=1,at(e,t,n,u),t.child)}function Sd(e,t,n,r,u,f){return li(t),t.updateQueue=null,n=_f(t,r,n,u),xf(e),r=to(),e!==null&&!Qe?(no(e,t,f),dn(e,t,f)):(Ce&&r&&Gs(t),t.flags|=1,at(e,t,n,f),t.child)}function Ed(e,t,n,r,u){if(li(t),t.stateNode===null){var f=Li,m=n.contextType;typeof m=="object"&&m!==null&&(f=it(m)),f=new n(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},Xs(t),m=n.contextType,f.context=typeof m=="object"&&m!==null?it(m):Li,f.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(vo(t,n,m,r),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&yo.enqueueReplaceState(f,f.state,null),Ga(t,r,f,u),Ma(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,x=di(n,b);f.props=x;var O=f.context,F=n.contextType;m=Li,typeof F=="object"&&F!==null&&(m=it(F));var X=n.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||O!==m)&&sd(t,f,r,m),On=!1;var z=t.memoizedState;f.state=z,Ga(t,r,f,u),Ma(),O=t.memoizedState,b||z!==O||On?(typeof X=="function"&&(vo(t,n,X,r),O=t.memoizedState),(x=On||ld(t,n,x,r,z,O,m))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=O),f.props=r,f.state=O,f.context=m,r=x):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,Ks(e,t),m=t.memoizedProps,F=di(n,m),f.props=F,X=t.pendingProps,z=f.context,O=n.contextType,x=Li,typeof O=="object"&&O!==null&&(x=it(O)),b=n.getDerivedStateFromProps,(O=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==X||z!==x)&&sd(t,f,r,x),On=!1,z=t.memoizedState,f.state=z,Ga(t,r,f,u),Ma();var j=t.memoizedState;m!==X||z!==j||On||e!==null&&e.dependencies!==null&&Fr(e.dependencies)?(typeof b=="function"&&(vo(t,n,b,r),j=t.memoizedState),(F=On||ld(t,n,F,r,z,j,x)||e!==null&&e.dependencies!==null&&Fr(e.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,j,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,j,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),f.props=r,f.state=j,f.context=x,r=F):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,ll(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=ci(t,e.child,null,u),t.child=ci(t,null,n,u)):at(e,t,n,u),t.memoizedState=f.state,e=t.child):e=dn(e,t,u),e}function xd(e,t,n,r){return ai(),t.flags|=256,at(e,t,n,r),t.child}var xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _o(e){return{baseLanes:e,cachePool:ff()}}function wo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ct),e}function _d(e,t,n){var r=t.pendingProps,u=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(u?Gn(t):Un(),(e=je)?(e=Lh(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rn!==null?{id:It,overflow:Pt}:null,retryLane:536870912,hydrationErrors:null},n=tf(e),n.return=t,t.child=n,nt=t,je=null)):e=null,e===null)throw Nn(t);return lu(e)?t.lanes=32:t.lanes=536870912,null}var b=r.children;return r=r.fallback,u?(Un(),u=t.mode,b=sl({mode:"hidden",children:b},u),r=ii(r,u,n,null),b.return=t,r.return=t,b.sibling=r,t.child=b,r=t.child,r.memoizedState=_o(n),r.childLanes=wo(e,m,n),t.memoizedState=xo,Ha(null,r)):(Gn(t),To(t,b))}var x=e.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(f)t.flags&256?(Gn(t),t.flags&=-257,t=Ao(e,t,n)):t.memoizedState!==null?(Un(),t.child=e.child,t.flags|=128,t=null):(Un(),b=r.fallback,u=t.mode,r=sl({mode:"visible",children:r.children},u),b=ii(b,u,n,null),b.flags|=2,r.return=t,b.return=t,r.sibling=b,t.child=r,ci(t,e.child,null,n),r=t.child,r.memoizedState=_o(n),r.childLanes=wo(e,m,n),t.memoizedState=xo,t=Ha(null,r));else if(Gn(t),lu(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var O=m.dgst;m=O,r=Error(i(419)),r.stack="",r.digest=m,Ra({value:r,source:null,stack:null}),t=Ao(e,t,n)}else if(Qe||Gi(e,t,n,!1),m=(n&e.childLanes)!==0,Qe||m){if(m=ke,m!==null&&(r=oc(m,n),r!==0&&r!==x.retryLane))throw x.retryLane=r,ni(e,r),yt(m,e,r),So;ru(b)||ml(),t=Ao(e,t,n)}else ru(b)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,je=kt(b.nextSibling),nt=t,Ce=!0,Dn=null,Gt=!1,e!==null&&rf(t,e),t=To(t,r.children),t.flags|=4096);return t}return u?(Un(),b=r.fallback,u=t.mode,x=e.child,O=x.sibling,r=ln(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,O!==null?b=ln(O,b):(b=ii(b,u,n,null),b.flags|=2),b.return=t,r.return=t,r.sibling=b,t.child=r,Ha(null,r),r=t.child,b=e.child.memoizedState,b===null?b=_o(n):(u=b.cachePool,u!==null?(x=Ke._currentValue,u=u.parent!==x?{parent:x,pool:x}:u):u=ff(),b={baseLanes:b.baseLanes|n,cachePool:u}),r.memoizedState=b,r.childLanes=wo(e,m,n),t.memoizedState=xo,Ha(e.child,r)):(Gn(t),n=e.child,e=n.sibling,n=ln(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function To(e,t){return t=sl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sl(e,t){return e=_t(22,e,null,t),e.lanes=0,e}function Ao(e,t,n){return ci(t,e.child,null,n),e=To(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hs(e.return,t,n)}function Co(e,t,n,r,u,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:u,treeForkCount:f}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=n,m.tailMode=u,m.treeForkCount=f)}function Td(e,t,n){var r=t.pendingProps,u=r.revealOrder,f=r.tail;r=r.children;var m=Ye.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,Q(Ye,m),at(e,t,r,n),r=Ce?Ca:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,n,t);else if(e.tag===19)wd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Qr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Co(t,!1,u,n,f,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Qr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Co(t,!0,n,null,f,r);break;case"together":Co(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Gi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ro(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fr(e)))}function Sv(e,t,n){switch(t.tag){case 3:Xe(t,t.stateNode.containerInfo),Ln(t,Ke,e.memoizedState.cache),ai();break;case 27:case 5:Qt(t);break;case 4:Xe(t,t.stateNode.containerInfo);break;case 10:Ln(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ps(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Gn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?_d(e,t,n):(Gn(t),e=dn(e,t,n),e!==null?e.sibling:null);Gn(t);break;case 19:var u=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Gi(e,t,n,!1),r=(n&t.childLanes)!==0),u){if(r)return Td(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Q(Ye,Ye.current),r)break;return null;case 22:return t.lanes=0,vd(e,t,n,t.pendingProps);case 24:Ln(t,Ke,e.memoizedState.cache)}return dn(e,t,n)}function Ad(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Ro(e,n)&&(t.flags&128)===0)return Qe=!1,Sv(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,Ce&&(t.flags&1048576)!==0&&af(t,Ca,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,typeof e=="function")Os(e)?(r=di(e,r),t.tag=1,t=Ed(null,t,e,r,n)):(t.tag=0,t=Eo(null,t,e,r,n));else{if(e!=null){var u=e.$$typeof;if(u===C){t.tag=11,t=gd(null,t,e,r,n);break e}else if(u===G){t.tag=14,t=pd(null,t,e,r,n);break e}}throw t=oe(e)||e,Error(i(306,t,""))}}return t;case 0:return Eo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,u=di(r,t.pendingProps),Ed(e,t,r,u,n);case 3:e:{if(Xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var f=t.memoizedState;u=f.element,Ks(e,t),Ga(t,r,null,n);var m=t.memoizedState;if(r=m.cache,Ln(t,Ke,r),r!==f.cache&&Fs(t,[Ke],n,!0),Ma(),r=m.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=xd(e,t,r,n);break e}else if(r!==u){u=Ot(Error(i(424)),t),Ra(u),t=xd(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(je=kt(e.firstChild),nt=t,Ce=!0,Dn=null,Gt=!0,n=vf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ai(),r===u){t=dn(e,t,n);break e}at(e,t,r,n)}t=t.child}return t;case 26:return ll(e,t),e===null?(n=kh(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ce||(n=t.type,e=t.pendingProps,r=_l(Ee.current).createElement(n),r[tt]=t,r[dt]=e,rt(r,n,e),We(r),t.stateNode=r):t.memoizedState=kh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qt(t),e===null&&Ce&&(r=t.stateNode=Mh(t.type,t.pendingProps,Ee.current),nt=t,Gt=!0,u=je,Yn(t.type)?(su=u,je=kt(r.firstChild)):je=u),at(e,t,t.pendingProps.children,n),ll(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((u=r=je)&&(r=Jv(r,t.type,t.pendingProps,Gt),r!==null?(t.stateNode=r,nt=t,je=kt(r.firstChild),Gt=!1,u=!0):u=!1),u||Nn(t)),Qt(t),u=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,r=f.children,nu(u,f)?r=null:m!==null&&nu(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=eo(e,t,fv,null,null,n),tr._currentValue=u),ll(e,t),at(e,t,r,n),t.child;case 6:return e===null&&Ce&&((e=n=je)&&(n=Iv(n,t.pendingProps,Gt),n!==null?(t.stateNode=n,nt=t,je=null,e=!0):e=!1),e||Nn(t)),null;case 13:return _d(e,t,n);case 4:return Xe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ci(t,null,r,n):at(e,t,r,n),t.child;case 11:return gd(e,t,t.type,t.pendingProps,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ln(t,t.type,r.value),at(e,t,r.children,n),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,li(t),u=it(u),r=r(u),t.flags|=1,at(e,t,r,n),t.child;case 14:return pd(e,t,t.type,t.pendingProps,n);case 15:return md(e,t,t.type,t.pendingProps,n);case 19:return Td(e,t,n);case 31:return bv(e,t,n);case 22:return vd(e,t,n,t.pendingProps);case 24:return li(t),r=it(Ke),e===null?(u=Ys(),u===null&&(u=ke,f=$s(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=n),u=f),t.memoizedState={parent:r,cache:u},Xs(t),Ln(t,Ke,u)):((e.lanes&n)!==0&&(Ks(e,t),Ga(t,null,null,n),Ma()),u=e.memoizedState,f=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ln(t,Ke,r)):(r=f.cache,Ln(t,Ke,r),r!==u.cache&&Fs(t,[Ke],n,!0))),at(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function hn(e){e.flags|=4}function Do(e,t,n,r,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Wd())e.flags|=8192;else throw ui=Vr,Vs}else e.flags&=-16777217}function Cd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$h(t))if(Wd())e.flags|=8192;else throw ui=Vr,Vs}function ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rc():536870912,e.lanes|=t,Ki|=t)}function Fa(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ev(e,t,n){var r=t.pendingProps;switch(Us(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),un(Ke),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?hn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,js())),Be(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(hn(t),f!==null?(Be(t),Cd(t,f)):(Be(t),Do(t,u,null,r,n))):f?f!==e.memoizedState?(hn(t),Be(t),Cd(t,f)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&hn(t),Be(t),Do(t,u,e,r,n)),null;case 27:if(vi(t),n=Ee.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&hn(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Be(t),null}e=ne.current,Mi(t)?lf(t):(e=Mh(u,r,n),t.stateNode=e,hn(t))}return Be(t),null;case 5:if(vi(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&hn(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Be(t),null}if(f=ne.current,Mi(t))lf(t);else{var m=_l(Ee.current);switch(f){case 1:f=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=m.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?f.multiple=!0:r.size&&(f.size=r.size);break;default:f=typeof r.is=="string"?m.createElement(u,{is:r.is}):m.createElement(u)}}f[tt]=t,f[dt]=r;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)f.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=f;e:switch(rt(f,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&hn(t)}}return Be(t),Do(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&hn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=Ee.current,Mi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,u=nt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[tt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||_h(e.nodeValue,n)),e||Nn(t,!0)}else e=_l(e).createTextNode(r),e[tt]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Mi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[tt]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Be(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[tt]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),u=!1}else u=js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ol(t,t.updateQueue),Be(t),null);case 4:return He(),e===null&&Io(t.stateNode.containerInfo),Be(t),null;case 10:return un(t.type),Be(t),null;case 19:if(U(Ye),r=t.memoizedState,r===null)return Be(t),null;if(u=(t.flags&128)!==0,f=r.rendering,f===null)if(u)Fa(r,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Qr(e),f!==null){for(t.flags|=128,Fa(r,!1),e=f.updateQueue,t.updateQueue=e,ol(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ef(n,e),n=n.sibling;return Q(Ye,Ye.current&1|2),Ce&&sn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&bt()>hl&&(t.flags|=128,u=!0,Fa(r,!1),t.lanes=4194304)}else{if(!u)if(e=Qr(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,ol(t,e),Fa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!f.alternate&&!Ce)return Be(t),null}else 2*bt()-r.renderingStartTime>hl&&n!==536870912&&(t.flags|=128,u=!0,Fa(r,!1),t.lanes=4194304);r.isBackwards?(f.sibling=t.child,t.child=f):(e=r.last,e!==null?e.sibling=f:t.child=f,r.last=f)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=bt(),e.sibling=null,n=Ye.current,Q(Ye,u?n&1|2:n&1),Ce&&sn(t,r.treeForkCount),e):(Be(t),null);case 22:case 23:return Tt(t),Is(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&ol(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&U(si),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),un(Ke),Be(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function xv(e,t){switch(Us(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return un(Ke),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vi(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(i(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Ye),null;case 4:return He(),null;case 10:return un(t.type),null;case 22:case 23:return Tt(t),Is(),e!==null&&U(si),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return un(Ke),null;case 25:return null;default:return null}}function Rd(e,t){switch(Us(t),t.tag){case 3:un(Ke),He();break;case 26:case 27:case 5:vi(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:U(Ye);break;case 10:un(t.type);break;case 22:case 23:Tt(t),Is(),e!==null&&U(si);break;case 24:un(Ke)}}function $a(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&e)===e){r=void 0;var f=n.create,m=n.inst;r=f(),m.destroy=r}n=n.next}while(n!==u)}}catch(b){Oe(t,t.return,b)}}function kn(e,t,n){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var m=r.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,u=t;var x=n,O=b;try{O()}catch(F){Oe(u,x,F)}}}r=r.next}while(r!==f)}}catch(F){Oe(t,t.return,F)}}function Dd(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{bf(t,n)}catch(r){Oe(e,e.return,r)}}}function Nd(e,t,n){n.props=di(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Oe(e,t,r)}}function qa(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(u){Oe(e,t,u)}}function Wt(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(u){Oe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Oe(e,t,u)}else n.current=null}function Ld(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(u){Oe(e,e.return,u)}}function No(e,t,n){try{var r=e.stateNode;Yv(r,e.type,n,t),r[dt]=t}catch(u){Oe(e,e.return,u)}}function Od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function Lo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=an));else if(r!==4&&(r===27&&Yn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Oo(e,t,n),e=e.sibling;e!==null;)Oo(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Yn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ul(e,t,n),e=e.sibling;e!==null;)ul(e,t,n),e=e.sibling}function zd(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);rt(t,r,n),t[tt]=e,t[dt]=n}catch(f){Oe(e,e.return,f)}}var gn=!1,Je=!1,zo=!1,Md=typeof WeakSet=="function"?WeakSet:Set,et=null;function _v(e,t){if(e=e.containerInfo,eu=Nl,e=Vc(e),Ts(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var m=0,b=-1,x=-1,O=0,F=0,X=e,z=null;t:for(;;){for(var j;X!==n||u!==0&&X.nodeType!==3||(b=m+u),X!==f||r!==0&&X.nodeType!==3||(x=m+r),X.nodeType===3&&(m+=X.nodeValue.length),(j=X.firstChild)!==null;)z=X,X=j;for(;;){if(X===e)break t;if(z===n&&++O===u&&(b=m),z===f&&++F===r&&(x=m),(j=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=j}n=b===-1||x===-1?null:{start:b,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(tu={focusedElem:e,selectionRange:n},Nl=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,u=f.memoizedProps,f=f.memoizedState,r=n.stateNode;try{var re=di(n.type,u);e=r.getSnapshotBeforeUpdate(re,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(he){Oe(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)au(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Gd(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:mn(e,n),r&4&&$a(5,n);break;case 1:if(mn(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Oe(n,n.return,m)}else{var u=di(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Oe(n,n.return,m)}}r&64&&Dd(n),r&512&&qa(n,n.return);break;case 3:if(mn(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{bf(e,t)}catch(m){Oe(n,n.return,m)}}break;case 27:t===null&&r&4&&zd(n);case 26:case 5:mn(e,n),t===null&&r&4&&Ld(n),r&512&&qa(n,n.return);break;case 12:mn(e,n);break;case 31:mn(e,n),r&4&&jd(e,n);break;case 13:mn(e,n),r&4&&Bd(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ov.bind(null,n),Pv(e,n))));break;case 22:if(r=n.memoizedState!==null||gn,!r){t=t!==null&&t.memoizedState!==null||Je,u=gn;var f=Je;gn=r,(Je=t)&&!f?vn(e,n,(n.subtreeFlags&8772)!==0):mn(e,n),gn=u,Je=f}break;case 30:break;default:mn(e,n)}}function Ud(e){var t=e.alternate;t!==null&&(e.alternate=null,Ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&os(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,gt=!1;function pn(e,t,n){for(n=n.child;n!==null;)kd(e,t,n),n=n.sibling}function kd(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 26:Je||Wt(n,t),pn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Je||Wt(n,t);var r=Fe,u=gt;Yn(n.type)&&(Fe=n.stateNode,gt=!1),pn(e,t,n),Pa(n.stateNode),Fe=r,gt=u;break;case 5:Je||Wt(n,t);case 6:if(r=Fe,u=gt,Fe=null,pn(e,t,n),Fe=r,gt=u,Fe!==null)if(gt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(f){Oe(n,t,f)}else try{Fe.removeChild(n.stateNode)}catch(f){Oe(n,t,f)}break;case 18:Fe!==null&&(gt?(e=Fe,Dh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ta(e)):Dh(Fe,n.stateNode));break;case 4:r=Fe,u=gt,Fe=n.stateNode.containerInfo,gt=!0,pn(e,t,n),Fe=r,gt=u;break;case 0:case 11:case 14:case 15:kn(2,n,t),Je||kn(4,n,t),pn(e,t,n);break;case 1:Je||(Wt(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Nd(n,t,r)),pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:Je=(r=Je)||n.memoizedState!==null,pn(e,t,n),Je=r;break;default:pn(e,t,n)}}function jd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ta(e)}catch(n){Oe(t,t.return,n)}}}function Bd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ta(e)}catch(n){Oe(t,t.return,n)}}function wv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Md),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Md),t;default:throw Error(i(435,e.tag))}}function cl(e,t){var n=wv(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var u=zv.bind(null,e,r);r.then(u,u)}})}function pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var u=n[r],f=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(Yn(b.type)){Fe=b.stateNode,gt=!1;break e}break;case 5:Fe=b.stateNode,gt=!1;break e;case 3:case 4:Fe=b.stateNode.containerInfo,gt=!0;break e}b=b.return}if(Fe===null)throw Error(i(160));kd(f,m,u),Fe=null,gt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hd(t,e),t=t.sibling}var Yt=null;function Hd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),mt(e),r&4&&(kn(3,e,e.return),$a(3,e),kn(5,e,e.return));break;case 1:pt(t,e),mt(e),r&512&&(Je||n===null||Wt(n,n.return)),r&64&&gn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var u=Yt;if(pt(t,e),mt(e),r&512&&(Je||n===null||Wt(n,n.return)),r&4){var f=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[ma]||f[tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),rt(f,r,n),f[tt]=e,We(f),r=f;break e;case"link":var m=Hh("link","href",u).get(r+(n.href||""));if(m){for(var b=0;b<m.length;b++)if(f=m[b],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(b,1);break t}}f=u.createElement(r),rt(f,r,n),u.head.appendChild(f);break;case"meta":if(m=Hh("meta","content",u).get(r+(n.content||""))){for(b=0;b<m.length;b++)if(f=m[b],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(b,1);break t}}f=u.createElement(r),rt(f,r,n),u.head.appendChild(f);break;default:throw Error(i(468,r))}f[tt]=e,We(f),r=f}e.stateNode=r}else Fh(u,e.type,e.stateNode);else e.stateNode=Bh(u,r,e.memoizedProps);else f!==r?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,r===null?Fh(u,e.type,e.stateNode):Bh(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&No(e,e.memoizedProps,n.memoizedProps)}break;case 27:pt(t,e),mt(e),r&512&&(Je||n===null||Wt(n,n.return)),n!==null&&r&4&&No(e,e.memoizedProps,n.memoizedProps);break;case 5:if(pt(t,e),mt(e),r&512&&(Je||n===null||Wt(n,n.return)),e.flags&32){u=e.stateNode;try{wi(u,"")}catch(re){Oe(e,e.return,re)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,No(e,u,n!==null?n.memoizedProps:u)),r&1024&&(zo=!0);break;case 6:if(pt(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(re){Oe(e,e.return,re)}}break;case 3:if(Al=null,u=Yt,Yt=wl(t.containerInfo),pt(t,e),Yt=u,mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(re){Oe(e,e.return,re)}zo&&(zo=!1,Fd(e));break;case 4:r=Yt,Yt=wl(e.stateNode.containerInfo),pt(t,e),mt(e),Yt=r;break;case 12:pt(t,e),mt(e);break;case 31:pt(t,e),mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cl(e,r)));break;case 13:pt(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dl=bt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cl(e,r)));break;case 22:u=e.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,O=gn,F=Je;if(gn=O||u,Je=F||x,pt(t,e),Je=F,gn=O,mt(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||x||gn||Je||hi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){x=n=t;try{if(f=x.stateNode,u)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(re){Oe(x,x.return,re)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(re){Oe(x,x.return,re)}}}else if(t.tag===18){if(n===null){x=t;try{var j=x.stateNode;u?Nh(j,!0):Nh(x.stateNode,!1)}catch(re){Oe(x,x.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,cl(e,n))));break;case 19:pt(t,e),mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cl(e,r)));break;case 30:break;case 21:break;default:pt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Od(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,f=Lo(e);ul(e,f,u);break;case 5:var m=n.stateNode;n.flags&32&&(wi(m,""),n.flags&=-33);var b=Lo(e);ul(e,b,m);break;case 3:case 4:var x=n.stateNode.containerInfo,O=Lo(e);Oo(e,O,x);break;default:throw Error(i(161))}}catch(F){Oe(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function mn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gd(e,t.alternate,t),t=t.sibling}function hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kn(4,t,t.return),hi(t);break;case 1:Wt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nd(t,t.return,n),hi(t);break;case 27:Pa(t.stateNode);case 26:case 5:Wt(t,t.return),hi(t);break;case 22:t.memoizedState===null&&hi(t);break;case 30:hi(t);break;default:hi(t)}e=e.sibling}}function vn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,f=t,m=f.flags;switch(f.tag){case 0:case 11:case 15:vn(u,f,n),$a(4,f);break;case 1:if(vn(u,f,n),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(O){Oe(r,r.return,O)}if(r=f,u=r.updateQueue,u!==null){var b=r.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)yf(x[u],b)}catch(O){Oe(r,r.return,O)}}n&&m&64&&Dd(f),qa(f,f.return);break;case 27:zd(f);case 26:case 5:vn(u,f,n),n&&r===null&&m&4&&Ld(f),qa(f,f.return);break;case 12:vn(u,f,n);break;case 31:vn(u,f,n),n&&m&4&&jd(u,f);break;case 13:vn(u,f,n),n&&m&4&&Bd(u,f);break;case 22:f.memoizedState===null&&vn(u,f,n),qa(f,f.return);break;case 30:break;default:vn(u,f,n)}t=t.sibling}}function Mo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Da(n))}function Go(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e))}function Vt(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$d(e,t,n,r),t=t.sibling}function $d(e,t,n,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Vt(e,t,n,r),u&2048&&$a(9,t);break;case 1:Vt(e,t,n,r);break;case 3:Vt(e,t,n,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e)));break;case 12:if(u&2048){Vt(e,t,n,r),e=t.stateNode;try{var f=t.memoizedProps,m=f.id,b=f.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Oe(t,t.return,x)}}else Vt(e,t,n,r);break;case 31:Vt(e,t,n,r);break;case 13:Vt(e,t,n,r);break;case 23:break;case 22:f=t.stateNode,m=t.alternate,t.memoizedState!==null?f._visibility&2?Vt(e,t,n,r):Ya(e,t):f._visibility&2?Vt(e,t,n,r):(f._visibility|=2,Yi(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Mo(m,t);break;case 24:Vt(e,t,n,r),u&2048&&Go(t.alternate,t);break;default:Vt(e,t,n,r)}}function Yi(e,t,n,r,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,m=t,b=n,x=r,O=m.flags;switch(m.tag){case 0:case 11:case 15:Yi(f,m,b,x,u),$a(8,m);break;case 23:break;case 22:var F=m.stateNode;m.memoizedState!==null?F._visibility&2?Yi(f,m,b,x,u):Ya(f,m):(F._visibility|=2,Yi(f,m,b,x,u)),u&&O&2048&&Mo(m.alternate,m);break;case 24:Yi(f,m,b,x,u),u&&O&2048&&Go(m.alternate,m);break;default:Yi(f,m,b,x,u)}t=t.sibling}}function Ya(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,u=r.flags;switch(r.tag){case 22:Ya(n,r),u&2048&&Mo(r.alternate,r);break;case 24:Ya(n,r),u&2048&&Go(r.alternate,r);break;default:Ya(n,r)}t=t.sibling}}var Va=8192;function Vi(e,t,n){if(e.subtreeFlags&Va)for(e=e.child;e!==null;)qd(e,t,n),e=e.sibling}function qd(e,t,n){switch(e.tag){case 26:Vi(e,t,n),e.flags&Va&&e.memoizedState!==null&&cy(n,Yt,e.memoizedState,e.memoizedProps);break;case 5:Vi(e,t,n);break;case 3:case 4:var r=Yt;Yt=wl(e.stateNode.containerInfo),Vi(e,t,n),Yt=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Va,Va=16777216,Vi(e,t,n),Va=r):Vi(e,t,n));break;default:Vi(e,t,n)}}function Yd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];et=r,Xd(r,e)}Yd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vd(e),e=e.sibling}function Vd(e){switch(e.tag){case 0:case 11:case 15:Xa(e),e.flags&2048&&kn(9,e,e.return);break;case 3:Xa(e);break;case 12:Xa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fl(e)):Xa(e);break;default:Xa(e)}}function fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];et=r,Xd(r,e)}Yd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kn(8,t,t.return),fl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fl(t));break;default:fl(t)}e=e.sibling}}function Xd(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:kn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Da(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,et=r;else e:for(n=e;et!==null;){r=et;var u=r.sibling,f=r.return;if(Ud(r),r===n){et=null;break e}if(u!==null){u.return=f,et=u;break e}et=f}}}var Tv={getCacheForType:function(e){var t=it(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return it(Ke).controller.signal}},Av=typeof WeakMap=="function"?WeakMap:Map,Ne=0,ke=null,xe=null,we=0,Le=0,At=null,jn=!1,Xi=!1,Uo=!1,yn=0,qe=0,Bn=0,gi=0,ko=0,Ct=0,Ki=0,Ka=null,vt=null,jo=!1,dl=0,Kd=0,hl=1/0,gl=null,Hn=null,Ie=0,Fn=null,Zi=null,bn=0,Bo=0,Ho=null,Zd=null,Za=0,Fo=null;function Rt(){return(Ne&2)!==0&&we!==0?we&-we:N.T!==null?Ko():uc()}function Qd(){if(Ct===0)if((we&536870912)===0||Ce){var e=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Ct=e}else Ct=536870912;return e=wt.current,e!==null&&(e.flags|=32),Ct}function yt(e,t,n){(e===ke&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(Qi(e,0),$n(e,we,Ct,!1)),pa(e,n),((Ne&2)===0||e!==ke)&&(e===ke&&((Ne&2)===0&&(gi|=n),qe===4&&$n(e,we,Ct,!1)),en(e))}function Jd(e,t,n){if((Ne&6)!==0)throw Error(i(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ga(e,t),u=r?Dv(e,t):qo(e,t,!0),f=r;do{if(u===0){Xi&&!r&&$n(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!Cv(n)){u=qo(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;u=Ka;var x=b.current.memoizedState.isDehydrated;if(x&&(Qi(b,m).flags|=256),m=qo(b,m,!1),m!==2){if(Uo&&!x){b.errorRecoveryDisabledLanes|=f,gi|=f,u=4;break e}f=vt,vt=u,f!==null&&(vt===null?vt=f:vt.push.apply(vt,f))}u=m}if(f=!1,u!==2)continue}}if(u===1){Qi(e,0),$n(e,t,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:$n(r,t,Ct,!jn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=dl+300-bt(),10<u)){if($n(r,t,Ct,!jn),wr(r,0,!0)!==0)break e;bn=t,r.timeoutHandle=Ch(Id.bind(null,r,n,vt,gl,jo,t,Ct,gi,Ki,jn,f,"Throttled",-0,0),u);break e}Id(r,n,vt,gl,jo,t,Ct,gi,Ki,jn,f,null,-0,0)}}break}while(!0);en(e)}function Id(e,t,n,r,u,f,m,b,x,O,F,X,z,j){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},qd(t,f,X);var re=(f&62914560)===f?dl-bt():(f&4194048)===f?Kd-bt():0;if(re=fy(X,re),re!==null){bn=f,e.cancelPendingCommit=re(rh.bind(null,e,t,f,n,r,u,m,b,x,F,X,null,z,j)),$n(e,f,m,!O);return}}rh(e,t,f,n,r,u,m,b,x)}function Cv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var u=n[r],f=u.getSnapshot;u=u.value;try{if(!xt(f(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t,n,r){t&=~ko,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var f=31-Et(u),m=1<<f;r[f]=-1,u&=~m}n!==0&&lc(e,n,t)}function pl(){return(Ne&6)===0?(Qa(0),!1):!0}function $o(){if(xe!==null){if(Le===0)var e=xe.return;else e=xe,on=ri=null,io(e),Bi=null,La=0,e=xe;for(;e!==null;)Rd(e.alternate,e),e=e.return;xe=null}}function Qi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Kv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bn=0,$o(),ke=e,xe=n=ln(e.current,null),we=t,Le=0,At=null,jn=!1,Xi=ga(e,t),Uo=!1,Ki=Ct=ko=gi=Bn=qe=0,vt=Ka=null,jo=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-Et(r),f=1<<u;t|=e[u],r&=~f}return yn=t,Ur(),n}function Pd(e,t){be=null,N.H=Ba,t===ji||t===Yr?(t=gf(),Le=3):t===Vs?(t=gf(),Le=4):Le=t===So?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,xe===null&&(qe=1,al(e,Ot(t,e.current)))}function Wd(){var e=wt.current;return e===null?!0:(we&4194048)===we?Ut===null:(we&62914560)===we||(we&536870912)!==0?e===Ut:!1}function eh(){var e=N.H;return N.H=Ba,e===null?Ba:e}function th(){var e=N.A;return N.A=Tv,e}function ml(){qe=4,jn||(we&4194048)!==we&&wt.current!==null||(Xi=!0),(Bn&134217727)===0&&(gi&134217727)===0||ke===null||$n(ke,we,Ct,!1)}function qo(e,t,n){var r=Ne;Ne|=2;var u=eh(),f=th();(ke!==e||we!==t)&&(gl=null,Qi(e,t)),t=!1;var m=qe;e:do try{if(Le!==0&&xe!==null){var b=xe,x=At;switch(Le){case 8:$o(),m=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var O=Le;if(Le=0,At=null,Ji(e,b,x,O),n&&Xi){m=0;break e}break;default:O=Le,Le=0,At=null,Ji(e,b,x,O)}}Rv(),m=qe;break}catch(F){Pd(e,F)}while(!0);return t&&e.shellSuspendCounter++,on=ri=null,Ne=r,N.H=u,N.A=f,xe===null&&(ke=null,we=0,Ur()),m}function Rv(){for(;xe!==null;)nh(xe)}function Dv(e,t){var n=Ne;Ne|=2;var r=eh(),u=th();ke!==e||we!==t?(gl=null,hl=bt()+500,Qi(e,t)):Xi=ga(e,t);e:do try{if(Le!==0&&xe!==null){t=xe;var f=At;t:switch(Le){case 1:Le=0,At=null,Ji(e,t,f,1);break;case 2:case 9:if(df(f)){Le=0,At=null,ih(t);break}t=function(){Le!==2&&Le!==9||ke!==e||(Le=7),en(e)},f.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:df(f)?(Le=0,At=null,ih(t)):(Le=0,At=null,Ji(e,t,f,7));break;case 5:var m=null;switch(xe.tag){case 26:m=xe.memoizedState;case 5:case 27:var b=xe;if(m?$h(m):b.stateNode.complete){Le=0,At=null;var x=b.sibling;if(x!==null)xe=x;else{var O=b.return;O!==null?(xe=O,vl(O)):xe=null}break t}}Le=0,At=null,Ji(e,t,f,5);break;case 6:Le=0,At=null,Ji(e,t,f,6);break;case 8:$o(),qe=6;break e;default:throw Error(i(462))}}Nv();break}catch(F){Pd(e,F)}while(!0);return on=ri=null,N.H=r,N.A=u,Ne=n,xe!==null?0:(ke=null,we=0,Ur(),qe)}function Nv(){for(;xe!==null&&!Wp();)nh(xe)}function nh(e){var t=Ad(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?vl(e):xe=t}function ih(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Sd(n,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Sd(n,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:io(t);default:Rd(n,t),t=xe=ef(t,yn),t=Ad(n,t,yn)}e.memoizedProps=e.pendingProps,t===null?vl(e):xe=t}function Ji(e,t,n,r){on=ri=null,io(t),Bi=null,La=0;var u=t.return;try{if(yv(e,u,t,n,we)){qe=1,al(e,Ot(n,e.current)),xe=null;return}}catch(f){if(u!==null)throw xe=u,f;qe=1,al(e,Ot(n,e.current)),xe=null;return}t.flags&32768?(Ce||r===1?e=!0:Xi||(we&536870912)!==0?e=!1:(jn=e=!0,(r===2||r===9||r===3||r===6)&&(r=wt.current,r!==null&&r.tag===13&&(r.flags|=16384))),ah(t,e)):vl(t)}function vl(e){var t=e;do{if((t.flags&32768)!==0){ah(t,jn);return}e=t.return;var n=Ev(t.alternate,t,yn);if(n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);qe===0&&(qe=5)}function ah(e,t){do{var n=xv(e.alternate,e);if(n!==null){n.flags&=32767,xe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=n}while(e!==null);qe=6,xe=null}function rh(e,t,n,r,u,f,m,b,x){e.cancelPendingCommit=null;do yl();while(Ie!==0);if((Ne&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=Ns,um(e,n,f,m,b,x),e===ke&&(xe=ke=null,we=0),Zi=t,Fn=e,bn=n,Bo=f,Ho=u,Zd=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mv(Sr,function(){return ch(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=N.T,N.T=null,u=V.p,V.p=2,m=Ne,Ne|=4;try{_v(e,t,n)}finally{Ne=m,V.p=u,N.T=r}}Ie=1,lh(),sh(),oh()}}function lh(){if(Ie===1){Ie=0;var e=Fn,t=Zi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=N.T,N.T=null;var r=V.p;V.p=2;var u=Ne;Ne|=4;try{Hd(t,e);var f=tu,m=Vc(e.containerInfo),b=f.focusedElem,x=f.selectionRange;if(m!==b&&b&&b.ownerDocument&&Yc(b.ownerDocument.documentElement,b)){if(x!==null&&Ts(b)){var O=x.start,F=x.end;if(F===void 0&&(F=O),"selectionStart"in b)b.selectionStart=O,b.selectionEnd=Math.min(F,b.value.length);else{var X=b.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var j=z.getSelection(),re=b.textContent.length,he=Math.min(x.start,re),Ge=x.end===void 0?he:Math.min(x.end,re);!j.extend&&he>Ge&&(m=Ge,Ge=he,he=m);var A=qc(b,he),T=qc(b,Ge);if(A&&T&&(j.rangeCount!==1||j.anchorNode!==A.node||j.anchorOffset!==A.offset||j.focusNode!==T.node||j.focusOffset!==T.offset)){var L=X.createRange();L.setStart(A.node,A.offset),j.removeAllRanges(),he>Ge?(j.addRange(L),j.extend(T.node,T.offset)):(L.setEnd(T.node,T.offset),j.addRange(L))}}}}for(X=[],j=b;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var Y=X[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Nl=!!eu,tu=eu=null}finally{Ne=u,V.p=r,N.T=n}}e.current=t,Ie=2}}function sh(){if(Ie===2){Ie=0;var e=Fn,t=Zi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=N.T,N.T=null;var r=V.p;V.p=2;var u=Ne;Ne|=4;try{Gd(e,t.alternate,t)}finally{Ne=u,V.p=r,N.T=n}}Ie=3}}function oh(){if(Ie===4||Ie===3){Ie=0,em();var e=Fn,t=Zi,n=bn,r=Zd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ie=5:(Ie=0,Zi=Fn=null,uh(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Hn=null),ls(n),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ha,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=N.T,u=V.p,V.p=2,N.T=null;try{for(var f=e.onRecoverableError,m=0;m<r.length;m++){var b=r[m];f(b.value,{componentStack:b.stack})}}finally{N.T=t,V.p=u}}(bn&3)!==0&&yl(),en(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Fo?Za++:(Za=0,Fo=e):Za=0,Qa(0)}}function uh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Da(t)))}function yl(){return lh(),sh(),oh(),ch()}function ch(){if(Ie!==5)return!1;var e=Fn,t=Bo;Bo=0;var n=ls(bn),r=N.T,u=V.p;try{V.p=32>n?32:n,N.T=null,n=Ho,Ho=null;var f=Fn,m=bn;if(Ie=0,Zi=Fn=null,bn=0,(Ne&6)!==0)throw Error(i(331));var b=Ne;if(Ne|=4,Vd(f.current),$d(f,f.current,m,n),Ne=b,Qa(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ha,f)}catch{}return!0}finally{V.p=u,N.T=r,uh(e,t)}}function fh(e,t,n){t=Ot(n,t),t=bo(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(pa(e,2),en(e))}function Oe(e,t,n){if(e.tag===3)fh(e,e,n);else for(;t!==null;){if(t.tag===3){fh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=Ot(n,e),n=dd(2),r=Mn(t,n,2),r!==null&&(hd(n,r,t,e),pa(r,2),en(r));break}}t=t.return}}function Yo(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Av;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(n)||(Uo=!0,u.add(n),e=Lv.bind(null,e,t,n),t.then(e,e))}function Lv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ke===e&&(we&n)===n&&(qe===4||qe===3&&(we&62914560)===we&&300>bt()-dl?(Ne&2)===0&&Qi(e,0):ko|=n,Ki===we&&(Ki=0)),en(e)}function dh(e,t){t===0&&(t=rc()),e=ni(e,t),e!==null&&(pa(e,t),en(e))}function Ov(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dh(e,n)}function zv(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),dh(e,n)}function Mv(e,t){return ns(e,t)}var bl=null,Ii=null,Vo=!1,Sl=!1,Xo=!1,qn=0;function en(e){e!==Ii&&e.next===null&&(Ii===null?bl=Ii=e:Ii=Ii.next=e),Sl=!0,Vo||(Vo=!0,Uv())}function Qa(e,t){if(!Xo&&Sl){Xo=!0;do for(var n=!1,r=bl;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var m=r.suspendedLanes,b=r.pingedLanes;f=(1<<31-Et(42|e)+1)-1,f&=u&~(m&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,mh(r,f))}else f=we,f=wr(r,r===ke?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||ga(r,f)||(n=!0,mh(r,f));r=r.next}while(n);Xo=!1}}function Gv(){hh()}function hh(){Sl=Vo=!1;var e=0;qn!==0&&Xv()&&(e=qn);for(var t=bt(),n=null,r=bl;r!==null;){var u=r.next,f=gh(r,t);f===0?(r.next=null,n===null?bl=u:n.next=u,u===null&&(Ii=n)):(n=r,(e!==0||(f&3)!==0)&&(Sl=!0)),r=u}Ie!==0&&Ie!==5||Qa(e),qn!==0&&(qn=0)}function gh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Et(f),b=1<<m,x=u[m];x===-1?((b&n)===0||(b&r)!==0)&&(u[m]=om(b,t)):x<=t&&(e.expiredLanes|=b),f&=~b}if(t=ke,n=we,n=wr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&is(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ga(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&is(r),ls(n)){case 2:case 8:n=ic;break;case 32:n=Sr;break;case 268435456:n=ac;break;default:n=Sr}return r=ph.bind(null,e),n=ns(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&is(r),e.callbackPriority=2,e.callbackNode=null,2}function ph(e,t){if(Ie!==0&&Ie!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yl()&&e.callbackNode!==n)return null;var r=we;return r=wr(e,e===ke?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Jd(e,r,t),gh(e,bt()),e.callbackNode!=null&&e.callbackNode===n?ph.bind(null,e):null)}function mh(e,t){if(yl())return null;Jd(e,t,!0)}function Uv(){Zv(function(){(Ne&6)!==0?ns(nc,Gv):hh()})}function Ko(){if(qn===0){var e=Ui;e===0&&(e=Er,Er<<=1,(Er&261888)===0&&(Er=256)),qn=e}return qn}function vh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rr(""+e)}function yh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kv(e,t,n,r,u){if(t==="submit"&&n&&n.stateNode===u){var f=vh((u[dt]||null).action),m=r.submitter;m&&(t=(t=m[dt]||null)?vh(t.formAction):m.getAttribute("formAction"),t!==null&&(f=t,m=null));var b=new Or("action","action",null,r,u);e.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(qn!==0){var x=m?yh(u,m):new FormData(u);ho(n,{pending:!0,data:x,method:u.method,action:f},null,x)}}else typeof f=="function"&&(b.preventDefault(),x=m?yh(u,m):new FormData(u),ho(n,{pending:!0,data:x,method:u.method,action:f},f,x))},currentTarget:u}]})}}for(var Zo=0;Zo<Ds.length;Zo++){var Qo=Ds[Zo],jv=Qo.toLowerCase(),Bv=Qo[0].toUpperCase()+Qo.slice(1);qt(jv,"on"+Bv)}qt(Zc,"onAnimationEnd"),qt(Qc,"onAnimationIteration"),qt(Jc,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(tv,"onTransitionRun"),qt(nv,"onTransitionStart"),qt(iv,"onTransitionCancel"),qt(Ic,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function bh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],u=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var m=r.length-1;0<=m;m--){var b=r[m],x=b.instance,O=b.currentTarget;if(b=b.listener,x!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=O;try{f(u)}catch(F){Gr(F)}u.currentTarget=null,f=x}else for(m=0;m<r.length;m++){if(b=r[m],x=b.instance,O=b.currentTarget,b=b.listener,x!==f&&u.isPropagationStopped())break e;f=b,u.currentTarget=O;try{f(u)}catch(F){Gr(F)}u.currentTarget=null,f=x}}}}function _e(e,t){var n=t[ss];n===void 0&&(n=t[ss]=new Set);var r=e+"__bubble";n.has(r)||(Sh(t,e,2,!1),n.add(r))}function Jo(e,t,n){var r=0;t&&(r|=4),Sh(n,e,r,t)}var El="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[El]){e[El]=!0,dc.forEach(function(n){n!=="selectionchange"&&(Hv.has(n)||Jo(n,!1,e),Jo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[El]||(t[El]=!0,Jo("selectionchange",!1,t))}}function Sh(e,t,n,r){switch(Qh(t)){case 2:var u=gy;break;case 8:u=py;break;default:u=du}n=u.bind(null,t,n,e),u=void 0,!ms||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Po(e,t,n,r,u){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var b=r.stateNode.containerInfo;if(b===u)break;if(m===4)for(m=r.return;m!==null;){var x=m.tag;if((x===3||x===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;b!==null;){if(m=bi(b),m===null)return;if(x=m.tag,x===5||x===6||x===26||x===27){r=f=m;continue e}b=b.parentNode}}r=r.return}wc(function(){var O=f,F=gs(n),X=[];e:{var z=Pc.get(e);if(z!==void 0){var j=Or,re=e;switch(e){case"keypress":if(Nr(n)===0)break e;case"keydown":case"keyup":j=zm;break;case"focusin":re="focus",j=Ss;break;case"focusout":re="blur",j=Ss;break;case"beforeblur":case"afterblur":j=Ss;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Um;break;case Zc:case Qc:case Jc:j=wm;break;case Ic:j=jm;break;case"scroll":case"scrollend":j=bm;break;case"wheel":j=Hm;break;case"copy":case"cut":case"paste":j=Am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Dc;break;case"toggle":case"beforetoggle":j=$m}var he=(t&4)!==0,Ge=!he&&(e==="scroll"||e==="scrollend"),A=he?z!==null?z+"Capture":null:z;he=[];for(var T=O,L;T!==null;){var Y=T;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||A===null||(Y=ya(T,A),Y!=null&&he.push(Ia(T,Y,L))),Ge)break;T=T.return}0<he.length&&(z=new j(z,re,null,n,F),X.push({event:z,listeners:he}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&n!==hs&&(re=n.relatedTarget||n.fromElement)&&(bi(re)||re[yi]))break e;if((j||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,j?(re=n.relatedTarget||n.toElement,j=O,re=re?bi(re):null,re!==null&&(Ge=c(re),he=re.tag,re!==Ge||he!==5&&he!==27&&he!==6)&&(re=null)):(j=null,re=O),j!==re)){if(he=Cc,Y="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(he=Dc,Y="onPointerLeave",A="onPointerEnter",T="pointer"),Ge=j==null?z:va(j),L=re==null?z:va(re),z=new he(Y,T+"leave",j,n,F),z.target=Ge,z.relatedTarget=L,Y=null,bi(F)===O&&(he=new he(A,T+"enter",re,n,F),he.target=L,he.relatedTarget=Ge,Y=he),Ge=Y,j&&re)t:{for(he=Fv,A=j,T=re,L=0,Y=A;Y;Y=he(Y))L++;Y=0;for(var ue=T;ue;ue=he(ue))Y++;for(;0<L-Y;)A=he(A),L--;for(;0<Y-L;)T=he(T),Y--;for(;L--;){if(A===T||T!==null&&A===T.alternate){he=A;break t}A=he(A),T=he(T)}he=null}else he=null;j!==null&&Eh(X,z,j,he,!1),re!==null&&Ge!==null&&Eh(X,Ge,re,he,!0)}}e:{if(z=O?va(O):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Re=kc;else if(Gc(z))if(jc)Re=Pm;else{Re=Jm;var le=Qm}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?O&&ds(O.elementType)&&(Re=kc):Re=Im;if(Re&&(Re=Re(e,O))){Uc(X,Re,n,F);break e}le&&le(e,z,O),e==="focusout"&&O&&z.type==="number"&&O.memoizedProps.value!=null&&fs(z,"number",z.value)}switch(le=O?va(O):window,e){case"focusin":(Gc(le)||le.contentEditable==="true")&&(Ri=le,As=O,Aa=null);break;case"focusout":Aa=As=Ri=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,Xc(X,n,F);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":Xc(X,n,F)}var Se;if(xs)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ci?zc(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(Nc&&n.locale!=="ko"&&(Ci||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ci&&(Se=Tc()):(Cn=F,vs="value"in Cn?Cn.value:Cn.textContent,Ci=!0)),le=xl(O,Te),0<le.length&&(Te=new Rc(Te,e,null,n,F),X.push({event:Te,listeners:le}),Se?Te.data=Se:(Se=Mc(n),Se!==null&&(Te.data=Se)))),(Se=Ym?Vm(e,n):Xm(e,n))&&(Te=xl(O,"onBeforeInput"),0<Te.length&&(le=new Rc("onBeforeInput","beforeinput",null,n,F),X.push({event:le,listeners:Te}),le.data=Se)),kv(X,e,O,n,F)}bh(X,t)})}function Ia(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ya(e,n),u!=null&&r.unshift(Ia(e,u,f)),u=ya(e,t),u!=null&&r.push(Ia(e,u,f))),e.tag===3)return r;e=e.return}return[]}function Fv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Eh(e,t,n,r,u){for(var f=t._reactName,m=[];n!==null&&n!==r;){var b=n,x=b.alternate,O=b.stateNode;if(b=b.tag,x!==null&&x===r)break;b!==5&&b!==26&&b!==27||O===null||(x=O,u?(O=ya(n,f),O!=null&&m.unshift(Ia(n,O,x))):u||(O=ya(n,f),O!=null&&m.push(Ia(n,O,x)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var $v=/\r\n?/g,qv=/\u0000|\uFFFD/g;function xh(e){return(typeof e=="string"?e:""+e).replace($v,`
`).replace(qv,"")}function _h(e,t){return t=xh(t),xh(e)===t}function Me(e,t,n,r,u,f){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||wi(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&wi(e,""+r);break;case"className":Ar(e,"class",r);break;case"tabIndex":Ar(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,n,r);break;case"style":xc(e,r,f);break;case"data":if(t!=="object"){Ar(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Rr(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Me(e,t,"name",u.name,u,null),Me(e,t,"formEncType",u.formEncType,u,null),Me(e,t,"formMethod",u.formMethod,u,null),Me(e,t,"formTarget",u.formTarget,u,null)):(Me(e,t,"encType",u.encType,u,null),Me(e,t,"method",u.method,u,null),Me(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Rr(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=an);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Rr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Tr(e,"popover",r);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Tr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=vm.get(n)||n,Tr(e,n,r))}}function Wo(e,t,n,r,u,f){switch(n){case"style":xc(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof r=="string"?wi(e,r):(typeof r=="number"||typeof r=="bigint")&&wi(e,""+r);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),f=e[dt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,u);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Tr(e,n,r)}}}function rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var r=!1,u=!1,f;for(f in n)if(n.hasOwnProperty(f)){var m=n[f];if(m!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Me(e,t,f,m,n,null)}}u&&Me(e,t,"srcSet",n.srcSet,n,null),r&&Me(e,t,"src",n.src,n,null);return;case"input":_e("invalid",e);var b=f=m=u=null,x=null,O=null;for(r in n)if(n.hasOwnProperty(r)){var F=n[r];if(F!=null)switch(r){case"name":u=F;break;case"type":m=F;break;case"checked":x=F;break;case"defaultChecked":O=F;break;case"value":f=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,t));break;default:Me(e,t,r,F,n,null)}}yc(e,f,b,x,O,m,u,!1);return;case"select":_e("invalid",e),r=m=f=null;for(u in n)if(n.hasOwnProperty(u)&&(b=n[u],b!=null))switch(u){case"value":f=b;break;case"defaultValue":m=b;break;case"multiple":r=b;default:Me(e,t,u,b,n,null)}t=f,n=m,e.multiple=!!r,t!=null?_i(e,!!r,t,!1):n!=null&&_i(e,!!r,n,!0);return;case"textarea":_e("invalid",e),f=u=r=null;for(m in n)if(n.hasOwnProperty(m)&&(b=n[m],b!=null))switch(m){case"value":r=b;break;case"defaultValue":u=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Me(e,t,m,b,n,null)}Sc(e,r,u,f);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(r=n[x],r!=null))switch(x){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Me(e,t,x,r,n,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(r=0;r<Ja.length;r++)_e(Ja[r],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(r=n[O],r!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Me(e,t,O,r,n,null)}return;default:if(ds(t)){for(F in n)n.hasOwnProperty(F)&&(r=n[F],r!==void 0&&Wo(e,t,F,r,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(r=n[b],r!=null&&Me(e,t,b,r,n,null))}function Yv(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,m=null,b=null,x=null,O=null,F=null;for(j in n){var X=n[j];if(n.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":x=X;default:r.hasOwnProperty(j)||Me(e,t,j,null,r,X)}}for(var z in r){var j=r[z];if(X=n[z],r.hasOwnProperty(z)&&(j!=null||X!=null))switch(z){case"type":f=j;break;case"name":u=j;break;case"checked":O=j;break;case"defaultChecked":F=j;break;case"value":m=j;break;case"defaultValue":b=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(137,t));break;default:j!==X&&Me(e,t,z,j,r,X)}}cs(e,m,b,x,O,F,f,u);return;case"select":j=m=b=z=null;for(f in n)if(x=n[f],n.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":j=x;default:r.hasOwnProperty(f)||Me(e,t,f,null,r,x)}for(u in r)if(f=r[u],x=n[u],r.hasOwnProperty(u)&&(f!=null||x!=null))switch(u){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":m=f;default:f!==x&&Me(e,t,u,f,r,x)}t=b,n=m,r=j,z!=null?_i(e,!!n,z,!1):!!r!=!!n&&(t!=null?_i(e,!!n,t,!0):_i(e,!!n,n?[]:"",!1));return;case"textarea":j=z=null;for(b in n)if(u=n[b],n.hasOwnProperty(b)&&u!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Me(e,t,b,null,r,u)}for(m in r)if(u=r[m],f=n[m],r.hasOwnProperty(m)&&(u!=null||f!=null))switch(m){case"value":z=u;break;case"defaultValue":j=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&Me(e,t,m,u,r,f)}bc(e,z,j);return;case"option":for(var re in n)if(z=n[re],n.hasOwnProperty(re)&&z!=null&&!r.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Me(e,t,re,null,r,z)}for(x in r)if(z=r[x],j=n[x],r.hasOwnProperty(x)&&z!==j&&(z!=null||j!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Me(e,t,x,z,r,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)z=n[he],n.hasOwnProperty(he)&&z!=null&&!r.hasOwnProperty(he)&&Me(e,t,he,null,r,z);for(O in r)if(z=r[O],j=n[O],r.hasOwnProperty(O)&&z!==j&&(z!=null||j!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:Me(e,t,O,z,r,j)}return;default:if(ds(t)){for(var Ge in n)z=n[Ge],n.hasOwnProperty(Ge)&&z!==void 0&&!r.hasOwnProperty(Ge)&&Wo(e,t,Ge,void 0,r,z);for(F in r)z=r[F],j=n[F],!r.hasOwnProperty(F)||z===j||z===void 0&&j===void 0||Wo(e,t,F,z,r,j);return}}for(var A in n)z=n[A],n.hasOwnProperty(A)&&z!=null&&!r.hasOwnProperty(A)&&Me(e,t,A,null,r,z);for(X in r)z=r[X],j=n[X],!r.hasOwnProperty(X)||z===j||z==null&&j==null||Me(e,t,X,z,r,j)}function wh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var u=n[r],f=u.transferSize,m=u.initiatorType,b=u.duration;if(f&&b&&wh(m)){for(m=0,b=u.responseEnd,r+=1;r<n.length;r++){var x=n[r],O=x.startTime;if(O>b)break;var F=x.transferSize,X=x.initiatorType;F&&wh(X)&&(x=x.responseEnd,m+=F*(x<b?1:(b-O)/(x-O)))}if(--r,t+=8*(f+m)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var eu=null,tu=null;function _l(e){return e.nodeType===9?e:e.ownerDocument}function Th(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ah(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var iu=null;function Xv(){var e=window.event;return e&&e.type==="popstate"?e===iu?!1:(iu=e,!0):(iu=null,!1)}var Ch=typeof setTimeout=="function"?setTimeout:void 0,Kv=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(e){return Rh.resolve(null).then(e).catch(Qv)}:Ch;function Qv(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function Dh(e,t){var n=t,r=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(u),ta(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Pa(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Pa(n);for(var f=n.firstChild;f;){var m=f.nextSibling,b=f.nodeName;f[ma]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=m}}else n==="body"&&Pa(e.ownerDocument.body);n=u}while(n);ta(t)}function Nh(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function au(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":au(n),os(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Jv(e,t,n,r){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ma])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function Iv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kt(e.nextSibling),e===null))return null;return e}function Lh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function ru(e){return e.data==="$?"||e.data==="$~"}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Pv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var su=null;function Oh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Mh(e,t,n){switch(t=_l(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Pa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);os(e)}var jt=new Map,Gh=new Set;function wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=V.d;V.d={f:Wv,r:ey,D:ty,C:ny,L:iy,m:ay,X:ly,S:ry,M:sy};function Wv(){var e=Sn.f(),t=pl();return e||t}function ey(e){var t=Si(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):Sn.r(e)}var Pi=typeof document>"u"?null:document;function Uh(e,t,n){var r=Pi;if(r&&typeof t=="string"&&t){var u=Nt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Gh.has(u)||(Gh.add(u),e={rel:e,crossOrigin:n,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),rt(t,"link",e),We(t),r.head.appendChild(t)))}}function ty(e){Sn.D(e),Uh("dns-prefetch",e,null)}function ny(e,t){Sn.C(e,t),Uh("preconnect",e,t)}function iy(e,t,n){Sn.L(e,t,n);var r=Pi;if(r&&e&&t){var u='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Nt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Nt(n.imageSizes)+'"]')):u+='[href="'+Nt(e)+'"]';var f=u;switch(t){case"style":f=Wi(e);break;case"script":f=ea(e)}jt.has(f)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),jt.set(f,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(Wa(f))||t==="script"&&r.querySelector(er(f))||(t=r.createElement("link"),rt(t,"link",e),We(t),r.head.appendChild(t)))}}function ay(e,t){Sn.m(e,t);var n=Pi;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Nt(r)+'"][href="'+Nt(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ea(e)}if(!jt.has(f)&&(e=v({rel:"modulepreload",href:e},t),jt.set(f,e),n.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(er(f)))return}r=n.createElement("link"),rt(r,"link",e),We(r),n.head.appendChild(r)}}}function ry(e,t,n){Sn.S(e,t,n);var r=Pi;if(r&&e){var u=Ei(r).hoistableStyles,f=Wi(e);t=t||"default";var m=u.get(f);if(!m){var b={loading:0,preload:null};if(m=r.querySelector(Wa(f)))b.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=jt.get(f))&&ou(e,n);var x=m=r.createElement("link");We(x),rt(x,"link",e),x._p=new Promise(function(O,F){x.onload=O,x.onerror=F}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Tl(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:b},u.set(f,m)}}}function ly(e,t){Sn.X(e,t);var n=Pi;if(n&&e){var r=Ei(n).hoistableScripts,u=ea(e),f=r.get(u);f||(f=n.querySelector(er(u)),f||(e=v({src:e,async:!0},t),(t=jt.get(u))&&uu(e,t),f=n.createElement("script"),We(f),rt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function sy(e,t){Sn.M(e,t);var n=Pi;if(n&&e){var r=Ei(n).hoistableScripts,u=ea(e),f=r.get(u);f||(f=n.querySelector(er(u)),f||(e=v({src:e,async:!0,type:"module"},t),(t=jt.get(u))&&uu(e,t),f=n.createElement("script"),We(f),rt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function kh(e,t,n,r){var u=(u=Ee.current)?wl(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wi(n.href),n=Ei(u).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wi(n.href);var f=Ei(u).hoistableStyles,m=f.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=u.querySelector(Wa(e)))&&!f._p&&(m.instance=f,m.state.loading=5),jt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jt.set(e,n),f||oy(u,e,n,m.state))),t&&r===null)throw Error(i(528,""));return m}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ea(n),n=Ei(u).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Wi(e){return'href="'+Nt(e)+'"'}function Wa(e){return'link[rel="stylesheet"]['+e+"]"}function jh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function oy(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),rt(t,"link",n),We(t),e.head.appendChild(t))}function ea(e){return'[src="'+Nt(e)+'"]'}function er(e){return"script[async]"+e}function Bh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Nt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var u=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),We(r),rt(r,"style",u),Tl(r,n.precedence,e),t.instance=r;case"stylesheet":u=Wi(n.href);var f=e.querySelector(Wa(u));if(f)return t.state.loading|=4,t.instance=f,We(f),f;r=jh(n),(u=jt.get(u))&&ou(r,u),f=(e.ownerDocument||e).createElement("link"),We(f);var m=f;return m._p=new Promise(function(b,x){m.onload=b,m.onerror=x}),rt(f,"link",r),t.state.loading|=4,Tl(f,n.precedence,e),t.instance=f;case"script":return f=ea(n.src),(u=e.querySelector(er(f)))?(t.instance=u,We(u),u):(r=n,(u=jt.get(f))&&(r=v({},n),uu(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),We(u),rt(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Tl(r,n.precedence,e));return t.instance}function Tl(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,m=0;m<r.length;m++){var b=r[m];if(b.dataset.precedence===t)f=b;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Al=null;function Hh(e,t,n){if(Al===null){var r=new Map,u=Al=new Map;u.set(n,r)}else u=Al,r=u.get(n),r||(r=new Map,u.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var f=n[u];if(!(f[ma]||f[tt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(t)||"";m=e+m;var b=r.get(m);b?b.push(f):r.set(m,[f])}}return r}function Fh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function uy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $h(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cy(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Wi(r.href),f=t.querySelector(Wa(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,We(f);return}f=t.ownerDocument||t,r=jh(r),(u=jt.get(u))&&ou(r,u),f=f.createElement("link"),We(f);var m=f;m._p=new Promise(function(b,x){m.onload=b,m.onerror=x}),rt(f,"link",r),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Cl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cu=0;function fy(e,t){return e.stylesheets&&e.count===0&&Dl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Dl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&cu===0&&(cu=62500*Vv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Dl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>cu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function Dl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,t.forEach(dy,e),Rl=null,Cl.call(e))}function dy(e,t){if(!(t.state.loading&4)){var n=Rl.get(e);if(n)var r=n.get(null);else{n=new Map,Rl.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var m=u[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),r=m)}r&&n.set(null,r)}u=t.instance,m=u.getAttribute("data-precedence"),f=n.get(m)||r,f===r&&n.set(null,u),n.set(m,u),this.count++,r=Cl.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var tr={$$typeof:q,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function hy(e,t,n,r,u,f,m,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function qh(e,t,n,r,u,f,m,b,x,O,F,X){return e=new hy(e,t,n,m,x,O,F,X,b),t=1,f===!0&&(t|=24),f=_t(3,null,null,t),e.current=f,f.stateNode=e,t=$s(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:n,cache:t},Xs(f),e}function Yh(e){return e?(e=Li,e):Li}function Vh(e,t,n,r,u,f){u=Yh(u),r.context===null?r.context=u:r.pendingContext=u,r=zn(t),r.payload={element:n},f=f===void 0?null:f,f!==null&&(r.callback=f),n=Mn(e,r,t),n!==null&&(yt(n,e,t),za(n,e,t))}function Xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fu(e,t){Xh(e,t),(e=e.alternate)&&Xh(e,t)}function Kh(e){if(e.tag===13||e.tag===31){var t=ni(e,67108864);t!==null&&yt(t,e,67108864),fu(e,67108864)}}function Zh(e){if(e.tag===13||e.tag===31){var t=Rt();t=rs(t);var n=ni(e,t);n!==null&&yt(n,e,t),fu(e,t)}}var Nl=!0;function gy(e,t,n,r){var u=N.T;N.T=null;var f=V.p;try{V.p=2,du(e,t,n,r)}finally{V.p=f,N.T=u}}function py(e,t,n,r){var u=N.T;N.T=null;var f=V.p;try{V.p=8,du(e,t,n,r)}finally{V.p=f,N.T=u}}function du(e,t,n,r){if(Nl){var u=hu(r);if(u===null)Po(e,t,r,Ll,n),Jh(e,r);else if(vy(u,e,t,n,r))r.stopPropagation();else if(Jh(e,r),t&4&&-1<my.indexOf(e)){for(;u!==null;){var f=Si(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=In(f.pendingLanes);if(m!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var x=1<<31-Et(m);b.entanglements[1]|=x,m&=~x}en(f),(Ne&6)===0&&(hl=bt()+500,Qa(0))}}break;case 31:case 13:b=ni(f,2),b!==null&&yt(b,f,2),pl(),fu(f,2)}if(f=hu(r),f===null&&Po(e,t,r,Ll,n),f===u)break;u=f}u!==null&&r.stopPropagation()}else Po(e,t,r,null,n)}}function hu(e){return e=gs(e),gu(e)}var Ll=null;function gu(e){if(Ll=null,e=bi(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ll=e,null}function Qh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tm()){case nc:return 2;case ic:return 8;case Sr:case nm:return 32;case ac:return 268435456;default:return 32}default:return 32}}var pu=!1,Vn=null,Xn=null,Kn=null,nr=new Map,ir=new Map,Zn=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jh(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(t.pointerId)}}function ar(e,t,n,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},t!==null&&(t=Si(t),t!==null&&Kh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function vy(e,t,n,r,u){switch(t){case"focusin":return Vn=ar(Vn,e,t,n,r,u),!0;case"dragenter":return Xn=ar(Xn,e,t,n,r,u),!0;case"mouseover":return Kn=ar(Kn,e,t,n,r,u),!0;case"pointerover":var f=u.pointerId;return nr.set(f,ar(nr.get(f)||null,e,t,n,r,u)),!0;case"gotpointercapture":return f=u.pointerId,ir.set(f,ar(ir.get(f)||null,e,t,n,r,u)),!0}return!1}function Ih(e){var t=bi(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,cc(e.priority,function(){Zh(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,cc(e.priority,function(){Zh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hu(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hs=r,n.target.dispatchEvent(r),hs=null}else return t=Si(n),t!==null&&Kh(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){Ol(e)&&n.delete(t)}function yy(){pu=!1,Vn!==null&&Ol(Vn)&&(Vn=null),Xn!==null&&Ol(Xn)&&(Xn=null),Kn!==null&&Ol(Kn)&&(Kn=null),nr.forEach(Ph),ir.forEach(Ph)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,pu||(pu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yy)))}var Ml=null;function Wh(e){Ml!==e&&(Ml=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ml===e&&(Ml=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(gu(r||n)===null)continue;break}var f=Si(n);f!==null&&(e.splice(t,3),t-=3,ho(f,{pending:!0,data:u,method:n.method,action:r},r,u))}}))}function ta(e){function t(x){return zl(x,e)}Vn!==null&&zl(Vn,e),Xn!==null&&zl(Xn,e),Kn!==null&&zl(Kn,e),nr.forEach(t),ir.forEach(t);for(var n=0;n<Zn.length;n++){var r=Zn[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Zn.length&&(n=Zn[0],n.blockedOn===null);)Ih(n),n.blockedOn===null&&Zn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var u=n[r],f=n[r+1],m=u[dt]||null;if(typeof f=="function")m||Wh(n);else if(m){var b=null;if(f&&f.hasAttribute("formAction")){if(u=f,m=f[dt]||null)b=m.formAction;else if(gu(u)!==null)continue}else b=m.action;typeof b=="function"?n[r+1]=b:(n.splice(r,3),r-=3),Wh(n)}}}function eg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function mu(e){this._internalRoot=e}Gl.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,r=Rt();Vh(n,r,e,t,null,null)},Gl.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vh(e.current,2,null,e,null,null),pl(),t[yi]=null}};function Gl(e){this._internalRoot=e}Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zn.length&&t!==0&&t<Zn[n].priority;n++);Zn.splice(n,0,e),n===0&&Ih(e)}};var tg=a.version;if(tg!=="19.2.0")throw Error(i(527,tg,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var by={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{ha=Ul.inject(by),St=Ul}catch{}}return sr.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",u=od,f=ud,m=cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=qh(e,1,!1,null,null,n,r,null,u,f,m,eg),e[yi]=t.current,Io(e),new mu(t)},sr.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,u="",f=od,m=ud,b=cd,x=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),t=qh(e,1,!0,t,n??null,r,u,x,f,m,b,eg),t.context=Yh(null),n=t.current,r=Rt(),r=rs(r),u=zn(r),u.callback=null,Mn(n,u,r),n=r,t.current.lanes=n,pa(t,n),en(t),e[yi]=t.current,Io(e),new Gl(t)},sr.version="19.2.0",sr}var Og;function Y0(){if(Og)return _u.exports;Og=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),_u.exports=q0(),_u.exports}var V0=Y0();const X0=Ku(V0);function K0({children:o,sidebar:a,controls:l,containerStyle:i={}}){const[s,c]=lp.useState(!0);return I.jsxs("div",{id:"app",className:s?"":"panel-hidden",children:[I.jsxs("header",{id:"top-bar",children:[I.jsx("h1",{children:"Cervell Digital"}),I.jsx("button",{id:"btn-toggle-panel",title:"Mostra / amaga panell",onClick:()=>c(!s),children:""})]}),I.jsxs("main",{id:"main-content",children:[I.jsxs("div",{id:"sigma-container",style:{position:"relative",width:"100%",height:"100%",...i},children:[o,l]}),I.jsx("aside",{id:"side-panel",style:{display:s?"block":"none"},children:a})]})]})}const Z0=()=>{const{i18n:o,t:a}=yr(),l=i=>{o.changeLanguage(i.target.value)};return I.jsxs("div",{className:"language-switcher",style:{marginBottom:"10px"},children:[I.jsxs("label",{htmlFor:"language-select",style:{marginRight:"5px",fontWeight:"bold"},children:[a("language"),": "]}),I.jsxs("select",{id:"language-select",onChange:l,value:o.language,style:{padding:"5px",borderRadius:"4px"},children:[I.jsx("option",{value:"en",children:"English"}),I.jsx("option",{value:"es",children:"Espaol"}),I.jsx("option",{value:"fr",children:"Franais"}),I.jsx("option",{value:"ca",children:"Catal"})]})]})};function Q0({searchTerm:o,onSearchChange:a,similarity:l,onSimilarityChange:i,hideIsolated:s,onHideIsolatedChange:c,onlyIsolated:d,onOnlyIsolatedChange:h,children:g}){const{t:p}=yr();return I.jsxs(I.Fragment,{children:[I.jsx(Z0,{}),I.jsxs("div",{className:"section",children:[I.jsx("h2",{className:"filter-title",children:p("app_title")}),I.jsx("input",{type:"search",id:"search-input",placeholder:p("search_placeholder"),value:o,onChange:y=>a(y.target.value)})]}),g,I.jsxs("div",{className:"section",children:[I.jsx("h2",{className:"filter-title",children:p("similarity_score")}),I.jsxs("div",{className:"similarity-filter",children:[I.jsx("input",{type:"range",id:"similarity-slider",min:"0",max:"100",value:l,step:"1",onChange:y=>i(parseInt(y.target.value))}),I.jsxs("label",{htmlFor:"similarity-slider",id:"similarity-label",children:[p("similarity_score"),": ",l,"%"]})]})]}),I.jsxs("div",{className:"section",children:[I.jsxs("div",{className:"filter-item",children:[I.jsx("input",{type:"checkbox",id:"isolated-nodes-filter",checked:s,onChange:y=>c(y.target.checked)}),I.jsx("label",{htmlFor:"isolated-nodes-filter",children:"Oculta nodes allats"})]}),!s&&I.jsxs("div",{className:"filter-item",children:[I.jsx("input",{type:"checkbox",id:"only-isolated-filter",checked:d,onChange:y=>h(y.target.checked)}),I.jsx("label",{htmlFor:"only-isolated-filter",children:"Mostra noms nodes allats"})]})]})]})}var jl={exports:{}},zg;function J0(){if(zg)return jl.exports;zg=1;var o=typeof Reflect=="object"?Reflect:null,a=o&&typeof o.apply=="function"?o.apply:function(M,B,G){return Function.prototype.apply.call(M,B,G)},l;o&&typeof o.ownKeys=="function"?l=o.ownKeys:Object.getOwnPropertySymbols?l=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:l=function(M){return Object.getOwnPropertyNames(M)};function i(C){console&&console.warn&&console.warn(C)}var s=Number.isNaN||function(M){return M!==M};function c(){c.init.call(this)}jl.exports=c,jl.exports.once=K,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var d=10;function h(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");d=C}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||s(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function g(C){return C._maxListeners===void 0?c.defaultMaxListeners:C._maxListeners}c.prototype.getMaxListeners=function(){return g(this)},c.prototype.emit=function(M){for(var B=[],G=1;G<arguments.length;G++)B.push(arguments[G]);var W=M==="error",R=this._events;if(R!==void 0)W=W&&R.error===void 0;else if(!W)return!1;if(W){var k;if(B.length>0&&(k=B[0]),k instanceof Error)throw k;var Z=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw Z.context=k,Z}var te=R[M];if(te===void 0)return!1;if(typeof te=="function")a(te,this,B);else for(var ce=te.length,oe=w(te,ce),G=0;G<ce;++G)a(oe[G],this,B);return!0};function p(C,M,B,G){var W,R,k;if(h(B),R=C._events,R===void 0?(R=C._events=Object.create(null),C._eventsCount=0):(R.newListener!==void 0&&(C.emit("newListener",M,B.listener?B.listener:B),R=C._events),k=R[M]),k===void 0)k=R[M]=B,++C._eventsCount;else if(typeof k=="function"?k=R[M]=G?[B,k]:[k,B]:G?k.unshift(B):k.push(B),W=g(C),W>0&&k.length>W&&!k.warned){k.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=C,Z.type=M,Z.count=k.length,i(Z)}return C}c.prototype.addListener=function(M,B){return p(this,M,B,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(M,B){return p(this,M,B,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(C,M,B){var G={fired:!1,wrapFn:void 0,target:C,type:M,listener:B},W=y.bind(G);return W.listener=B,G.wrapFn=W,W}c.prototype.once=function(M,B){return h(B),this.on(M,v(this,M,B)),this},c.prototype.prependOnceListener=function(M,B){return h(B),this.prependListener(M,v(this,M,B)),this},c.prototype.removeListener=function(M,B){var G,W,R,k,Z;if(h(B),W=this._events,W===void 0)return this;if(G=W[M],G===void 0)return this;if(G===B||G.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete W[M],W.removeListener&&this.emit("removeListener",M,G.listener||B));else if(typeof G!="function"){for(R=-1,k=G.length-1;k>=0;k--)if(G[k]===B||G[k].listener===B){Z=G[k].listener,R=k;break}if(R<0)return this;R===0?G.shift():D(G,R),G.length===1&&(W[M]=G[0]),W.removeListener!==void 0&&this.emit("removeListener",M,Z||B)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(M){var B,G,W;if(G=this._events,G===void 0)return this;if(G.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):G[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete G[M]),this;if(arguments.length===0){var R=Object.keys(G),k;for(W=0;W<R.length;++W)k=R[W],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=G[M],typeof B=="function")this.removeListener(M,B);else if(B!==void 0)for(W=B.length-1;W>=0;W--)this.removeListener(M,B[W]);return this};function S(C,M,B){var G=C._events;if(G===void 0)return[];var W=G[M];return W===void 0?[]:typeof W=="function"?B?[W.listener||W]:[W]:B?H(W):w(W,W.length)}c.prototype.listeners=function(M){return S(this,M,!0)},c.prototype.rawListeners=function(M){return S(this,M,!1)},c.listenerCount=function(C,M){return typeof C.listenerCount=="function"?C.listenerCount(M):_.call(C,M)},c.prototype.listenerCount=_;function _(C){var M=this._events;if(M!==void 0){var B=M[C];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function w(C,M){for(var B=new Array(M),G=0;G<M;++G)B[G]=C[G];return B}function D(C,M){for(;M+1<C.length;M++)C[M]=C[M+1];C.pop()}function H(C){for(var M=new Array(C.length),B=0;B<M.length;++B)M[B]=C[B].listener||C[B];return M}function K(C,M){return new Promise(function(B,G){function W(k){C.removeListener(M,R),G(k)}function R(){typeof C.removeListener=="function"&&C.removeListener("error",W),B([].slice.call(arguments))}q(C,M,R,{once:!0}),M!=="error"&&$(C,W,{once:!0})})}function $(C,M,B){typeof C.on=="function"&&q(C,"error",M,B)}function q(C,M,B,G){if(typeof C.on=="function")G.once?C.once(M,B):C.on(M,B);else if(typeof C.addEventListener=="function")C.addEventListener(M,function W(R){G.once&&C.removeEventListener(M,W),B(R)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return jl.exports}var mp=J0();function I0(){const o=arguments[0];for(let a=1,l=arguments.length;a<l;a++)if(arguments[a])for(const i in arguments[a])o[i]=arguments[a][i];return o}let Pe=I0;typeof Object.assign=="function"&&(Pe=Object.assign);function Ht(o,a,l,i){const s=o._nodes.get(a);let c=null;return s&&(i==="mixed"?c=s.out&&s.out[l]||s.undirected&&s.undirected[l]:i==="directed"?c=s.out&&s.out[l]:c=s.undirected&&s.undirected[l]),c}function lt(o){return typeof o=="object"&&o!==null}function vp(o){let a;for(a in o)return!1;return!0}function Bt(o,a,l){Object.defineProperty(o,a,{enumerable:!1,configurable:!1,writable:!0,value:l})}function Xt(o,a,l){const i={enumerable:!0,configurable:!0};typeof l=="function"?i.get=l:(i.value=l,i.writable=!1),Object.defineProperty(o,a,i)}function Mg(o){return!(!lt(o)||o.attributes&&!Array.isArray(o.attributes))}function P0(){let o=Math.floor(Math.random()*256)&255;return()=>o++}function _n(){const o=arguments;let a=null,l=-1;return{[Symbol.iterator](){return this},next(){let i=null;do{if(a===null){if(l++,l>=o.length)return{done:!0};a=o[l][Symbol.iterator]()}if(i=a.next(),i.done){a=null;continue}break}while(!0);return i}}}function ua(){return{[Symbol.iterator](){return this},next(){return{done:!0}}}}class Zu extends Error{constructor(a){super(),this.name="GraphError",this.message=a}}class ie extends Zu{constructor(a){super(a),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ie.prototype.constructor)}}class P extends Zu{constructor(a){super(a),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,P.prototype.constructor)}}class ge extends Zu{constructor(a){super(a),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ge.prototype.constructor)}}function yp(o,a){this.key=o,this.attributes=a,this.clear()}yp.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function bp(o,a){this.key=o,this.attributes=a,this.clear()}bp.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function Sp(o,a){this.key=o,this.attributes=a,this.clear()}Sp.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function ca(o,a,l,i,s){this.key=a,this.attributes=s,this.undirected=o,this.source=l,this.target=i}ca.prototype.attach=function(){let o="out",a="in";this.undirected&&(o=a="undirected");const l=this.source.key,i=this.target.key;this.source[o][i]=this,!(this.undirected&&l===i)&&(this.target[a][l]=this)};ca.prototype.attachMulti=function(){let o="out",a="in";const l=this.source.key,i=this.target.key;this.undirected&&(o=a="undirected");const s=this.source[o],c=s[i];if(typeof c>"u"){s[i]=this,this.undirected&&l===i||(this.target[a][l]=this);return}c.previous=this,this.next=c,s[i]=this,this.target[a][l]=this};ca.prototype.detach=function(){const o=this.source.key,a=this.target.key;let l="out",i="in";this.undirected&&(l=i="undirected"),delete this.source[l][a],delete this.target[i][o]};ca.prototype.detachMulti=function(){const o=this.source.key,a=this.target.key;let l="out",i="in";this.undirected&&(l=i="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[l][a],delete this.target[i][o]):(this.next.previous=void 0,this.source[l][a]=this.next,this.target[i][o]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const Ep=0,xp=1,W0=2,_p=3;function wn(o,a,l,i,s,c,d){let h,g,p,y;if(i=""+i,l===Ep){if(h=o._nodes.get(i),!h)throw new P(`Graph.${a}: could not find the "${i}" node in the graph.`);p=s,y=c}else if(l===_p){if(s=""+s,g=o._edges.get(s),!g)throw new P(`Graph.${a}: could not find the "${s}" edge in the graph.`);const v=g.source.key,S=g.target.key;if(i===v)h=g.target;else if(i===S)h=g.source;else throw new P(`Graph.${a}: the "${i}" node is not attached to the "${s}" edge (${v}, ${S}).`);p=c,y=d}else{if(g=o._edges.get(i),!g)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`);l===xp?h=g.source:h=g.target,p=s,y=c}return[h,p,y]}function eS(o,a,l){o.prototype[a]=function(i,s,c){const[d,h]=wn(this,a,l,i,s,c);return d.attributes[h]}}function tS(o,a,l){o.prototype[a]=function(i,s){const[c]=wn(this,a,l,i,s);return c.attributes}}function nS(o,a,l){o.prototype[a]=function(i,s,c){const[d,h]=wn(this,a,l,i,s,c);return d.attributes.hasOwnProperty(h)}}function iS(o,a,l){o.prototype[a]=function(i,s,c,d){const[h,g,p]=wn(this,a,l,i,s,c,d);return h.attributes[g]=p,this.emit("nodeAttributesUpdated",{key:h.key,type:"set",attributes:h.attributes,name:g}),this}}function aS(o,a,l){o.prototype[a]=function(i,s,c,d){const[h,g,p]=wn(this,a,l,i,s,c,d);if(typeof p!="function")throw new ie(`Graph.${a}: updater should be a function.`);const y=h.attributes,v=p(y[g]);return y[g]=v,this.emit("nodeAttributesUpdated",{key:h.key,type:"set",attributes:h.attributes,name:g}),this}}function rS(o,a,l){o.prototype[a]=function(i,s,c){const[d,h]=wn(this,a,l,i,s,c);return delete d.attributes[h],this.emit("nodeAttributesUpdated",{key:d.key,type:"remove",attributes:d.attributes,name:h}),this}}function lS(o,a,l){o.prototype[a]=function(i,s,c){const[d,h]=wn(this,a,l,i,s,c);if(!lt(h))throw new ie(`Graph.${a}: provided attributes are not a plain object.`);return d.attributes=h,this.emit("nodeAttributesUpdated",{key:d.key,type:"replace",attributes:d.attributes}),this}}function sS(o,a,l){o.prototype[a]=function(i,s,c){const[d,h]=wn(this,a,l,i,s,c);if(!lt(h))throw new ie(`Graph.${a}: provided attributes are not a plain object.`);return Pe(d.attributes,h),this.emit("nodeAttributesUpdated",{key:d.key,type:"merge",attributes:d.attributes,data:h}),this}}function oS(o,a,l){o.prototype[a]=function(i,s,c){const[d,h]=wn(this,a,l,i,s,c);if(typeof h!="function")throw new ie(`Graph.${a}: provided updater is not a function.`);return d.attributes=h(d.attributes),this.emit("nodeAttributesUpdated",{key:d.key,type:"update",attributes:d.attributes}),this}}const uS=[{name:o=>`get${o}Attribute`,attacher:eS},{name:o=>`get${o}Attributes`,attacher:tS},{name:o=>`has${o}Attribute`,attacher:nS},{name:o=>`set${o}Attribute`,attacher:iS},{name:o=>`update${o}Attribute`,attacher:aS},{name:o=>`remove${o}Attribute`,attacher:rS},{name:o=>`replace${o}Attributes`,attacher:lS},{name:o=>`merge${o}Attributes`,attacher:sS},{name:o=>`update${o}Attributes`,attacher:oS}];function cS(o){uS.forEach(function({name:a,attacher:l}){l(o,a("Node"),Ep),l(o,a("Source"),xp),l(o,a("Target"),W0),l(o,a("Opposite"),_p)})}function fS(o,a,l){o.prototype[a]=function(i,s){let c;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,h=""+s;if(s=arguments[2],c=Ht(this,d,h,l),!c)throw new P(`Graph.${a}: could not find an edge for the given path ("${d}" - "${h}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}return c.attributes[s]}}function dS(o,a,l){o.prototype[a]=function(i){let s;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const c=""+i,d=""+arguments[1];if(s=Ht(this,c,d,l),!s)throw new P(`Graph.${a}: could not find an edge for the given path ("${c}" - "${d}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,s=this._edges.get(i),!s)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}return s.attributes}}function hS(o,a,l){o.prototype[a]=function(i,s){let c;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,h=""+s;if(s=arguments[2],c=Ht(this,d,h,l),!c)throw new P(`Graph.${a}: could not find an edge for the given path ("${d}" - "${h}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}return c.attributes.hasOwnProperty(s)}}function gS(o,a,l){o.prototype[a]=function(i,s,c){let d;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const h=""+i,g=""+s;if(s=arguments[2],c=arguments[3],d=Ht(this,h,g,l),!d)throw new P(`Graph.${a}: could not find an edge for the given path ("${h}" - "${g}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,d=this._edges.get(i),!d)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}return d.attributes[s]=c,this.emit("edgeAttributesUpdated",{key:d.key,type:"set",attributes:d.attributes,name:s}),this}}function pS(o,a,l){o.prototype[a]=function(i,s,c){let d;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const h=""+i,g=""+s;if(s=arguments[2],c=arguments[3],d=Ht(this,h,g,l),!d)throw new P(`Graph.${a}: could not find an edge for the given path ("${h}" - "${g}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,d=this._edges.get(i),!d)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}if(typeof c!="function")throw new ie(`Graph.${a}: updater should be a function.`);return d.attributes[s]=c(d.attributes[s]),this.emit("edgeAttributesUpdated",{key:d.key,type:"set",attributes:d.attributes,name:s}),this}}function mS(o,a,l){o.prototype[a]=function(i,s){let c;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,h=""+s;if(s=arguments[2],c=Ht(this,d,h,l),!c)throw new P(`Graph.${a}: could not find an edge for the given path ("${d}" - "${h}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}return delete c.attributes[s],this.emit("edgeAttributesUpdated",{key:c.key,type:"remove",attributes:c.attributes,name:s}),this}}function vS(o,a,l){o.prototype[a]=function(i,s){let c;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,h=""+s;if(s=arguments[2],c=Ht(this,d,h,l),!c)throw new P(`Graph.${a}: could not find an edge for the given path ("${d}" - "${h}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}if(!lt(s))throw new ie(`Graph.${a}: provided attributes are not a plain object.`);return c.attributes=s,this.emit("edgeAttributesUpdated",{key:c.key,type:"replace",attributes:c.attributes}),this}}function yS(o,a,l){o.prototype[a]=function(i,s){let c;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,h=""+s;if(s=arguments[2],c=Ht(this,d,h,l),!c)throw new P(`Graph.${a}: could not find an edge for the given path ("${d}" - "${h}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}if(!lt(s))throw new ie(`Graph.${a}: provided attributes are not a plain object.`);return Pe(c.attributes,s),this.emit("edgeAttributesUpdated",{key:c.key,type:"merge",attributes:c.attributes,data:s}),this}}function bS(o,a,l){o.prototype[a]=function(i,s){let c;if(this.type!=="mixed"&&l!=="mixed"&&l!==this.type)throw new ge(`Graph.${a}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ge(`Graph.${a}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const d=""+i,h=""+s;if(s=arguments[2],c=Ht(this,d,h,l),!c)throw new P(`Graph.${a}: could not find an edge for the given path ("${d}" - "${h}").`)}else{if(l!=="mixed")throw new ge(`Graph.${a}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(i=""+i,c=this._edges.get(i),!c)throw new P(`Graph.${a}: could not find the "${i}" edge in the graph.`)}if(typeof s!="function")throw new ie(`Graph.${a}: provided updater is not a function.`);return c.attributes=s(c.attributes),this.emit("edgeAttributesUpdated",{key:c.key,type:"update",attributes:c.attributes}),this}}const SS=[{name:o=>`get${o}Attribute`,attacher:fS},{name:o=>`get${o}Attributes`,attacher:dS},{name:o=>`has${o}Attribute`,attacher:hS},{name:o=>`set${o}Attribute`,attacher:gS},{name:o=>`update${o}Attribute`,attacher:pS},{name:o=>`remove${o}Attribute`,attacher:mS},{name:o=>`replace${o}Attributes`,attacher:vS},{name:o=>`merge${o}Attributes`,attacher:yS},{name:o=>`update${o}Attributes`,attacher:bS}];function ES(o){SS.forEach(function({name:a,attacher:l}){l(o,a("Edge"),"mixed"),l(o,a("DirectedEdge"),"directed"),l(o,a("UndirectedEdge"),"undirected")})}const xS=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function _S(o,a,l,i){let s=!1;for(const c in a){if(c===i)continue;const d=a[c];if(s=l(d.key,d.attributes,d.source.key,d.target.key,d.source.attributes,d.target.attributes,d.undirected),o&&s)return d.key}}function wS(o,a,l,i){let s,c,d,h=!1;for(const g in a)if(g!==i){s=a[g];do{if(c=s.source,d=s.target,h=l(s.key,s.attributes,c.key,d.key,c.attributes,d.attributes,s.undirected),o&&h)return s.key;s=s.next}while(s!==void 0)}}function Cu(o,a){const l=Object.keys(o),i=l.length;let s,c=0;return{[Symbol.iterator](){return this},next(){do if(s)s=s.next;else{if(c>=i)return{done:!0};const d=l[c++];if(d===a){s=void 0;continue}s=o[d]}while(!s);return{done:!1,value:{edge:s.key,attributes:s.attributes,source:s.source.key,target:s.target.key,sourceAttributes:s.source.attributes,targetAttributes:s.target.attributes,undirected:s.undirected}}}}}function TS(o,a,l,i){const s=a[l];if(!s)return;const c=s.source,d=s.target;if(i(s.key,s.attributes,c.key,d.key,c.attributes,d.attributes,s.undirected)&&o)return s.key}function AS(o,a,l,i){let s=a[l];if(!s)return;let c=!1;do{if(c=i(s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes,s.undirected),o&&c)return s.key;s=s.next}while(s!==void 0)}function Ru(o,a){let l=o[a];if(l.next!==void 0)return{[Symbol.iterator](){return this},next(){if(!l)return{done:!0};const s={edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected};return l=l.next,{done:!1,value:s}}};let i=!1;return{[Symbol.iterator](){return this},next(){return i===!0?{done:!0}:(i=!0,{done:!1,value:{edge:l.key,attributes:l.attributes,source:l.source.key,target:l.target.key,sourceAttributes:l.source.attributes,targetAttributes:l.target.attributes,undirected:l.undirected}})}}}function CS(o,a){if(o.size===0)return[];if(a==="mixed"||a===o.type)return Array.from(o._edges.keys());const l=a==="undirected"?o.undirectedSize:o.directedSize,i=new Array(l),s=a==="undirected",c=o._edges.values();let d=0,h,g;for(;h=c.next(),h.done!==!0;)g=h.value,g.undirected===s&&(i[d++]=g.key);return i}function wp(o,a,l,i){if(a.size===0)return;const s=l!=="mixed"&&l!==a.type,c=l==="undirected";let d,h,g=!1;const p=a._edges.values();for(;d=p.next(),d.done!==!0;){if(h=d.value,s&&h.undirected!==c)continue;const{key:y,attributes:v,source:S,target:_}=h;if(g=i(y,v,S.key,_.key,S.attributes,_.attributes,h.undirected),o&&g)return y}}function RS(o,a){if(o.size===0)return ua();const l=a!=="mixed"&&a!==o.type,i=a==="undirected",s=o._edges.values();return{[Symbol.iterator](){return this},next(){let c,d;for(;;){if(c=s.next(),c.done)return c;if(d=c.value,!(l&&d.undirected!==i))break}return{value:{edge:d.key,attributes:d.attributes,source:d.source.key,target:d.target.key,sourceAttributes:d.source.attributes,targetAttributes:d.target.attributes,undirected:d.undirected},done:!1}}}}function Qu(o,a,l,i,s,c){const d=a?wS:_S;let h;if(l!=="undirected"&&(i!=="out"&&(h=d(o,s.in,c),o&&h)||i!=="in"&&(h=d(o,s.out,c,i?void 0:s.key),o&&h))||l!=="directed"&&(h=d(o,s.undirected,c),o&&h))return h}function DS(o,a,l,i){const s=[];return Qu(!1,o,a,l,i,function(c){s.push(c)}),s}function NS(o,a,l){let i=ua();return o!=="undirected"&&(a!=="out"&&typeof l.in<"u"&&(i=_n(i,Cu(l.in))),a!=="in"&&typeof l.out<"u"&&(i=_n(i,Cu(l.out,a?void 0:l.key)))),o!=="directed"&&typeof l.undirected<"u"&&(i=_n(i,Cu(l.undirected))),i}function Ju(o,a,l,i,s,c,d){const h=l?AS:TS;let g;if(a!=="undirected"&&(typeof s.in<"u"&&i!=="out"&&(g=h(o,s.in,c,d),o&&g)||typeof s.out<"u"&&i!=="in"&&(i||s.key!==c)&&(g=h(o,s.out,c,d),o&&g))||a!=="directed"&&typeof s.undirected<"u"&&(g=h(o,s.undirected,c,d),o&&g))return g}function LS(o,a,l,i,s){const c=[];return Ju(!1,o,a,l,i,s,function(d){c.push(d)}),c}function OS(o,a,l,i){let s=ua();return o!=="undirected"&&(typeof l.in<"u"&&a!=="out"&&i in l.in&&(s=_n(s,Ru(l.in,i))),typeof l.out<"u"&&a!=="in"&&i in l.out&&(a||l.key!==i)&&(s=_n(s,Ru(l.out,i)))),o!=="directed"&&typeof l.undirected<"u"&&i in l.undirected&&(s=_n(s,Ru(l.undirected,i))),s}function zS(o,a){const{name:l,type:i,direction:s}=a;o.prototype[l]=function(c,d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];if(!arguments.length)return CS(this,i);if(arguments.length===1){c=""+c;const h=this._nodes.get(c);if(typeof h>"u")throw new P(`Graph.${l}: could not find the "${c}" node in the graph.`);return DS(this.multi,i==="mixed"?this.type:i,s,h)}if(arguments.length===2){c=""+c,d=""+d;const h=this._nodes.get(c);if(!h)throw new P(`Graph.${l}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(d))throw new P(`Graph.${l}:  could not find the "${d}" target node in the graph.`);return LS(i,this.multi,s,h,d)}throw new ie(`Graph.${l}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function MS(o,a){const{name:l,type:i,direction:s}=a,c="forEach"+l[0].toUpperCase()+l.slice(1,-1);o.prototype[c]=function(p,y,v){if(!(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)){if(arguments.length===1)return v=p,wp(!1,this,i,v);if(arguments.length===2){p=""+p,v=y;const S=this._nodes.get(p);if(typeof S>"u")throw new P(`Graph.${c}: could not find the "${p}" node in the graph.`);return Qu(!1,this.multi,i==="mixed"?this.type:i,s,S,v)}if(arguments.length===3){p=""+p,y=""+y;const S=this._nodes.get(p);if(!S)throw new P(`Graph.${c}:  could not find the "${p}" source node in the graph.`);if(!this._nodes.has(y))throw new P(`Graph.${c}:  could not find the "${y}" target node in the graph.`);return Ju(!1,i,this.multi,s,S,y,v)}throw new ie(`Graph.${c}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const d="map"+l[0].toUpperCase()+l.slice(1);o.prototype[d]=function(){const p=Array.prototype.slice.call(arguments),y=p.pop();let v;if(p.length===0){let S=0;i!=="directed"&&(S+=this.undirectedSize),i!=="undirected"&&(S+=this.directedSize),v=new Array(S);let _=0;p.push((w,D,H,K,$,q,C)=>{v[_++]=y(w,D,H,K,$,q,C)})}else v=[],p.push((S,_,w,D,H,K,$)=>{v.push(y(S,_,w,D,H,K,$))});return this[c].apply(this,p),v};const h="filter"+l[0].toUpperCase()+l.slice(1);o.prototype[h]=function(){const p=Array.prototype.slice.call(arguments),y=p.pop(),v=[];return p.push((S,_,w,D,H,K,$)=>{y(S,_,w,D,H,K,$)&&v.push(S)}),this[c].apply(this,p),v};const g="reduce"+l[0].toUpperCase()+l.slice(1);o.prototype[g]=function(){let p=Array.prototype.slice.call(arguments);if(p.length<2||p.length>4)throw new ie(`Graph.${g}: invalid number of arguments (expecting 2, 3 or 4 and got ${p.length}).`);if(typeof p[p.length-1]=="function"&&typeof p[p.length-2]!="function")throw new ie(`Graph.${g}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let y,v;p.length===2?(y=p[0],v=p[1],p=[]):p.length===3?(y=p[1],v=p[2],p=[p[0]]):p.length===4&&(y=p[2],v=p[3],p=[p[0],p[1]]);let S=v;return p.push((_,w,D,H,K,$,q)=>{S=y(S,_,w,D,H,K,$,q)}),this[c].apply(this,p),S}}function GS(o,a){const{name:l,type:i,direction:s}=a,c="find"+l[0].toUpperCase()+l.slice(1,-1);o.prototype[c]=function(g,p,y){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return!1;if(arguments.length===1)return y=g,wp(!0,this,i,y);if(arguments.length===2){g=""+g,y=p;const v=this._nodes.get(g);if(typeof v>"u")throw new P(`Graph.${c}: could not find the "${g}" node in the graph.`);return Qu(!0,this.multi,i==="mixed"?this.type:i,s,v,y)}if(arguments.length===3){g=""+g,p=""+p;const v=this._nodes.get(g);if(!v)throw new P(`Graph.${c}:  could not find the "${g}" source node in the graph.`);if(!this._nodes.has(p))throw new P(`Graph.${c}:  could not find the "${p}" target node in the graph.`);return Ju(!0,i,this.multi,s,v,p,y)}throw new ie(`Graph.${c}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const d="some"+l[0].toUpperCase()+l.slice(1,-1);o.prototype[d]=function(){const g=Array.prototype.slice.call(arguments),p=g.pop();return g.push((v,S,_,w,D,H,K)=>p(v,S,_,w,D,H,K)),!!this[c].apply(this,g)};const h="every"+l[0].toUpperCase()+l.slice(1,-1);o.prototype[h]=function(){const g=Array.prototype.slice.call(arguments),p=g.pop();return g.push((v,S,_,w,D,H,K)=>!p(v,S,_,w,D,H,K)),!this[c].apply(this,g)}}function US(o,a){const{name:l,type:i,direction:s}=a,c=l.slice(0,-1)+"Entries";o.prototype[c]=function(d,h){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return ua();if(!arguments.length)return RS(this,i);if(arguments.length===1){d=""+d;const g=this._nodes.get(d);if(!g)throw new P(`Graph.${c}: could not find the "${d}" node in the graph.`);return NS(i,s,g)}if(arguments.length===2){d=""+d,h=""+h;const g=this._nodes.get(d);if(!g)throw new P(`Graph.${c}:  could not find the "${d}" source node in the graph.`);if(!this._nodes.has(h))throw new P(`Graph.${c}:  could not find the "${h}" target node in the graph.`);return OS(i,s,g,h)}throw new ie(`Graph.${c}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function kS(o){xS.forEach(a=>{zS(o,a),MS(o,a),GS(o,a),US(o,a)})}const jS=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Jl(){this.A=null,this.B=null}Jl.prototype.wrap=function(o){this.A===null?this.A=o:this.B===null&&(this.B=o)};Jl.prototype.has=function(o){return this.A!==null&&o in this.A||this.B!==null&&o in this.B};function or(o,a,l,i,s){for(const c in i){const d=i[c],h=d.source,g=d.target,p=h===l?g:h;if(a&&a.has(p.key))continue;const y=s(p.key,p.attributes);if(o&&y)return p.key}}function Iu(o,a,l,i,s){if(a!=="mixed"){if(a==="undirected")return or(o,null,i,i.undirected,s);if(typeof l=="string")return or(o,null,i,i[l],s)}const c=new Jl;let d;if(a!=="undirected"){if(l!=="out"){if(d=or(o,null,i,i.in,s),o&&d)return d;c.wrap(i.in)}if(l!=="in"){if(d=or(o,c,i,i.out,s),o&&d)return d;c.wrap(i.out)}}if(a!=="directed"&&(d=or(o,c,i,i.undirected,s),o&&d))return d}function BS(o,a,l){if(o!=="mixed"){if(o==="undirected")return Object.keys(l.undirected);if(typeof a=="string")return Object.keys(l[a])}const i=[];return Iu(!1,o,a,l,function(s){i.push(s)}),i}function ur(o,a,l){const i=Object.keys(l),s=i.length;let c=0;return{[Symbol.iterator](){return this},next(){let d=null;do{if(c>=s)return o&&o.wrap(l),{done:!0};const h=l[i[c++]],g=h.source,p=h.target;if(d=g===a?p:g,o&&o.has(d.key)){d=null;continue}}while(d===null);return{done:!1,value:{neighbor:d.key,attributes:d.attributes}}}}}function HS(o,a,l){if(o!=="mixed"){if(o==="undirected")return ur(null,l,l.undirected);if(typeof a=="string")return ur(null,l,l[a])}let i=ua();const s=new Jl;return o!=="undirected"&&(a!=="out"&&(i=_n(i,ur(s,l,l.in))),a!=="in"&&(i=_n(i,ur(s,l,l.out)))),o!=="directed"&&(i=_n(i,ur(s,l,l.undirected))),i}function FS(o,a){const{name:l,type:i,direction:s}=a;o.prototype[l]=function(c){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return[];c=""+c;const d=this._nodes.get(c);if(typeof d>"u")throw new P(`Graph.${l}: could not find the "${c}" node in the graph.`);return BS(i==="mixed"?this.type:i,s,d)}}function $S(o,a){const{name:l,type:i,direction:s}=a,c="forEach"+l[0].toUpperCase()+l.slice(1,-1);o.prototype[c]=function(p,y){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;p=""+p;const v=this._nodes.get(p);if(typeof v>"u")throw new P(`Graph.${c}: could not find the "${p}" node in the graph.`);Iu(!1,i==="mixed"?this.type:i,s,v,y)};const d="map"+l[0].toUpperCase()+l.slice(1);o.prototype[d]=function(p,y){const v=[];return this[c](p,(S,_)=>{v.push(y(S,_))}),v};const h="filter"+l[0].toUpperCase()+l.slice(1);o.prototype[h]=function(p,y){const v=[];return this[c](p,(S,_)=>{y(S,_)&&v.push(S)}),v};const g="reduce"+l[0].toUpperCase()+l.slice(1);o.prototype[g]=function(p,y,v){if(arguments.length<3)throw new ie(`Graph.${g}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let S=v;return this[c](p,(_,w)=>{S=y(S,_,w)}),S}}function qS(o,a){const{name:l,type:i,direction:s}=a,c=l[0].toUpperCase()+l.slice(1,-1),d="find"+c;o.prototype[d]=function(p,y){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return;p=""+p;const v=this._nodes.get(p);if(typeof v>"u")throw new P(`Graph.${d}: could not find the "${p}" node in the graph.`);return Iu(!0,i==="mixed"?this.type:i,s,v,y)};const h="some"+c;o.prototype[h]=function(p,y){return!!this[d](p,y)};const g="every"+c;o.prototype[g]=function(p,y){return!this[d](p,(S,_)=>!y(S,_))}}function YS(o,a){const{name:l,type:i,direction:s}=a,c=l.slice(0,-1)+"Entries";o.prototype[c]=function(d){if(i!=="mixed"&&this.type!=="mixed"&&i!==this.type)return ua();d=""+d;const h=this._nodes.get(d);if(typeof h>"u")throw new P(`Graph.${c}: could not find the "${d}" node in the graph.`);return HS(i==="mixed"?this.type:i,s,h)}}function VS(o){jS.forEach(a=>{FS(o,a),$S(o,a),qS(o,a),YS(o,a)})}function Bl(o,a,l,i,s){const c=i._nodes.values(),d=i.type;let h,g,p,y,v,S;for(;h=c.next(),h.done!==!0;){let _=!1;if(g=h.value,d!=="undirected"){y=g.out;for(p in y){v=y[p];do S=v.target,_=!0,s(g.key,S.key,g.attributes,S.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}if(d!=="directed"){y=g.undirected;for(p in y)if(!(a&&g.key>p)){v=y[p];do S=v.target,S.key!==p&&(S=v.source),_=!0,s(g.key,S.key,g.attributes,S.attributes,v.key,v.attributes,v.undirected),v=v.next;while(v)}}l&&!_&&s(g.key,null,g.attributes,null,null,null,null)}}function XS(o,a){const l={key:o};return vp(a.attributes)||(l.attributes=Pe({},a.attributes)),l}function KS(o,a,l){const i={key:a,source:l.source.key,target:l.target.key};return vp(l.attributes)||(i.attributes=Pe({},l.attributes)),o==="mixed"&&l.undirected&&(i.undirected=!0),i}function ZS(o){if(!lt(o))throw new ie('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in o))throw new ie("Graph.import: serialized node is missing its key.");if("attributes"in o&&(!lt(o.attributes)||o.attributes===null))throw new ie("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function QS(o){if(!lt(o))throw new ie('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in o))throw new ie("Graph.import: serialized edge is missing its source.");if(!("target"in o))throw new ie("Graph.import: serialized edge is missing its target.");if("attributes"in o&&(!lt(o.attributes)||o.attributes===null))throw new ie("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in o&&typeof o.undirected!="boolean")throw new ie("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const JS=P0(),IS=new Set(["directed","undirected","mixed"]),Gg=new Set(["domain","_events","_eventsCount","_maxListeners"]),PS=[{name:o=>`${o}Edge`,generateKey:!0},{name:o=>`${o}DirectedEdge`,generateKey:!0,type:"directed"},{name:o=>`${o}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:o=>`${o}EdgeWithKey`},{name:o=>`${o}DirectedEdgeWithKey`,type:"directed"},{name:o=>`${o}UndirectedEdgeWithKey`,type:"undirected"}],WS={allowSelfLoops:!0,multi:!1,type:"mixed"};function eE(o,a,l){if(l&&!lt(l))throw new ie(`Graph.addNode: invalid attributes. Expecting an object but got "${l}"`);if(a=""+a,l=l||{},o._nodes.has(a))throw new ge(`Graph.addNode: the "${a}" node already exist in the graph.`);const i=new o.NodeDataClass(a,l);return o._nodes.set(a,i),o.emit("nodeAdded",{key:a,attributes:l}),i}function Ug(o,a,l){const i=new o.NodeDataClass(a,l);return o._nodes.set(a,i),o.emit("nodeAdded",{key:a,attributes:l}),i}function Tp(o,a,l,i,s,c,d,h){if(!i&&o.type==="undirected")throw new ge(`Graph.${a}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(i&&o.type==="directed")throw new ge(`Graph.${a}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(h&&!lt(h))throw new ie(`Graph.${a}: invalid attributes. Expecting an object but got "${h}"`);if(c=""+c,d=""+d,h=h||{},!o.allowSelfLoops&&c===d)throw new ge(`Graph.${a}: source & target are the same ("${c}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const g=o._nodes.get(c),p=o._nodes.get(d);if(!g)throw new P(`Graph.${a}: source node "${c}" not found.`);if(!p)throw new P(`Graph.${a}: target node "${d}" not found.`);const y={key:null,undirected:i,source:c,target:d,attributes:h};if(l)s=o._edgeKeyGenerator();else if(s=""+s,o._edges.has(s))throw new ge(`Graph.${a}: the "${s}" edge already exists in the graph.`);if(!o.multi&&(i?typeof g.undirected[d]<"u":typeof g.out[d]<"u"))throw new ge(`Graph.${a}: an edge linking "${c}" to "${d}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const v=new ca(i,s,g,p,h);o._edges.set(s,v);const S=c===d;return i?(g.undirectedDegree++,p.undirectedDegree++,S&&(g.undirectedLoops++,o._undirectedSelfLoopCount++)):(g.outDegree++,p.inDegree++,S&&(g.directedLoops++,o._directedSelfLoopCount++)),o.multi?v.attachMulti():v.attach(),i?o._undirectedSize++:o._directedSize++,y.key=s,o.emit("edgeAdded",y),s}function tE(o,a,l,i,s,c,d,h,g){if(!i&&o.type==="undirected")throw new ge(`Graph.${a}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(i&&o.type==="directed")throw new ge(`Graph.${a}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(h){if(g){if(typeof h!="function")throw new ie(`Graph.${a}: invalid updater function. Expecting a function but got "${h}"`)}else if(!lt(h))throw new ie(`Graph.${a}: invalid attributes. Expecting an object but got "${h}"`)}c=""+c,d=""+d;let p;if(g&&(p=h,h=void 0),!o.allowSelfLoops&&c===d)throw new ge(`Graph.${a}: source & target are the same ("${c}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let y=o._nodes.get(c),v=o._nodes.get(d),S,_;if(!l&&(S=o._edges.get(s),S)){if((S.source.key!==c||S.target.key!==d)&&(!i||S.source.key!==d||S.target.key!==c))throw new ge(`Graph.${a}: inconsistency detected when attempting to merge the "${s}" edge with "${c}" source & "${d}" target vs. ("${S.source.key}", "${S.target.key}").`);_=S}if(!_&&!o.multi&&y&&(_=i?y.undirected[d]:y.out[d]),_){const $=[_.key,!1,!1,!1];if(g?!p:!h)return $;if(g){const q=_.attributes;_.attributes=p(q),o.emit("edgeAttributesUpdated",{type:"replace",key:_.key,attributes:_.attributes})}else Pe(_.attributes,h),o.emit("edgeAttributesUpdated",{type:"merge",key:_.key,attributes:_.attributes,data:h});return $}h=h||{},g&&p&&(h=p(h));const w={key:null,undirected:i,source:c,target:d,attributes:h};if(l)s=o._edgeKeyGenerator();else if(s=""+s,o._edges.has(s))throw new ge(`Graph.${a}: the "${s}" edge already exists in the graph.`);let D=!1,H=!1;y||(y=Ug(o,c,{}),D=!0,c===d&&(v=y,H=!0)),v||(v=Ug(o,d,{}),H=!0),S=new ca(i,s,y,v,h),o._edges.set(s,S);const K=c===d;return i?(y.undirectedDegree++,v.undirectedDegree++,K&&(y.undirectedLoops++,o._undirectedSelfLoopCount++)):(y.outDegree++,v.inDegree++,K&&(y.directedLoops++,o._directedSelfLoopCount++)),o.multi?S.attachMulti():S.attach(),i?o._undirectedSize++:o._directedSize++,w.key=s,o.emit("edgeAdded",w),[s,!0,D,H]}function ra(o,a){o._edges.delete(a.key);const{source:l,target:i,attributes:s}=a,c=a.undirected,d=l===i;c?(l.undirectedDegree--,i.undirectedDegree--,d&&(l.undirectedLoops--,o._undirectedSelfLoopCount--)):(l.outDegree--,i.inDegree--,d&&(l.directedLoops--,o._directedSelfLoopCount--)),o.multi?a.detachMulti():a.detach(),c?o._undirectedSize--:o._directedSize--,o.emit("edgeDropped",{key:a.key,attributes:s,source:l.key,target:i.key,undirected:c})}class Ue extends mp.EventEmitter{constructor(a){if(super(),a=Pe({},WS,a),typeof a.multi!="boolean")throw new ie(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${a.multi}".`);if(!IS.has(a.type))throw new ie(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${a.type}".`);if(typeof a.allowSelfLoops!="boolean")throw new ie(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${a.allowSelfLoops}".`);const l=a.type==="mixed"?yp:a.type==="directed"?bp:Sp;Bt(this,"NodeDataClass",l);const i="geid_"+JS()+"_";let s=0;const c=()=>{let d;do d=i+s++;while(this._edges.has(d));return d};Bt(this,"_attributes",{}),Bt(this,"_nodes",new Map),Bt(this,"_edges",new Map),Bt(this,"_directedSize",0),Bt(this,"_undirectedSize",0),Bt(this,"_directedSelfLoopCount",0),Bt(this,"_undirectedSelfLoopCount",0),Bt(this,"_edgeKeyGenerator",c),Bt(this,"_options",a),Gg.forEach(d=>Bt(this,d,this[d])),Xt(this,"order",()=>this._nodes.size),Xt(this,"size",()=>this._edges.size),Xt(this,"directedSize",()=>this._directedSize),Xt(this,"undirectedSize",()=>this._undirectedSize),Xt(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),Xt(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),Xt(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),Xt(this,"multi",this._options.multi),Xt(this,"type",this._options.type),Xt(this,"allowSelfLoops",this._options.allowSelfLoops),Xt(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(a){return this._nodes.has(""+a)}hasDirectedEdge(a,l){if(this.type==="undirected")return!1;if(arguments.length===1){const i=""+a,s=this._edges.get(i);return!!s&&!s.undirected}else if(arguments.length===2){a=""+a,l=""+l;const i=this._nodes.get(a);return i?i.out.hasOwnProperty(l):!1}throw new ie(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(a,l){if(this.type==="directed")return!1;if(arguments.length===1){const i=""+a,s=this._edges.get(i);return!!s&&s.undirected}else if(arguments.length===2){a=""+a,l=""+l;const i=this._nodes.get(a);return i?i.undirected.hasOwnProperty(l):!1}throw new ie(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(a,l){if(arguments.length===1){const i=""+a;return this._edges.has(i)}else if(arguments.length===2){a=""+a,l=""+l;const i=this._nodes.get(a);return i?typeof i.out<"u"&&i.out.hasOwnProperty(l)||typeof i.undirected<"u"&&i.undirected.hasOwnProperty(l):!1}throw new ie(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(a,l){if(this.type==="undirected")return;if(a=""+a,l=""+l,this.multi)throw new ge("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const i=this._nodes.get(a);if(!i)throw new P(`Graph.directedEdge: could not find the "${a}" source node in the graph.`);if(!this._nodes.has(l))throw new P(`Graph.directedEdge: could not find the "${l}" target node in the graph.`);const s=i.out&&i.out[l]||void 0;if(s)return s.key}undirectedEdge(a,l){if(this.type==="directed")return;if(a=""+a,l=""+l,this.multi)throw new ge("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const i=this._nodes.get(a);if(!i)throw new P(`Graph.undirectedEdge: could not find the "${a}" source node in the graph.`);if(!this._nodes.has(l))throw new P(`Graph.undirectedEdge: could not find the "${l}" target node in the graph.`);const s=i.undirected&&i.undirected[l]||void 0;if(s)return s.key}edge(a,l){if(this.multi)throw new ge("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.edge: could not find the "${a}" source node in the graph.`);if(!this._nodes.has(l))throw new P(`Graph.edge: could not find the "${l}" target node in the graph.`);const s=i.out&&i.out[l]||i.undirected&&i.undirected[l]||void 0;if(s)return s.key}areDirectedNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areDirectedNeighbors: could not find the "${a}" node in the graph.`);return this.type==="undirected"?!1:l in i.in||l in i.out}areOutNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areOutNeighbors: could not find the "${a}" node in the graph.`);return this.type==="undirected"?!1:l in i.out}areInNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areInNeighbors: could not find the "${a}" node in the graph.`);return this.type==="undirected"?!1:l in i.in}areUndirectedNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areUndirectedNeighbors: could not find the "${a}" node in the graph.`);return this.type==="directed"?!1:l in i.undirected}areNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areNeighbors: could not find the "${a}" node in the graph.`);return this.type!=="undirected"&&(l in i.in||l in i.out)||this.type!=="directed"&&l in i.undirected}areInboundNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areInboundNeighbors: could not find the "${a}" node in the graph.`);return this.type!=="undirected"&&l in i.in||this.type!=="directed"&&l in i.undirected}areOutboundNeighbors(a,l){a=""+a,l=""+l;const i=this._nodes.get(a);if(!i)throw new P(`Graph.areOutboundNeighbors: could not find the "${a}" node in the graph.`);return this.type!=="undirected"&&l in i.out||this.type!=="directed"&&l in i.undirected}inDegree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.inDegree: could not find the "${a}" node in the graph.`);return this.type==="undirected"?0:l.inDegree}outDegree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.outDegree: could not find the "${a}" node in the graph.`);return this.type==="undirected"?0:l.outDegree}directedDegree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.directedDegree: could not find the "${a}" node in the graph.`);return this.type==="undirected"?0:l.inDegree+l.outDegree}undirectedDegree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.undirectedDegree: could not find the "${a}" node in the graph.`);return this.type==="directed"?0:l.undirectedDegree}inboundDegree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.inboundDegree: could not find the "${a}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=l.undirectedDegree),this.type!=="undirected"&&(i+=l.inDegree),i}outboundDegree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.outboundDegree: could not find the "${a}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=l.undirectedDegree),this.type!=="undirected"&&(i+=l.outDegree),i}degree(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.degree: could not find the "${a}" node in the graph.`);let i=0;return this.type!=="directed"&&(i+=l.undirectedDegree),this.type!=="undirected"&&(i+=l.inDegree+l.outDegree),i}inDegreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.inDegreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);return this.type==="undirected"?0:l.inDegree-l.directedLoops}outDegreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.outDegreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);return this.type==="undirected"?0:l.outDegree-l.directedLoops}directedDegreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.directedDegreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);return this.type==="undirected"?0:l.inDegree+l.outDegree-l.directedLoops*2}undirectedDegreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);return this.type==="directed"?0:l.undirectedDegree-l.undirectedLoops*2}inboundDegreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);let i=0,s=0;return this.type!=="directed"&&(i+=l.undirectedDegree,s+=l.undirectedLoops*2),this.type!=="undirected"&&(i+=l.inDegree,s+=l.directedLoops),i-s}outboundDegreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);let i=0,s=0;return this.type!=="directed"&&(i+=l.undirectedDegree,s+=l.undirectedLoops*2),this.type!=="undirected"&&(i+=l.outDegree,s+=l.directedLoops),i-s}degreeWithoutSelfLoops(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.degreeWithoutSelfLoops: could not find the "${a}" node in the graph.`);let i=0,s=0;return this.type!=="directed"&&(i+=l.undirectedDegree,s+=l.undirectedLoops*2),this.type!=="undirected"&&(i+=l.inDegree+l.outDegree,s+=l.directedLoops*2),i-s}source(a){a=""+a;const l=this._edges.get(a);if(!l)throw new P(`Graph.source: could not find the "${a}" edge in the graph.`);return l.source.key}target(a){a=""+a;const l=this._edges.get(a);if(!l)throw new P(`Graph.target: could not find the "${a}" edge in the graph.`);return l.target.key}extremities(a){a=""+a;const l=this._edges.get(a);if(!l)throw new P(`Graph.extremities: could not find the "${a}" edge in the graph.`);return[l.source.key,l.target.key]}opposite(a,l){a=""+a,l=""+l;const i=this._edges.get(l);if(!i)throw new P(`Graph.opposite: could not find the "${l}" edge in the graph.`);const s=i.source.key,c=i.target.key;if(a===s)return c;if(a===c)return s;throw new P(`Graph.opposite: the "${a}" node is not attached to the "${l}" edge (${s}, ${c}).`)}hasExtremity(a,l){a=""+a,l=""+l;const i=this._edges.get(a);if(!i)throw new P(`Graph.hasExtremity: could not find the "${a}" edge in the graph.`);return i.source.key===l||i.target.key===l}isUndirected(a){a=""+a;const l=this._edges.get(a);if(!l)throw new P(`Graph.isUndirected: could not find the "${a}" edge in the graph.`);return l.undirected}isDirected(a){a=""+a;const l=this._edges.get(a);if(!l)throw new P(`Graph.isDirected: could not find the "${a}" edge in the graph.`);return!l.undirected}isSelfLoop(a){a=""+a;const l=this._edges.get(a);if(!l)throw new P(`Graph.isSelfLoop: could not find the "${a}" edge in the graph.`);return l.source===l.target}addNode(a,l){return eE(this,a,l).key}mergeNode(a,l){if(l&&!lt(l))throw new ie(`Graph.mergeNode: invalid attributes. Expecting an object but got "${l}"`);a=""+a,l=l||{};let i=this._nodes.get(a);return i?(l&&(Pe(i.attributes,l),this.emit("nodeAttributesUpdated",{type:"merge",key:a,attributes:i.attributes,data:l})),[a,!1]):(i=new this.NodeDataClass(a,l),this._nodes.set(a,i),this.emit("nodeAdded",{key:a,attributes:l}),[a,!0])}updateNode(a,l){if(l&&typeof l!="function")throw new ie(`Graph.updateNode: invalid updater function. Expecting a function but got "${l}"`);a=""+a;let i=this._nodes.get(a);if(i){if(l){const c=i.attributes;i.attributes=l(c),this.emit("nodeAttributesUpdated",{type:"replace",key:a,attributes:i.attributes})}return[a,!1]}const s=l?l({}):{};return i=new this.NodeDataClass(a,s),this._nodes.set(a,i),this.emit("nodeAdded",{key:a,attributes:s}),[a,!0]}dropNode(a){a=""+a;const l=this._nodes.get(a);if(!l)throw new P(`Graph.dropNode: could not find the "${a}" node in the graph.`);let i;if(this.type!=="undirected"){for(const s in l.out){i=l.out[s];do ra(this,i),i=i.next;while(i)}for(const s in l.in){i=l.in[s];do ra(this,i),i=i.next;while(i)}}if(this.type!=="directed")for(const s in l.undirected){i=l.undirected[s];do ra(this,i),i=i.next;while(i)}this._nodes.delete(a),this.emit("nodeDropped",{key:a,attributes:l.attributes})}dropEdge(a){let l;if(arguments.length>1){const i=""+arguments[0],s=""+arguments[1];if(l=Ht(this,i,s,this.type),!l)throw new P(`Graph.dropEdge: could not find the "${i}" -> "${s}" edge in the graph.`)}else if(a=""+a,l=this._edges.get(a),!l)throw new P(`Graph.dropEdge: could not find the "${a}" edge in the graph.`);return ra(this,l),this}dropDirectedEdge(a,l){if(arguments.length<2)throw new ge("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new ge("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");a=""+a,l=""+l;const i=Ht(this,a,l,"directed");if(!i)throw new P(`Graph.dropDirectedEdge: could not find a "${a}" -> "${l}" edge in the graph.`);return ra(this,i),this}dropUndirectedEdge(a,l){if(arguments.length<2)throw new ge("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new ge("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const i=Ht(this,a,l,"undirected");if(!i)throw new P(`Graph.dropUndirectedEdge: could not find a "${a}" -> "${l}" edge in the graph.`);return ra(this,i),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const a=this._nodes.values();let l;for(;l=a.next(),l.done!==!0;)l.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(a){return this._attributes[a]}getAttributes(){return this._attributes}hasAttribute(a){return this._attributes.hasOwnProperty(a)}setAttribute(a,l){return this._attributes[a]=l,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:a}),this}updateAttribute(a,l){if(typeof l!="function")throw new ie("Graph.updateAttribute: updater should be a function.");const i=this._attributes[a];return this._attributes[a]=l(i),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:a}),this}removeAttribute(a){return delete this._attributes[a],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:a}),this}replaceAttributes(a){if(!lt(a))throw new ie("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=a,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(a){if(!lt(a))throw new ie("Graph.mergeAttributes: provided attributes are not a plain object.");return Pe(this._attributes,a),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:a}),this}updateAttributes(a){if(typeof a!="function")throw new ie("Graph.updateAttributes: provided updater is not a function.");return this._attributes=a(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(a,l){if(typeof a!="function")throw new ie("Graph.updateEachNodeAttributes: expecting an updater function.");if(l&&!Mg(l))throw new ie("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._nodes.values();let s,c;for(;s=i.next(),s.done!==!0;)c=s.value,c.attributes=a(c.key,c.attributes);this.emit("eachNodeAttributesUpdated",{hints:l||null})}updateEachEdgeAttributes(a,l){if(typeof a!="function")throw new ie("Graph.updateEachEdgeAttributes: expecting an updater function.");if(l&&!Mg(l))throw new ie("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const i=this._edges.values();let s,c,d,h;for(;s=i.next(),s.done!==!0;)c=s.value,d=c.source,h=c.target,c.attributes=a(c.key,c.attributes,d.key,h.key,d.attributes,h.attributes,c.undirected);this.emit("eachEdgeAttributesUpdated",{hints:l||null})}forEachAdjacencyEntry(a){if(typeof a!="function")throw new ie("Graph.forEachAdjacencyEntry: expecting a callback.");Bl(!1,!1,!1,this,a)}forEachAdjacencyEntryWithOrphans(a){if(typeof a!="function")throw new ie("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Bl(!1,!1,!0,this,a)}forEachAssymetricAdjacencyEntry(a){if(typeof a!="function")throw new ie("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Bl(!1,!0,!1,this,a)}forEachAssymetricAdjacencyEntryWithOrphans(a){if(typeof a!="function")throw new ie("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Bl(!1,!0,!0,this,a)}nodes(){return Array.from(this._nodes.keys())}forEachNode(a){if(typeof a!="function")throw new ie("Graph.forEachNode: expecting a callback.");const l=this._nodes.values();let i,s;for(;i=l.next(),i.done!==!0;)s=i.value,a(s.key,s.attributes)}findNode(a){if(typeof a!="function")throw new ie("Graph.findNode: expecting a callback.");const l=this._nodes.values();let i,s;for(;i=l.next(),i.done!==!0;)if(s=i.value,a(s.key,s.attributes))return s.key}mapNodes(a){if(typeof a!="function")throw new ie("Graph.mapNode: expecting a callback.");const l=this._nodes.values();let i,s;const c=new Array(this.order);let d=0;for(;i=l.next(),i.done!==!0;)s=i.value,c[d++]=a(s.key,s.attributes);return c}someNode(a){if(typeof a!="function")throw new ie("Graph.someNode: expecting a callback.");const l=this._nodes.values();let i,s;for(;i=l.next(),i.done!==!0;)if(s=i.value,a(s.key,s.attributes))return!0;return!1}everyNode(a){if(typeof a!="function")throw new ie("Graph.everyNode: expecting a callback.");const l=this._nodes.values();let i,s;for(;i=l.next(),i.done!==!0;)if(s=i.value,!a(s.key,s.attributes))return!1;return!0}filterNodes(a){if(typeof a!="function")throw new ie("Graph.filterNodes: expecting a callback.");const l=this._nodes.values();let i,s;const c=[];for(;i=l.next(),i.done!==!0;)s=i.value,a(s.key,s.attributes)&&c.push(s.key);return c}reduceNodes(a,l){if(typeof a!="function")throw new ie("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new ie("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let i=l;const s=this._nodes.values();let c,d;for(;c=s.next(),c.done!==!0;)d=c.value,i=a(i,d.key,d.attributes);return i}nodeEntries(){const a=this._nodes.values();return{[Symbol.iterator](){return this},next(){const l=a.next();if(l.done)return l;const i=l.value;return{value:{node:i.key,attributes:i.attributes},done:!1}}}}export(){const a=new Array(this._nodes.size);let l=0;this._nodes.forEach((s,c)=>{a[l++]=XS(c,s)});const i=new Array(this._edges.size);return l=0,this._edges.forEach((s,c)=>{i[l++]=KS(this.type,c,s)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:a,edges:i}}import(a,l=!1){if(a instanceof Ue)return a.forEachNode((g,p)=>{l?this.mergeNode(g,p):this.addNode(g,p)}),a.forEachEdge((g,p,y,v,S,_,w)=>{l?w?this.mergeUndirectedEdgeWithKey(g,y,v,p):this.mergeDirectedEdgeWithKey(g,y,v,p):w?this.addUndirectedEdgeWithKey(g,y,v,p):this.addDirectedEdgeWithKey(g,y,v,p)}),this;if(!lt(a))throw new ie("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(a.attributes){if(!lt(a.attributes))throw new ie("Graph.import: invalid attributes. Expecting a plain object.");l?this.mergeAttributes(a.attributes):this.replaceAttributes(a.attributes)}let i,s,c,d,h;if(a.nodes){if(c=a.nodes,!Array.isArray(c))throw new ie("Graph.import: invalid nodes. Expecting an array.");for(i=0,s=c.length;i<s;i++){d=c[i],ZS(d);const{key:g,attributes:p}=d;l?this.mergeNode(g,p):this.addNode(g,p)}}if(a.edges){let g=!1;if(this.type==="undirected"&&(g=!0),c=a.edges,!Array.isArray(c))throw new ie("Graph.import: invalid edges. Expecting an array.");for(i=0,s=c.length;i<s;i++){h=c[i],QS(h);const{source:p,target:y,attributes:v,undirected:S=g}=h;let _;"key"in h?(_=l?S?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:S?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,_.call(this,h.key,p,y,v)):(_=l?S?this.mergeUndirectedEdge:this.mergeDirectedEdge:S?this.addUndirectedEdge:this.addDirectedEdge,_.call(this,p,y,v))}}return this}nullCopy(a){const l=new Ue(Pe({},this._options,a));return l.replaceAttributes(Pe({},this.getAttributes())),l}emptyCopy(a){const l=this.nullCopy(a);return this._nodes.forEach((i,s)=>{const c=Pe({},i.attributes);i=new l.NodeDataClass(s,c),l._nodes.set(s,i)}),l}copy(a){if(a=a||{},typeof a.type=="string"&&a.type!==this.type&&a.type!=="mixed")throw new ge(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${a.type}" because this would mean losing information about the current graph.`);if(typeof a.multi=="boolean"&&a.multi!==this.multi&&a.multi!==!0)throw new ge("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof a.allowSelfLoops=="boolean"&&a.allowSelfLoops!==this.allowSelfLoops&&a.allowSelfLoops!==!0)throw new ge("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const l=this.emptyCopy(a),i=this._edges.values();let s,c;for(;s=i.next(),s.done!==!0;)c=s.value,Tp(l,"copy",!1,c.undirected,c.key,c.source.key,c.target.key,Pe({},c.attributes));return l}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const a={};this._nodes.forEach((c,d)=>{a[d]=c.attributes});const l={},i={};this._edges.forEach((c,d)=>{const h=c.undirected?"--":"->";let g="",p=c.source.key,y=c.target.key,v;c.undirected&&p>y&&(v=p,p=y,y=v);const S=`(${p})${h}(${y})`;d.startsWith("geid_")?this.multi&&(typeof i[S]>"u"?i[S]=0:i[S]++,g+=`${i[S]}. `):g+=`[${d}]: `,g+=S,l[g]=c.attributes});const s={};for(const c in this)this.hasOwnProperty(c)&&!Gg.has(c)&&typeof this[c]!="function"&&typeof c!="symbol"&&(s[c]=this[c]);return s.attributes=this._attributes,s.nodes=a,s.edges=l,Bt(s,"constructor",this.constructor),s}}typeof Symbol<"u"&&(Ue.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ue.prototype.inspect);PS.forEach(o=>{["add","merge","update"].forEach(a=>{const l=o.name(a),i=a==="add"?Tp:tE;o.generateKey?Ue.prototype[l]=function(s,c,d){return i(this,l,!0,(o.type||this.type)==="undirected",null,s,c,d,a==="update")}:Ue.prototype[l]=function(s,c,d,h){return i(this,l,!1,(o.type||this.type)==="undirected",s,c,d,h,a==="update")}})});cS(Ue);ES(Ue);kS(Ue);VS(Ue);class Ap extends Ue{constructor(a){const l=Pe({type:"directed"},a);if("multi"in l&&l.multi!==!1)throw new ie("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(l.type!=="directed")throw new ie('DirectedGraph.from: inconsistent "'+l.type+'" type in given options!');super(l)}}class Cp extends Ue{constructor(a){const l=Pe({type:"undirected"},a);if("multi"in l&&l.multi!==!1)throw new ie("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(l.type!=="undirected")throw new ie('UndirectedGraph.from: inconsistent "'+l.type+'" type in given options!');super(l)}}class Rp extends Ue{constructor(a){const l=Pe({multi:!0},a);if("multi"in l&&l.multi!==!0)throw new ie("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(l)}}class Dp extends Ue{constructor(a){const l=Pe({type:"directed",multi:!0},a);if("multi"in l&&l.multi!==!0)throw new ie("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(l.type!=="directed")throw new ie('MultiDirectedGraph.from: inconsistent "'+l.type+'" type in given options!');super(l)}}class Np extends Ue{constructor(a){const l=Pe({type:"undirected",multi:!0},a);if("multi"in l&&l.multi!==!0)throw new ie("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(l.type!=="undirected")throw new ie('MultiUndirectedGraph.from: inconsistent "'+l.type+'" type in given options!');super(l)}}function fa(o){o.from=function(a,l){const i=Pe({},a.options,l),s=new o(i);return s.import(a),s}}fa(Ue);fa(Ap);fa(Cp);fa(Rp);fa(Dp);fa(Np);Ue.Graph=Ue;Ue.DirectedGraph=Ap;Ue.UndirectedGraph=Cp;Ue.MultiGraph=Rp;Ue.MultiDirectedGraph=Dp;Ue.MultiUndirectedGraph=Np;Ue.InvalidArgumentsGraphError=ie;Ue.NotFoundGraphError=P;Ue.UsageGraphError=ge;function nE(o,a){if(typeof o!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var i=l.call(o,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}function mr(o){var a=nE(o,"string");return typeof a=="symbol"?a:a+""}function ot(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function kg(o,a){for(var l=0;l<a.length;l++){var i=a[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,mr(i.key),i)}}function ut(o,a,l){return a&&kg(o.prototype,a),l&&kg(o,l),Object.defineProperty(o,"prototype",{writable:!1}),o}function sa(o){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},sa(o)}function Lp(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lp=function(){return!!o})()}function iE(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function aE(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iE(o)}function Ft(o,a,l){return a=sa(a),aE(o,Lp()?Reflect.construct(a,l||[],sa(o).constructor):a.apply(o,l))}function $u(o,a){return $u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,i){return l.__proto__=i,l},$u(o,a)}function $t(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),a&&$u(o,a)}function rE(o){if(Array.isArray(o))return o}function lE(o,a){var l=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(l!=null){var i,s,c,d,h=[],g=!0,p=!1;try{if(c=(l=l.call(o)).next,a===0){if(Object(l)!==l)return;g=!1}else for(;!(g=(i=c.call(l)).done)&&(h.push(i.value),h.length!==a);g=!0);}catch(y){p=!0,s=y}finally{try{if(!g&&l.return!=null&&(d=l.return(),Object(d)!==d))return}finally{if(p)throw s}}return h}}function qu(o,a){(a==null||a>o.length)&&(a=o.length);for(var l=0,i=Array(a);l<a;l++)i[l]=o[l];return i}function Op(o,a){if(o){if(typeof o=="string")return qu(o,a);var l={}.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?qu(o,a):void 0}}function sE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oa(o,a){return rE(o)||lE(o,a)||Op(o,a)||sE()}var Du={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"},zp=new Int8Array(4),Nu=new Int32Array(zp.buffer,0,1),oE=new Float32Array(zp.buffer,0,1),uE=/^\s*rgba?\s*\(/,cE=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function fE(o){var a=0,l=0,i=0,s=1;if(o[0]==="#")o.length===4?(a=parseInt(o.charAt(1)+o.charAt(1),16),l=parseInt(o.charAt(2)+o.charAt(2),16),i=parseInt(o.charAt(3)+o.charAt(3),16)):(a=parseInt(o.charAt(1)+o.charAt(2),16),l=parseInt(o.charAt(3)+o.charAt(4),16),i=parseInt(o.charAt(5)+o.charAt(6),16)),o.length===9&&(s=parseInt(o.charAt(7)+o.charAt(8),16)/255);else if(uE.test(o)){var c=o.match(cE);c&&(a=+c[1],l=+c[2],i=+c[3],c[4]&&(s=+c[4]))}return{r:a,g:l,b:i,a:s}}var la={};for(var Hl in Du)la[Hl]=br(Du[Hl]),la[Du[Hl]]=la[Hl];function Mp(o,a,l,i,s){return Nu[0]=i<<24|l<<16|a<<8|o,Nu[0]=Nu[0]&4278190079,oE[0]}function br(o){if(o=o.toLowerCase(),typeof la[o]<"u")return la[o];var a=fE(o),l=a.r,i=a.g,s=a.b,c=a.a;c=c*255|0;var d=Mp(l,i,s,c);return la[o]=d,d}var Lu={};function Gp(o){if(typeof Lu[o]<"u")return Lu[o];var a=(o&16711680)>>>16,l=(o&65280)>>>8,i=o&255,s=255,c=Mp(a,l,i,s);return Lu[o]=c,c}function jg(o,a,l,i){return l+(a<<8)+(o<<16)}function Bg(o,a,l,i,s,c){var d=Math.floor(l/c*s),h=Math.floor(o.drawingBufferHeight/c-i/c*s),g=new Uint8Array(4);o.bindFramebuffer(o.FRAMEBUFFER,a),o.readPixels(d,h,1,1,o.RGBA,o.UNSIGNED_BYTE,g);var p=oa(g,4),y=p[0],v=p[1],S=p[2],_=p[3];return[y,v,S,_]}function J(o,a,l){return(a=mr(a))in o?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,o}function Hg(o,a){var l=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);a&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),l.push.apply(l,i)}return l}function se(o){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Hg(Object(l),!0).forEach(function(i){J(o,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):Hg(Object(l)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(l,i))})}return o}function dE(o,a){for(;!{}.hasOwnProperty.call(o,a)&&(o=sa(o))!==null;);return o}function Yu(){return Yu=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,a,l){var i=dE(o,a);if(i){var s=Object.getOwnPropertyDescriptor(i,a);return s.get?s.get.call(arguments.length<3?o:l):s.value}},Yu.apply(null,arguments)}function Up(o,a,l,i){var s=Yu(sa(o.prototype),a,l);return typeof s=="function"?function(c){return s.apply(l,c)}:s}function hE(o){return o.normalized?1:o.size}function Ou(o){var a=0;return o.forEach(function(l){return a+=hE(l)}),a}function kp(o,a,l){var i=o==="VERTEX"?a.VERTEX_SHADER:a.FRAGMENT_SHADER,s=a.createShader(i);if(s===null)throw new Error("loadShader: error while creating the shader");a.shaderSource(s,l),a.compileShader(s);var c=a.getShaderParameter(s,a.COMPILE_STATUS);if(!c){var d=a.getShaderInfoLog(s);throw a.deleteShader(s),new Error(`loadShader: error while compiling the shader:
`.concat(d,`
`).concat(l))}return s}function gE(o,a){return kp("VERTEX",o,a)}function pE(o,a){return kp("FRAGMENT",o,a)}function mE(o,a){var l=o.createProgram();if(l===null)throw new Error("loadProgram: error while creating the program.");var i,s;for(i=0,s=a.length;i<s;i++)o.attachShader(l,a[i]);o.linkProgram(l);var c=o.getProgramParameter(l,o.LINK_STATUS);if(!c)throw o.deleteProgram(l),new Error("loadProgram: error while linking the program.");return l}function Fg(o){var a=o.gl,l=o.buffer,i=o.program,s=o.vertexShader,c=o.fragmentShader;a.deleteShader(s),a.deleteShader(c),a.deleteProgram(i),a.deleteBuffer(l)}var $g=`#define PICKING_MODE
`,vE=J(J(J(J(J(J(J(J({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4),jp=(function(){function o(a,l,i){ot(this,o),J(this,"array",new Float32Array),J(this,"constantArray",new Float32Array),J(this,"capacity",0),J(this,"verticesCount",0);var s=this.getDefinition();if(this.VERTICES=s.VERTICES,this.VERTEX_SHADER_SOURCE=s.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=s.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=s.UNIFORMS,this.ATTRIBUTES=s.ATTRIBUTES,this.METHOD=s.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in s?s.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in s?s.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in s,this.ATTRIBUTES_ITEMS_COUNT=Ou(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=i,this.normalProgram=this.getProgramInfo("normal",a,s.VERTEX_SHADER_SOURCE,s.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=l?this.getProgramInfo("pick",a,$g+s.VERTEX_SHADER_SOURCE,$g+s.FRAGMENT_SHADER_SOURCE,l):null,this.isInstanced){var c=Ou(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*c);for(var d=0;d<this.CONSTANT_DATA.length;d++){var h=this.CONSTANT_DATA[d];if(h.length!==c)throw new Error("Program: error while getting constant data (one vector has ".concat(h.length," items instead of ").concat(c,")"));for(var g=0;g<h.length;g++)this.constantArray[d*c+g]=h[g]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return ut(o,[{key:"kill",value:function(){Fg(this.normalProgram),this.pickProgram&&(Fg(this.pickProgram),this.pickProgram=null)}},{key:"getProgramInfo",value:function(l,i,s,c,d){var h=this.getDefinition(),g=i.createBuffer();if(g===null)throw new Error("Program: error while creating the WebGL buffer.");var p=gE(i,s),y=pE(i,c),v=mE(i,[p,y]),S={};h.UNIFORMS.forEach(function(D){var H=i.getUniformLocation(v,D);H&&(S[D]=H)});var _={};h.ATTRIBUTES.forEach(function(D){_[D.name]=i.getAttribLocation(v,D.name)});var w;if("CONSTANT_ATTRIBUTES"in h&&(h.CONSTANT_ATTRIBUTES.forEach(function(D){_[D.name]=i.getAttribLocation(v,D.name)}),w=i.createBuffer(),w===null))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:l,program:v,gl:i,frameBuffer:d,buffer:g,constantBuffer:w||{},uniformLocations:S,attributeLocations:_,isPicking:l==="pick",vertexShader:p,fragmentShader:y}}},{key:"bindProgram",value:function(l){var i=this,s=0,c=l.gl,d=l.buffer;this.isInstanced?(c.bindBuffer(c.ARRAY_BUFFER,l.constantBuffer),s=0,this.CONSTANT_ATTRIBUTES.forEach(function(h){return s+=i.bindAttribute(h,l,s,!1)}),c.bufferData(c.ARRAY_BUFFER,this.constantArray,c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,l.buffer),s=0,this.ATTRIBUTES.forEach(function(h){return s+=i.bindAttribute(h,l,s,!0)}),c.bufferData(c.ARRAY_BUFFER,this.array,c.DYNAMIC_DRAW)):(c.bindBuffer(c.ARRAY_BUFFER,d),s=0,this.ATTRIBUTES.forEach(function(h){return s+=i.bindAttribute(h,l,s)}),c.bufferData(c.ARRAY_BUFFER,this.array,c.DYNAMIC_DRAW)),c.bindBuffer(c.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(l){var i=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach(function(s){return i.unbindAttribute(s,l,!1)}),this.ATTRIBUTES.forEach(function(s){return i.unbindAttribute(s,l,!0)})):this.ATTRIBUTES.forEach(function(s){return i.unbindAttribute(s,l)})}},{key:"bindAttribute",value:function(l,i,s,c){var d=vE[l.type];if(typeof d!="number")throw new Error('Program.bind: yet unsupported attribute type "'.concat(l.type,'"'));var h=i.attributeLocations[l.name],g=i.gl;if(h!==-1){g.enableVertexAttribArray(h);var p=this.isInstanced?(c?this.ATTRIBUTES_ITEMS_COUNT:Ou(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(g.vertexAttribPointer(h,l.size,l.type,l.normalized||!1,p,s),this.isInstanced&&c)if(g instanceof WebGL2RenderingContext)g.vertexAttribDivisor(h,1);else{var y=g.getExtension("ANGLE_instanced_arrays");y&&y.vertexAttribDivisorANGLE(h,1)}}return l.size*d}},{key:"unbindAttribute",value:function(l,i,s){var c=i.attributeLocations[l.name],d=i.gl;if(c!==-1&&(d.disableVertexAttribArray(c),this.isInstanced&&s))if(d instanceof WebGL2RenderingContext)d.vertexAttribDivisor(c,0);else{var h=d.getExtension("ANGLE_instanced_arrays");h&&h.vertexAttribDivisorANGLE(c,0)}}},{key:"reallocate",value:function(l){l!==this.capacity&&(this.capacity=l,this.verticesCount=this.VERTICES*l,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return this.verticesCount===0}},{key:"renderProgram",value:function(l,i){var s=i.gl,c=i.program;s.enable(s.BLEND),s.useProgram(c),this.setUniforms(l,i),this.drawWebGL(this.METHOD,i)}},{key:"render",value:function(l){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,l.width*l.pixelRatio/l.downSizingRatio,l.height*l.pixelRatio/l.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(se(se({},l),{},{pixelRatio:l.pixelRatio/l.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,l.width*l.pixelRatio,l.height*l.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(l,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(l,i){var s=i.gl,c=i.frameBuffer;if(s.bindFramebuffer(s.FRAMEBUFFER,c),!this.isInstanced)s.drawArrays(l,0,this.verticesCount);else if(s instanceof WebGL2RenderingContext)s.drawArraysInstanced(l,0,this.VERTICES,this.capacity);else{var d=s.getExtension("ANGLE_instanced_arrays");d&&d.drawArraysInstancedANGLE(l,0,this.VERTICES,this.capacity)}}}])})(),yE=(function(o){function a(){return ot(this,a),Ft(this,a,arguments)}return $t(a,o),ut(a,[{key:"kill",value:function(){Up(a,"kill",this)([])}},{key:"process",value:function(i,s,c){var d=s*this.STRIDE;if(c.hidden){for(var h=d+this.STRIDE;d<h;d++)this.array[d]=0;return}return this.processVisibleItem(Gp(i),d,c)}}])})(jp),Pu=(function(o){function a(){var l;ot(this,a);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return l=Ft(this,a,[].concat(s)),J(l,"drawLabel",void 0),l}return $t(a,o),ut(a,[{key:"kill",value:function(){Up(a,"kill",this)([])}},{key:"process",value:function(i,s,c,d,h){var g=s*this.STRIDE;if(h.hidden||c.hidden||d.hidden){for(var p=g+this.STRIDE;g<p;g++)this.array[g]=0;return}return this.processVisibleItem(Gp(i),g,c,d,h)}}])})(jp);function bE(o,a){return(function(){function l(i,s,c){ot(this,l),J(this,"drawLabel",a),this.programs=o.map(function(d){return new d(i,s,c)})}return ut(l,[{key:"reallocate",value:function(s){this.programs.forEach(function(c){return c.reallocate(s)})}},{key:"process",value:function(s,c,d,h,g){this.programs.forEach(function(p){return p.process(s,c,d,h,g)})}},{key:"render",value:function(s){this.programs.forEach(function(c){return c.render(s)})}},{key:"kill",value:function(){this.programs.forEach(function(s){return s.kill()})}}])})()}function SE(o,a,l,i,s){var c=s.edgeLabelSize,d=s.edgeLabelFont,h=s.edgeLabelWeight,g=s.edgeLabelColor.attribute?a[s.edgeLabelColor.attribute]||s.edgeLabelColor.color||"#000":s.edgeLabelColor.color,p=a.label;if(p){o.fillStyle=g,o.font="".concat(h," ").concat(c,"px ").concat(d);var y=l.size,v=i.size,S=l.x,_=l.y,w=i.x,D=i.y,H=(S+w)/2,K=(_+D)/2,$=w-S,q=D-_,C=Math.sqrt($*$+q*q);if(!(C<y+v)){S+=$*y/C,_+=q*y/C,w-=$*v/C,D-=q*v/C,H=(S+w)/2,K=(_+D)/2,$=w-S,q=D-_,C=Math.sqrt($*$+q*q);var M=o.measureText(p).width;if(M>C){var B="";for(p=p+B,M=o.measureText(p).width;M>C&&p.length>1;)p=p.slice(0,-2)+B,M=o.measureText(p).width;if(p.length<4)return}var G;$>0?q>0?G=Math.acos($/C):G=Math.asin(q/C):q>0?G=Math.acos($/C)+Math.PI:G=Math.asin($/C)+Math.PI/2,o.save(),o.translate(H,K),o.rotate(G),o.fillText(p,-M/2,a.size/2+c),o.restore()}}}function Bp(o,a,l){if(a.label){var i=l.labelSize,s=l.labelFont,c=l.labelWeight,d=l.labelColor.attribute?a[l.labelColor.attribute]||l.labelColor.color||"#000":l.labelColor.color;o.fillStyle=d,o.font="".concat(c," ").concat(i,"px ").concat(s),o.fillText(a.label,a.x+a.size+3,a.y+i/3)}}function EE(o,a,l){var i=l.labelSize,s=l.labelFont,c=l.labelWeight;o.font="".concat(c," ").concat(i,"px ").concat(s),o.fillStyle="#FFF",o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=8,o.shadowColor="#000";var d=2;if(typeof a.label=="string"){var h=o.measureText(a.label).width,g=Math.round(h+5),p=Math.round(i+2*d),y=Math.max(a.size,i/2)+d,v=Math.asin(p/2/y),S=Math.sqrt(Math.abs(Math.pow(y,2)-Math.pow(p/2,2)));o.beginPath(),o.moveTo(a.x+S,a.y+p/2),o.lineTo(a.x+y+g,a.y+p/2),o.lineTo(a.x+y+g,a.y-p/2),o.lineTo(a.x+S,a.y-p/2),o.arc(a.x,a.y,y,v,-v),o.closePath(),o.fill()}else o.beginPath(),o.arc(a.x,a.y,a.size+d,0,Math.PI*2),o.closePath(),o.fill();o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowBlur=0,Bp(o,a,l)}var xE=`
precision highp float;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;

uniform float u_correctionRatio;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float border = u_correctionRatio * 2.0;
  float dist = length(v_diffVector) - v_radius + border;

  // No antialiasing for picking mode:
  #ifdef PICKING_MODE
  if (dist > border)
    gl_FragColor = transparent;
  else
    gl_FragColor = v_color;

  #else
  float t = 0.0;
  if (dist > border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / border;

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,_E=xE,wE=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_position;
attribute float a_size;
attribute float a_angle;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_diffVector;
varying float v_radius;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;
  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));
  vec2 position = a_position + diffVector;
  gl_Position = vec4(
    (u_matrix * vec3(position, 1)).xy,
    0,
    1
  );

  v_diffVector = diffVector;
  v_radius = size / 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,TE=wE,Hp=WebGLRenderingContext,qg=Hp.UNSIGNED_BYTE,zu=Hp.FLOAT,AE=["u_sizeRatio","u_correctionRatio","u_matrix"],Il=(function(o){function a(){return ot(this,a),Ft(this,a,arguments)}return $t(a,o),ut(a,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:TE,FRAGMENT_SHADER_SOURCE:_E,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:AE,ATTRIBUTES:[{name:"a_position",size:2,type:zu},{name:"a_size",size:1,type:zu},{name:"a_color",size:4,type:qg,normalized:!0},{name:"a_id",size:4,type:qg,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:zu}],CONSTANT_DATA:[[a.ANGLE_1],[a.ANGLE_2],[a.ANGLE_3]]}}},{key:"processVisibleItem",value:function(i,s,c){var d=this.array,h=br(c.color);d[s++]=c.x,d[s++]=c.y,d[s++]=c.size,d[s++]=h,d[s++]=i}},{key:"setUniforms",value:function(i,s){var c=s.gl,d=s.uniformLocations,h=d.u_sizeRatio,g=d.u_correctionRatio,p=d.u_matrix;c.uniform1f(g,i.correctionRatio),c.uniform1f(h,i.sizeRatio),c.uniformMatrix3fv(p,!1,i.matrix)}}])})(yE);J(Il,"ANGLE_1",0);J(Il,"ANGLE_2",2*Math.PI/3);J(Il,"ANGLE_3",4*Math.PI/3);var CE=`
precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`,RE=CE,DE=`
attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec3 a_barycentric;

#ifdef PICKING_MODE
attribute vec4 a_id;
#else
attribute vec4 a_color;
#endif

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_widenessToThicknessRatio;

varying vec4 v_color;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength / u_sizeRatio, minThickness);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;
  float webGLArrowHeadThickness = webGLThickness * u_widenessToThicknessRatio;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (webGLNodeRadius * unitNormal.y)
    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadThickness * unitNormal.x)
    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadThickness * unitNormal.x),

      da * (-webGLNodeRadius * unitNormal.x)
    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadThickness * unitNormal.y)
    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadThickness * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,NE=DE,Fp=WebGLRenderingContext,Yg=Fp.UNSIGNED_BYTE,Fl=Fp.FLOAT,LE=["u_matrix","u_sizeRatio","u_correctionRatio","u_minEdgeThickness","u_lengthToThicknessRatio","u_widenessToThicknessRatio"],$p={extremity:"target",lengthToThicknessRatio:2.5,widenessToThicknessRatio:2};function qp(o){var a=se(se({},$p),{});return(function(l){function i(){return ot(this,i),Ft(this,i,arguments)}return $t(i,l),ut(i,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:NE,FRAGMENT_SHADER_SOURCE:RE,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:LE,ATTRIBUTES:[{name:"a_position",size:2,type:Fl},{name:"a_normal",size:2,type:Fl},{name:"a_radius",size:1,type:Fl},{name:"a_color",size:4,type:Yg,normalized:!0},{name:"a_id",size:4,type:Yg,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:Fl}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(c,d,h,g,p){if(a.extremity==="source"){var y=[g,h];h=y[0],g=y[1]}var v=p.size||1,S=g.size||1,_=h.x,w=h.y,D=g.x,H=g.y,K=br(p.color),$=D-_,q=H-w,C=$*$+q*q,M=0,B=0;C&&(C=1/Math.sqrt(C),M=-q*C*v,B=$*C*v);var G=this.array;G[d++]=D,G[d++]=H,G[d++]=-M,G[d++]=-B,G[d++]=S,G[d++]=K,G[d++]=c}},{key:"setUniforms",value:function(c,d){var h=d.gl,g=d.uniformLocations,p=g.u_matrix,y=g.u_sizeRatio,v=g.u_correctionRatio,S=g.u_minEdgeThickness,_=g.u_lengthToThicknessRatio,w=g.u_widenessToThicknessRatio;h.uniformMatrix3fv(p,!1,c.matrix),h.uniform1f(y,c.sizeRatio),h.uniform1f(v,c.correctionRatio),h.uniform1f(S,c.minEdgeThickness),h.uniform1f(_,a.lengthToThicknessRatio),h.uniform1f(w,a.widenessToThicknessRatio)}}])})(Pu)}qp();var OE=`
precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  // We only handle antialiasing for normal mode:
  #ifdef PICKING_MODE
  gl_FragColor = v_color;
  #else
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - v_feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
  #endif
}
`,Yp=OE,zE=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;
attribute float a_radius;
attribute float a_radiusCoef;

uniform mat3 u_matrix;
uniform float u_zoomRatio;
uniform float u_sizeRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_lengthToThicknessRatio;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  float radius = a_radius * a_radiusCoef;
  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(radius);
  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;
  float webGLArrowHeadLength = webGLThickness * u_lengthToThicknessRatio * 2.0;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,ME=zE,Vp=WebGLRenderingContext,Vg=Vp.UNSIGNED_BYTE,pi=Vp.FLOAT,GE=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness","u_lengthToThicknessRatio"],UE={lengthToThicknessRatio:$p.lengthToThicknessRatio};function Xp(o){var a=se(se({},UE),{});return(function(l){function i(){return ot(this,i),Ft(this,i,arguments)}return $t(i,l),ut(i,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:ME,FRAGMENT_SHADER_SOURCE:Yp,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:GE,ATTRIBUTES:[{name:"a_positionStart",size:2,type:pi},{name:"a_positionEnd",size:2,type:pi},{name:"a_normal",size:2,type:pi},{name:"a_color",size:4,type:Vg,normalized:!0},{name:"a_id",size:4,type:Vg,normalized:!0},{name:"a_radius",size:1,type:pi}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:pi},{name:"a_normalCoef",size:1,type:pi},{name:"a_radiusCoef",size:1,type:pi}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]}}},{key:"processVisibleItem",value:function(c,d,h,g,p){var y=p.size||1,v=h.x,S=h.y,_=g.x,w=g.y,D=br(p.color),H=_-v,K=w-S,$=g.size||1,q=H*H+K*K,C=0,M=0;q&&(q=1/Math.sqrt(q),C=-K*q*y,M=H*q*y);var B=this.array;B[d++]=v,B[d++]=S,B[d++]=_,B[d++]=w,B[d++]=C,B[d++]=M,B[d++]=D,B[d++]=c,B[d++]=$}},{key:"setUniforms",value:function(c,d){var h=d.gl,g=d.uniformLocations,p=g.u_matrix,y=g.u_zoomRatio,v=g.u_feather,S=g.u_pixelRatio,_=g.u_correctionRatio,w=g.u_sizeRatio,D=g.u_minEdgeThickness,H=g.u_lengthToThicknessRatio;h.uniformMatrix3fv(p,!1,c.matrix),h.uniform1f(y,c.zoomRatio),h.uniform1f(w,c.sizeRatio),h.uniform1f(_,c.correctionRatio),h.uniform1f(S,c.pixelRatio),h.uniform1f(v,c.antiAliasingFeather),h.uniform1f(D,c.minEdgeThickness),h.uniform1f(H,a.lengthToThicknessRatio)}}])})(Pu)}Xp();function kE(o){return bE([Xp(),qp()])}var jE=kE(),BE=jE,HE=`
attribute vec4 a_id;
attribute vec4 a_color;
attribute vec2 a_normal;
attribute float a_normalCoef;
attribute vec2 a_positionStart;
attribute vec2 a_positionEnd;
attribute float a_positionCoef;

uniform mat3 u_matrix;
uniform float u_sizeRatio;
uniform float u_zoomRatio;
uniform float u_pixelRatio;
uniform float u_correctionRatio;
uniform float u_minEdgeThickness;
uniform float u_feather;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;
varying float v_feather;

const float bias = 255.0 / 254.0;

void main() {
  float minThickness = u_minEdgeThickness;

  vec2 normal = a_normal * a_normalCoef;
  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;

  float normalLength = length(normal);
  vec2 unitNormal = normal / normalLength;

  // We require edges to be at least "minThickness" pixels thick *on screen*
  // (so we need to compensate the size ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasing effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_zoomRatio;

  v_normal = unitNormal;

  v_feather = u_feather * u_correctionRatio / u_zoomRatio / u_pixelRatio * 2.0;

  #ifdef PICKING_MODE
  // For picking mode, we use the ID as the color:
  v_color = a_id;
  #else
  // For normal mode, we use the color:
  v_color = a_color;
  #endif

  v_color.a *= bias;
}
`,FE=HE,Kp=WebGLRenderingContext,Xg=Kp.UNSIGNED_BYTE,cr=Kp.FLOAT,$E=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio","u_pixelRatio","u_feather","u_minEdgeThickness"],qE=(function(o){function a(){return ot(this,a),Ft(this,a,arguments)}return $t(a,o),ut(a,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:FE,FRAGMENT_SHADER_SOURCE:Yp,METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:$E,ATTRIBUTES:[{name:"a_positionStart",size:2,type:cr},{name:"a_positionEnd",size:2,type:cr},{name:"a_normal",size:2,type:cr},{name:"a_color",size:4,type:Xg,normalized:!0},{name:"a_id",size:4,type:Xg,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:cr},{name:"a_normalCoef",size:1,type:cr}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(i,s,c,d,h){var g=h.size||1,p=c.x,y=c.y,v=d.x,S=d.y,_=br(h.color),w=v-p,D=S-y,H=w*w+D*D,K=0,$=0;H&&(H=1/Math.sqrt(H),K=-D*H*g,$=w*H*g);var q=this.array;q[s++]=p,q[s++]=y,q[s++]=v,q[s++]=S,q[s++]=K,q[s++]=$,q[s++]=_,q[s++]=i}},{key:"setUniforms",value:function(i,s){var c=s.gl,d=s.uniformLocations,h=d.u_matrix,g=d.u_zoomRatio,p=d.u_feather,y=d.u_pixelRatio,v=d.u_correctionRatio,S=d.u_sizeRatio,_=d.u_minEdgeThickness;c.uniformMatrix3fv(h,!1,i.matrix),c.uniform1f(g,i.zoomRatio),c.uniform1f(S,i.sizeRatio),c.uniform1f(v,i.correctionRatio),c.uniform1f(y,i.pixelRatio),c.uniform1f(p,i.antiAliasingFeather),c.uniform1f(_,i.minEdgeThickness)}}])})(Pu),Wu=(function(o){function a(){var l;return ot(this,a),l=Ft(this,a),l.rawEmitter=l,l}return $t(a,o),ut(a)})(mp.EventEmitter),Mu,Kg;function YE(){return Kg||(Kg=1,Mu=function(a){return a!==null&&typeof a=="object"&&typeof a.addUndirectedEdgeWithKey=="function"&&typeof a.dropNode=="function"&&typeof a.multi=="boolean"}),Mu}var VE=YE();const XE=Ku(VE);var KE=function(a){return a},ZE=function(a){return a*a},QE=function(a){return a*(2-a)},JE=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},IE=function(a){return a*a*a},PE=function(a){return--a*a*a+1},WE=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},e1={linear:KE,quadraticIn:ZE,quadraticOut:QE,quadraticInOut:JE,cubicIn:IE,cubicOut:PE,cubicInOut:WE},t1={easing:"quadraticInOut",duration:150};function Kt(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function $l(o,a,l){return o[0]=a,o[4]=typeof l=="number"?l:a,o}function Zg(o,a){var l=Math.sin(a),i=Math.cos(a);return o[0]=i,o[1]=l,o[3]=-l,o[4]=i,o}function Qg(o,a,l){return o[6]=a,o[7]=l,o}function Jn(o,a){var l=o[0],i=o[1],s=o[2],c=o[3],d=o[4],h=o[5],g=o[6],p=o[7],y=o[8],v=a[0],S=a[1],_=a[2],w=a[3],D=a[4],H=a[5],K=a[6],$=a[7],q=a[8];return o[0]=v*l+S*c+_*g,o[1]=v*i+S*d+_*p,o[2]=v*s+S*h+_*y,o[3]=w*l+D*c+H*g,o[4]=w*i+D*d+H*p,o[5]=w*s+D*h+H*y,o[6]=K*l+$*c+q*g,o[7]=K*i+$*d+q*p,o[8]=K*s+$*h+q*y,o}function Vu(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=o[0],s=o[1],c=o[3],d=o[4],h=o[6],g=o[7],p=a.x,y=a.y;return{x:p*i+y*c+h*l,y:p*s+y*d+g*l}}function n1(o,a){var l=o.height/o.width,i=a.height/a.width;return l<1&&i>1||l>1&&i<1?1:Math.min(Math.max(i,1/i),Math.max(1/l,l))}function fr(o,a,l,i,s){var c=o.angle,d=o.ratio,h=o.x,g=o.y,p=a.width,y=a.height,v=Kt(),S=Math.min(p,y)-2*i,_=n1(a,l);return s?(Jn(v,Qg(Kt(),h,g)),Jn(v,$l(Kt(),d)),Jn(v,Zg(Kt(),c)),Jn(v,$l(Kt(),p/S/2/_,y/S/2/_))):(Jn(v,$l(Kt(),2*(S/p)*_,2*(S/y)*_)),Jn(v,Zg(Kt(),-c)),Jn(v,$l(Kt(),1/d)),Jn(v,Qg(Kt(),-h,-g))),v}function i1(o,a,l){var i=Vu(o,{x:Math.cos(a.angle),y:Math.sin(a.angle)},0),s=i.x,c=i.y;return 1/Math.sqrt(Math.pow(s,2)+Math.pow(c,2))/l.width}function a1(o){if(!o.order)return{x:[0,1],y:[0,1]};var a=1/0,l=-1/0,i=1/0,s=-1/0;return o.forEachNode(function(c,d){var h=d.x,g=d.y;h<a&&(a=h),h>l&&(l=h),g<i&&(i=g),g>s&&(s=g)}),{x:[a,l],y:[i,s]}}function r1(o){if(!XE(o))throw new Error("Sigma: invalid graph instance.");o.forEachNode(function(a,l){if(!Number.isFinite(l.x)||!Number.isFinite(l.y))throw new Error("Sigma: Coordinates of node ".concat(a," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}function l1(o,a,l){var i=document.createElement(o);if(a)for(var s in a)i.style[s]=a[s];if(l)for(var c in l)i.setAttribute(c,l[c]);return i}function Jg(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}function Ig(o,a,l){return l.sort(function(i,s){var c=a(i)||0,d=a(s)||0;return c<d?-1:c>d?1:0})}function Pg(o){var a=oa(o.x,2),l=a[0],i=a[1],s=oa(o.y,2),c=s[0],d=s[1],h=Math.max(i-l,d-c),g=(i+l)/2,p=(d+c)/2;(h===0||Math.abs(h)===1/0||isNaN(h))&&(h=1),isNaN(g)&&(g=0),isNaN(p)&&(p=0);var y=function(S){return{x:.5+(S.x-g)/h,y:.5+(S.y-p)/h}};return y.applyTo=function(v){v.x=.5+(v.x-g)/h,v.y=.5+(v.y-p)/h},y.inverse=function(v){return{x:g+h*(v.x-.5),y:p+h*(v.y-.5)}},y.ratio=h,y}function Xu(o){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Xu(o)}function Wg(o,a){var l=a.size;if(l!==0){var i=o.length;o.length+=l;var s=0;a.forEach(function(c){o[i+s]=c,s++})}}function Gu(o){o=o||{};for(var a=0,l=arguments.length<=1?0:arguments.length-1;a<l;a++){var i=a+1<1||arguments.length<=a+1?void 0:arguments[a+1];i&&Object.assign(o,i)}return o}var ec={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,defaultDrawEdgeLabel:SE,defaultDrawNodeLabel:Bp,defaultDrawNodeHover:EE,minEdgeThickness:1.7,antiAliasingFeather:1,dragTimeout:100,draggedEventsTolerance:3,inertiaDuration:200,inertiaRatio:3,zoomDuration:250,zoomingRatio:1.7,doubleClickTimeout:300,doubleClickZoomingRatio:2.2,doubleClickZoomingDuration:200,tapMoveTolerance:10,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",autoRescale:!0,autoCenter:!0,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,enableCameraZooming:!0,enableCameraPanning:!0,enableCameraRotation:!0,cameraPanBoundaries:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},s1={circle:Il},o1={arrow:BE,line:qE};function Uu(o){if(typeof o.labelDensity!="number"||o.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var a=o.minCameraRatio,l=o.maxCameraRatio;if(typeof a=="number"&&typeof l=="number"&&l<a)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}function u1(o){var a=Gu({},ec,o);return a.nodeProgramClasses=Gu({},s1,a.nodeProgramClasses),a.edgeProgramClasses=Gu({},o1,a.edgeProgramClasses),a}var ql=1.5,ep=(function(o){function a(){var l;return ot(this,a),l=Ft(this,a),J(l,"x",.5),J(l,"y",.5),J(l,"angle",0),J(l,"ratio",1),J(l,"minRatio",null),J(l,"maxRatio",null),J(l,"enabledZooming",!0),J(l,"enabledPanning",!0),J(l,"enabledRotation",!0),J(l,"clean",null),J(l,"nextFrame",null),J(l,"previousState",null),J(l,"enabled",!0),l.previousState=l.getState(),l}return $t(a,o),ut(a,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(i){return this.x===i.x&&this.y===i.y&&this.ratio===i.ratio&&this.angle===i.angle}},{key:"getPreviousState",value:function(){var i=this.previousState;return i?{x:i.x,y:i.y,angle:i.angle,ratio:i.ratio}:null}},{key:"getBoundedRatio",value:function(i){var s=i;return typeof this.minRatio=="number"&&(s=Math.max(s,this.minRatio)),typeof this.maxRatio=="number"&&(s=Math.min(s,this.maxRatio)),s}},{key:"validateState",value:function(i){var s={};return this.enabledPanning&&typeof i.x=="number"&&(s.x=i.x),this.enabledPanning&&typeof i.y=="number"&&(s.y=i.y),this.enabledZooming&&typeof i.ratio=="number"&&(s.ratio=this.getBoundedRatio(i.ratio)),this.enabledRotation&&typeof i.angle=="number"&&(s.angle=i.angle),this.clean?this.clean(se(se({},this.getState()),s)):s}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(i){if(!this.enabled)return this;this.previousState=this.getState();var s=this.validateState(i);return typeof s.x=="number"&&(this.x=s.x),typeof s.y=="number"&&(this.y=s.y),typeof s.ratio=="number"&&(this.ratio=s.ratio),typeof s.angle=="number"&&(this.angle=s.angle),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(i){return this.setState(i(this.getState())),this}},{key:"animate",value:function(i){var s=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0;if(!d)return new Promise(function(_){return s.animate(i,c,_)});if(this.enabled){var h=se(se({},t1),c),g=this.validateState(i),p=typeof h.easing=="function"?h.easing:e1[h.easing],y=Date.now(),v=this.getState(),S=function(){var w=(Date.now()-y)/h.duration;if(w>=1){s.nextFrame=null,s.setState(g),s.animationCallback&&(s.animationCallback.call(null),s.animationCallback=void 0);return}var D=p(w),H={};typeof g.x=="number"&&(H.x=v.x+(g.x-v.x)*D),typeof g.y=="number"&&(H.y=v.y+(g.y-v.y)*D),s.enabledRotation&&typeof g.angle=="number"&&(H.angle=v.angle+(g.angle-v.angle)*D),typeof g.ratio=="number"&&(H.ratio=v.ratio+(g.ratio-v.ratio)*D),s.setState(H),s.nextFrame=requestAnimationFrame(S)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(S)):S(),this.animationCallback=d}}},{key:"animatedZoom",value:function(i){return i?typeof i=="number"?this.animate({ratio:this.ratio/i}):this.animate({ratio:this.ratio/(i.factor||ql)},i):this.animate({ratio:this.ratio/ql})}},{key:"animatedUnzoom",value:function(i){return i?typeof i=="number"?this.animate({ratio:this.ratio*i}):this.animate({ratio:this.ratio*(i.factor||ql)},i):this.animate({ratio:this.ratio*ql})}},{key:"animatedReset",value:function(i){return this.animate({x:.5,y:.5,ratio:1,angle:0},i)}},{key:"copy",value:function(){return a.from(this.getState())}}],[{key:"from",value:function(i){var s=new a;return s.setState(i)}}])})(Wu);function Zt(o,a){var l=a.getBoundingClientRect();return{x:o.clientX-l.left,y:o.clientY-l.top}}function En(o,a){var l=se(se({},Zt(o,a)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){l.sigmaDefaultPrevented=!0},original:o});return l}function dr(o){var a="x"in o?o:se(se({},o.touches[0]||o.previousTouches[0]),{},{original:o.original,sigmaDefaultPrevented:o.sigmaDefaultPrevented,preventSigmaDefault:function(){o.sigmaDefaultPrevented=!0,a.sigmaDefaultPrevented=!0}});return a}function c1(o,a){return se(se({},En(o,a)),{},{delta:Zp(o)})}var f1=2;function Yl(o){for(var a=[],l=0,i=Math.min(o.length,f1);l<i;l++)a.push(o[l]);return a}function hr(o,a,l){var i={touches:Yl(o.touches).map(function(s){return Zt(s,l)}),previousTouches:a.map(function(s){return Zt(s,l)}),sigmaDefaultPrevented:!1,preventSigmaDefault:function(){i.sigmaDefaultPrevented=!0},original:o};return i}function Zp(o){if(typeof o.deltaY<"u")return o.deltaY*-3/360;if(typeof o.detail<"u")return o.detail/-9;throw new Error("Captor: could not extract delta from event.")}var Qp=(function(o){function a(l,i){var s;return ot(this,a),s=Ft(this,a),s.container=l,s.renderer=i,s}return $t(a,o),ut(a)})(Wu),d1=["doubleClickTimeout","doubleClickZoomingDuration","doubleClickZoomingRatio","dragTimeout","draggedEventsTolerance","inertiaDuration","inertiaRatio","zoomDuration","zoomingRatio"],h1=d1.reduce(function(o,a){return se(se({},o),{},J({},a,ec[a]))},{}),g1=(function(o){function a(l,i){var s;return ot(this,a),s=Ft(this,a,[l,i]),J(s,"enabled",!0),J(s,"draggedEvents",0),J(s,"downStartTime",null),J(s,"lastMouseX",null),J(s,"lastMouseY",null),J(s,"isMouseDown",!1),J(s,"isMoving",!1),J(s,"movingTimeout",null),J(s,"startCameraState",null),J(s,"clicks",0),J(s,"doubleClickTimeout",null),J(s,"currentWheelDirection",0),J(s,"settings",h1),s.handleClick=s.handleClick.bind(s),s.handleRightClick=s.handleRightClick.bind(s),s.handleDown=s.handleDown.bind(s),s.handleUp=s.handleUp.bind(s),s.handleMove=s.handleMove.bind(s),s.handleWheel=s.handleWheel.bind(s),s.handleLeave=s.handleLeave.bind(s),s.handleEnter=s.handleEnter.bind(s),l.addEventListener("click",s.handleClick,{capture:!1}),l.addEventListener("contextmenu",s.handleRightClick,{capture:!1}),l.addEventListener("mousedown",s.handleDown,{capture:!1}),l.addEventListener("wheel",s.handleWheel,{capture:!1}),l.addEventListener("mouseleave",s.handleLeave,{capture:!1}),l.addEventListener("mouseenter",s.handleEnter,{capture:!1}),document.addEventListener("mousemove",s.handleMove,{capture:!1}),document.addEventListener("mouseup",s.handleUp,{capture:!1}),s}return $t(a,o),ut(a,[{key:"kill",value:function(){var i=this.container;i.removeEventListener("click",this.handleClick),i.removeEventListener("contextmenu",this.handleRightClick),i.removeEventListener("mousedown",this.handleDown),i.removeEventListener("wheel",this.handleWheel),i.removeEventListener("mouseleave",this.handleLeave),i.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(i){var s=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(i);setTimeout(function(){s.clicks=0,s.doubleClickTimeout=null},this.settings.doubleClickTimeout),this.draggedEvents<this.settings.draggedEventsTolerance&&this.emit("click",En(i,this.container))}}},{key:"handleRightClick",value:function(i){this.enabled&&this.emit("rightClick",En(i,this.container))}},{key:"handleDoubleClick",value:function(i){if(this.enabled){i.preventDefault(),i.stopPropagation();var s=En(i,this.container);if(this.emit("doubleClick",s),!s.sigmaDefaultPrevented){var c=this.renderer.getCamera(),d=c.getBoundedRatio(c.getState().ratio/this.settings.doubleClickZoomingRatio);c.animate(this.renderer.getViewportZoomedState(Zt(i,this.container),d),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}}},{key:"handleDown",value:function(i){if(this.enabled){if(i.button===0){this.startCameraState=this.renderer.getCamera().getState();var s=Zt(i,this.container),c=s.x,d=s.y;this.lastMouseX=c,this.lastMouseY=d,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",En(i,this.container))}}},{key:"handleUp",value:function(i){var s=this;if(!(!this.enabled||!this.isMouseDown)){var c=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var d=Zt(i,this.container),h=d.x,g=d.y,p=c.getState(),y=c.getPreviousState()||{x:0,y:0};this.isMoving?c.animate({x:p.x+this.settings.inertiaRatio*(p.x-y.x),y:p.y+this.settings.inertiaRatio*(p.y-y.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"}):(this.lastMouseX!==h||this.lastMouseY!==g)&&c.setState({x:p.x,y:p.y}),this.isMoving=!1,setTimeout(function(){var v=s.draggedEvents>0;s.draggedEvents=0,v&&s.renderer.getSetting("hideEdgesOnMove")&&s.renderer.refresh()},0),this.emit("mouseup",En(i,this.container))}}},{key:"handleMove",value:function(i){var s=this;if(this.enabled){var c=En(i,this.container);if(this.emit("mousemovebody",c),(i.target===this.container||i.composedPath()[0]===this.container)&&this.emit("mousemove",c),!c.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){s.movingTimeout=null,s.isMoving=!1},this.settings.dragTimeout);var d=this.renderer.getCamera(),h=Zt(i,this.container),g=h.x,p=h.y,y=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),v=this.renderer.viewportToFramedGraph({x:g,y:p}),S=y.x-v.x,_=y.y-v.y,w=d.getState(),D=w.x+S,H=w.y+_;d.setState({x:D,y:H}),this.lastMouseX=g,this.lastMouseY=p,i.preventDefault(),i.stopPropagation()}}}},{key:"handleLeave",value:function(i){this.emit("mouseleave",En(i,this.container))}},{key:"handleEnter",value:function(i){this.emit("mouseenter",En(i,this.container))}},{key:"handleWheel",value:function(i){var s=this,c=this.renderer.getCamera();if(!(!this.enabled||!c.enabledZooming)){var d=Zp(i);if(d){var h=c1(i,this.container);if(this.emit("wheel",h),h.sigmaDefaultPrevented){i.preventDefault(),i.stopPropagation();return}var g=c.getState().ratio,p=d>0?1/this.settings.zoomingRatio:this.settings.zoomingRatio,y=c.getBoundedRatio(g*p),v=d>0?1:-1,S=Date.now();g!==y&&(i.preventDefault(),i.stopPropagation(),!(this.currentWheelDirection===v&&this.lastWheelTriggerTime&&S-this.lastWheelTriggerTime<this.settings.zoomDuration/5)&&(c.animate(this.renderer.getViewportZoomedState(Zt(i,this.container),y),{easing:"quadraticOut",duration:this.settings.zoomDuration},function(){s.currentWheelDirection=0}),this.currentWheelDirection=v,this.lastWheelTriggerTime=S))}}}},{key:"setSettings",value:function(i){this.settings=i}}])})(Qp),p1=["dragTimeout","inertiaDuration","inertiaRatio","doubleClickTimeout","doubleClickZoomingRatio","doubleClickZoomingDuration","tapMoveTolerance"],m1=p1.reduce(function(o,a){return se(se({},o),{},J({},a,ec[a]))},{}),v1=(function(o){function a(l,i){var s;return ot(this,a),s=Ft(this,a,[l,i]),J(s,"enabled",!0),J(s,"isMoving",!1),J(s,"hasMoved",!1),J(s,"touchMode",0),J(s,"startTouchesPositions",[]),J(s,"lastTouches",[]),J(s,"lastTap",null),J(s,"settings",m1),s.handleStart=s.handleStart.bind(s),s.handleLeave=s.handleLeave.bind(s),s.handleMove=s.handleMove.bind(s),l.addEventListener("touchstart",s.handleStart,{capture:!1}),l.addEventListener("touchcancel",s.handleLeave,{capture:!1}),document.addEventListener("touchend",s.handleLeave,{capture:!1,passive:!1}),document.addEventListener("touchmove",s.handleMove,{capture:!1,passive:!1}),s}return $t(a,o),ut(a,[{key:"kill",value:function(){var i=this.container;i.removeEventListener("touchstart",this.handleStart),i.removeEventListener("touchcancel",this.handleLeave),document.removeEventListener("touchend",this.handleLeave),document.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"handleStart",value:function(i){var s=this;if(this.enabled){i.preventDefault();var c=Yl(i.touches);if(this.touchMode=c.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=c.map(function(_){return Zt(_,s.container)}),this.touchMode===2){var d=oa(this.startTouchesPositions,2),h=d[0],g=h.x,p=h.y,y=d[1],v=y.x,S=y.y;this.startTouchesAngle=Math.atan2(S-p,v-g),this.startTouchesDistance=Math.sqrt(Math.pow(v-g,2)+Math.pow(S-p,2))}this.emit("touchdown",hr(i,this.lastTouches,this.container)),this.lastTouches=c,this.lastTouchesPositions=this.startTouchesPositions}}},{key:"handleLeave",value:function(i){if(!(!this.enabled||!this.startTouchesPositions.length)){switch(i.cancelable&&i.preventDefault(),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(i.touches.length===1){this.handleStart(i),i.preventDefault();break}case 1:if(this.isMoving){var s=this.renderer.getCamera(),c=s.getState(),d=s.getPreviousState()||{x:0,y:0};s.animate({x:c.x+this.settings.inertiaRatio*(c.x-d.x),y:c.y+this.settings.inertiaRatio*(c.y-d.y)},{duration:this.settings.inertiaDuration,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0;break}if(this.emit("touchup",hr(i,this.lastTouches,this.container)),!i.touches.length){var h=Zt(this.lastTouches[0],this.container),g=this.startTouchesPositions[0],p=Math.pow(h.x-g.x,2)+Math.pow(h.y-g.y,2);if(!i.touches.length&&p<Math.pow(this.settings.tapMoveTolerance,2))if(this.lastTap&&Date.now()-this.lastTap.time<this.settings.doubleClickTimeout){var y=hr(i,this.lastTouches,this.container);if(this.emit("doubletap",y),this.lastTap=null,!y.sigmaDefaultPrevented){var v=this.renderer.getCamera(),S=v.getBoundedRatio(v.getState().ratio/this.settings.doubleClickZoomingRatio);v.animate(this.renderer.getViewportZoomedState(h,S),{easing:"quadraticInOut",duration:this.settings.doubleClickZoomingDuration})}}else{var _=hr(i,this.lastTouches,this.container);this.emit("tap",_),this.lastTap={time:Date.now(),position:_.touches[0]||_.previousTouches[0]}}}this.lastTouches=Yl(i.touches),this.startTouchesPositions=[]}}},{key:"handleMove",value:function(i){var s=this;if(!(!this.enabled||!this.startTouchesPositions.length)){i.preventDefault();var c=Yl(i.touches),d=c.map(function(E){return Zt(E,s.container)}),h=this.lastTouches;this.lastTouches=c,this.lastTouchesPositions=d;var g=hr(i,h,this.container);if(this.emit("touchmove",g),!g.sigmaDefaultPrevented&&(this.hasMoved||(this.hasMoved=d.some(function(E,U){var Q=s.startTouchesPositions[U];return Q&&(E.x!==Q.x||E.y!==Q.y)})),!!this.hasMoved)){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){s.isMoving=!1},this.settings.dragTimeout);var p=this.renderer.getCamera(),y=this.startCameraState,v=this.renderer.getSetting("stagePadding");switch(this.touchMode){case 1:{var S=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),_=S.x,w=S.y,D=this.renderer.viewportToFramedGraph(d[0]),H=D.x,K=D.y;p.setState({x:y.x+_-H,y:y.y+w-K});break}case 2:{var $={x:.5,y:.5,angle:0,ratio:1},q=d[0],C=q.x,M=q.y,B=d[1],G=B.x,W=B.y,R=Math.atan2(W-M,G-C)-this.startTouchesAngle,k=Math.hypot(W-M,G-C)/this.startTouchesDistance,Z=p.getBoundedRatio(y.ratio/k);$.ratio=Z,$.angle=y.angle+R;var te=this.getDimensions(),ce=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:y}),oe=Math.min(te.width,te.height)-2*v,ye=oe/te.width,N=oe/te.height,V=Z/oe,ee=C-oe/2/ye,ae=M-oe/2/N,fe=[ee*Math.cos(-$.angle)-ae*Math.sin(-$.angle),ae*Math.cos(-$.angle)+ee*Math.sin(-$.angle)];ee=fe[0],ae=fe[1],$.x=ce.x-ee*V,$.y=ce.y+ae*V,p.setState($);break}}}}}},{key:"setSettings",value:function(i){this.settings=i}}])})(Qp);function y1(o){if(Array.isArray(o))return qu(o)}function b1(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function S1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tp(o){return y1(o)||b1(o)||Op(o)||S1()}function E1(o,a){if(o==null)return{};var l={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(a.indexOf(i)!==-1)continue;l[i]=o[i]}return l}function ku(o,a){if(o==null)return{};var l,i,s=E1(o,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);for(i=0;i<c.length;i++)l=c[i],a.indexOf(l)===-1&&{}.propertyIsEnumerable.call(o,l)&&(s[l]=o[l])}return s}var np=(function(){function o(a,l){ot(this,o),this.key=a,this.size=l}return ut(o,null,[{key:"compare",value:function(l,i){return l.size>i.size?-1:l.size<i.size||l.key>i.key?1:-1}}])})(),ip=(function(){function o(){ot(this,o),J(this,"width",0),J(this,"height",0),J(this,"cellSize",0),J(this,"columns",0),J(this,"rows",0),J(this,"cells",{})}return ut(o,[{key:"resizeAndClear",value:function(l,i){this.width=l.width,this.height=l.height,this.cellSize=i,this.columns=Math.ceil(l.width/i),this.rows=Math.ceil(l.height/i),this.cells={}}},{key:"getIndex",value:function(l){var i=Math.floor(l.x/this.cellSize),s=Math.floor(l.y/this.cellSize);return s*this.columns+i}},{key:"add",value:function(l,i,s){var c=new np(l,i),d=this.getIndex(s),h=this.cells[d];h||(h=[],this.cells[d]=h),h.push(c)}},{key:"organize",value:function(){for(var l in this.cells){var i=this.cells[l];i.sort(np.compare)}}},{key:"getLabelsToDisplay",value:function(l,i){var s=this.cellSize*this.cellSize,c=s/l/l,d=c*i/s,h=Math.ceil(d),g=[];for(var p in this.cells)for(var y=this.cells[p],v=0;v<Math.min(h,y.length);v++)g.push(y[v].key);return g}}])})();function x1(o){var a=o.graph,l=o.hoveredNode,i=o.highlightedNodes,s=o.displayedNodeLabels,c=[];return a.forEachEdge(function(d,h,g,p){(g===l||p===l||i.has(g)||i.has(p)||s.has(g)&&s.has(p))&&c.push(d)}),c}var ap=150,rp=50,xn=Object.prototype.hasOwnProperty;function _1(o,a,l){if(!xn.call(l,"x")||!xn.call(l,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(a,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return l.color||(l.color=o.defaultNodeColor),!l.label&&l.label!==""&&(l.label=null),l.label!==void 0&&l.label!==null?l.label=""+l.label:l.label=null,l.size||(l.size=2),xn.call(l,"hidden")||(l.hidden=!1),xn.call(l,"highlighted")||(l.highlighted=!1),xn.call(l,"forceLabel")||(l.forceLabel=!1),(!l.type||l.type==="")&&(l.type=o.defaultNodeType),l.zIndex||(l.zIndex=0),l}function w1(o,a,l){return l.color||(l.color=o.defaultEdgeColor),l.label||(l.label=""),l.size||(l.size=.5),xn.call(l,"hidden")||(l.hidden=!1),xn.call(l,"forceLabel")||(l.forceLabel=!1),(!l.type||l.type==="")&&(l.type=o.defaultEdgeType),l.zIndex||(l.zIndex=0),l}var T1=(function(o){function a(l,i){var s,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(ot(this,a),s=Ft(this,a),J(s,"elements",{}),J(s,"canvasContexts",{}),J(s,"webGLContexts",{}),J(s,"pickingLayers",new Set),J(s,"textures",{}),J(s,"frameBuffers",{}),J(s,"activeListeners",{}),J(s,"labelGrid",new ip),J(s,"nodeDataCache",{}),J(s,"edgeDataCache",{}),J(s,"nodeProgramIndex",{}),J(s,"edgeProgramIndex",{}),J(s,"nodesWithForcedLabels",new Set),J(s,"edgesWithForcedLabels",new Set),J(s,"nodeExtent",{x:[0,1],y:[0,1]}),J(s,"nodeZExtent",[1/0,-1/0]),J(s,"edgeZExtent",[1/0,-1/0]),J(s,"matrix",Kt()),J(s,"invMatrix",Kt()),J(s,"correctionRatio",1),J(s,"customBBox",null),J(s,"normalizationFunction",Pg({x:[0,1],y:[0,1]})),J(s,"graphToViewportRatio",1),J(s,"itemIDsIndex",{}),J(s,"nodeIndices",{}),J(s,"edgeIndices",{}),J(s,"width",0),J(s,"height",0),J(s,"pixelRatio",Jg()),J(s,"pickingDownSizingRatio",2*s.pixelRatio),J(s,"displayedNodeLabels",new Set),J(s,"displayedEdgeLabels",new Set),J(s,"highlightedNodes",new Set),J(s,"hoveredNode",null),J(s,"hoveredEdge",null),J(s,"renderFrame",null),J(s,"renderHighlightedNodesFrame",null),J(s,"needToProcess",!1),J(s,"checkEdgesEventsFrame",null),J(s,"nodePrograms",{}),J(s,"nodeHoverPrograms",{}),J(s,"edgePrograms",{}),s.settings=u1(c),Uu(s.settings),r1(l),!(i instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");s.graph=l,s.container=i,s.createWebGLContext("edges",{picking:c.enableEdgeEvents}),s.createCanvasContext("edgeLabels"),s.createWebGLContext("nodes",{picking:!0}),s.createCanvasContext("labels"),s.createCanvasContext("hovers"),s.createWebGLContext("hoverNodes"),s.createCanvasContext("mouse",{style:{touchAction:"none",userSelect:"none"}}),s.resize();for(var d in s.settings.nodeProgramClasses)s.registerNodeProgram(d,s.settings.nodeProgramClasses[d],s.settings.nodeHoverProgramClasses[d]);for(var h in s.settings.edgeProgramClasses)s.registerEdgeProgram(h,s.settings.edgeProgramClasses[h]);return s.camera=new ep,s.bindCameraHandlers(),s.mouseCaptor=new g1(s.elements.mouse,s),s.mouseCaptor.setSettings(s.settings),s.touchCaptor=new v1(s.elements.mouse,s),s.touchCaptor.setSettings(s.settings),s.bindEventHandlers(),s.bindGraphHandlers(),s.handleSettingsUpdate(),s.refresh(),s}return $t(a,o),ut(a,[{key:"registerNodeProgram",value:function(i,s,c){return this.nodePrograms[i]&&this.nodePrograms[i].kill(),this.nodeHoverPrograms[i]&&this.nodeHoverPrograms[i].kill(),this.nodePrograms[i]=new s(this.webGLContexts.nodes,this.frameBuffers.nodes,this),this.nodeHoverPrograms[i]=new(c||s)(this.webGLContexts.hoverNodes,null,this),this}},{key:"registerEdgeProgram",value:function(i,s){return this.edgePrograms[i]&&this.edgePrograms[i].kill(),this.edgePrograms[i]=new s(this.webGLContexts.edges,this.frameBuffers.edges,this),this}},{key:"unregisterNodeProgram",value:function(i){if(this.nodePrograms[i]){var s=this.nodePrograms,c=s[i],d=ku(s,[i].map(mr));c.kill(),this.nodePrograms=d}if(this.nodeHoverPrograms[i]){var h=this.nodeHoverPrograms,g=h[i],p=ku(h,[i].map(mr));g.kill(),this.nodePrograms=p}return this}},{key:"unregisterEdgeProgram",value:function(i){if(this.edgePrograms[i]){var s=this.edgePrograms,c=s[i],d=ku(s,[i].map(mr));c.kill(),this.edgePrograms=d}return this}},{key:"resetWebGLTexture",value:function(i){var s=this.webGLContexts[i],c=this.frameBuffers[i],d=this.textures[i];d&&s.deleteTexture(d);var h=s.createTexture();return s.bindFramebuffer(s.FRAMEBUFFER,c),s.bindTexture(s.TEXTURE_2D,h),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,this.width,this.height,0,s.RGBA,s.UNSIGNED_BYTE,null),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,h,0),this.textures[i]=h,this}},{key:"bindCameraHandlers",value:function(){var i=this;return this.activeListeners.camera=function(){i.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(i){var s=i.x,c=i.y,d=Bg(this.webGLContexts.nodes,this.frameBuffers.nodes,s,c,this.pixelRatio,this.pickingDownSizingRatio),h=jg.apply(void 0,tp(d)),g=this.itemIDsIndex[h];return g&&g.type==="node"?g.id:null}},{key:"bindEventHandlers",value:function(){var i=this;this.activeListeners.handleResize=function(){i.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(c){var d=dr(c),h={event:d,preventSigmaDefault:function(){d.preventSigmaDefault()}},g=i.getNodeAtPosition(d);if(g&&i.hoveredNode!==g&&!i.nodeDataCache[g].hidden){i.hoveredNode&&i.emit("leaveNode",se(se({},h),{},{node:i.hoveredNode})),i.hoveredNode=g,i.emit("enterNode",se(se({},h),{},{node:g})),i.scheduleHighlightedNodesRender();return}if(i.hoveredNode&&i.getNodeAtPosition(d)!==i.hoveredNode){var p=i.hoveredNode;i.hoveredNode=null,i.emit("leaveNode",se(se({},h),{},{node:p})),i.scheduleHighlightedNodesRender();return}if(i.settings.enableEdgeEvents){var y=i.hoveredNode?null:i.getEdgeAtPoint(h.event.x,h.event.y);y!==i.hoveredEdge&&(i.hoveredEdge&&i.emit("leaveEdge",se(se({},h),{},{edge:i.hoveredEdge})),y&&i.emit("enterEdge",se(se({},h),{},{edge:y})),i.hoveredEdge=y)}},this.activeListeners.handleMoveBody=function(c){var d=dr(c);i.emit("moveBody",{event:d,preventSigmaDefault:function(){d.preventSigmaDefault()}})},this.activeListeners.handleLeave=function(c){var d=dr(c),h={event:d,preventSigmaDefault:function(){d.preventSigmaDefault()}};i.hoveredNode&&(i.emit("leaveNode",se(se({},h),{},{node:i.hoveredNode})),i.scheduleHighlightedNodesRender()),i.settings.enableEdgeEvents&&i.hoveredEdge&&(i.emit("leaveEdge",se(se({},h),{},{edge:i.hoveredEdge})),i.scheduleHighlightedNodesRender()),i.emit("leaveStage",se({},h))},this.activeListeners.handleEnter=function(c){var d=dr(c),h={event:d,preventSigmaDefault:function(){d.preventSigmaDefault()}};i.emit("enterStage",se({},h))};var s=function(d){return function(h){var g=dr(h),p={event:g,preventSigmaDefault:function(){g.preventSigmaDefault()}},y=i.getNodeAtPosition(g);if(y)return i.emit("".concat(d,"Node"),se(se({},p),{},{node:y}));if(i.settings.enableEdgeEvents){var v=i.getEdgeAtPoint(g.x,g.y);if(v)return i.emit("".concat(d,"Edge"),se(se({},p),{},{edge:v}))}return i.emit("".concat(d,"Stage"),p)}};return this.activeListeners.handleClick=s("click"),this.activeListeners.handleRightClick=s("rightClick"),this.activeListeners.handleDoubleClick=s("doubleClick"),this.activeListeners.handleWheel=s("wheel"),this.activeListeners.handleDown=s("down"),this.activeListeners.handleUp=s("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("mousemovebody",this.activeListeners.handleMoveBody),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this.touchCaptor.on("touchdown",this.activeListeners.handleDown),this.touchCaptor.on("touchdown",this.activeListeners.handleMove),this.touchCaptor.on("touchup",this.activeListeners.handleUp),this.touchCaptor.on("touchmove",this.activeListeners.handleMove),this.touchCaptor.on("tap",this.activeListeners.handleClick),this.touchCaptor.on("doubletap",this.activeListeners.handleDoubleClick),this.touchCaptor.on("touchmove",this.activeListeners.handleMoveBody),this}},{key:"bindGraphHandlers",value:function(){var i=this,s=this.graph,c=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(d){var h,g=(h=d.hints)===null||h===void 0?void 0:h.attributes;i.graph.forEachNode(function(y){return i.updateNode(y)});var p=!g||g.some(function(y){return c.has(y)});i.refresh({partialGraph:{nodes:s.nodes()},skipIndexation:!p,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(d){var h,g=(h=d.hints)===null||h===void 0?void 0:h.attributes;i.graph.forEachEdge(function(y){return i.updateEdge(y)});var p=g&&["zIndex","type"].some(function(y){return g?.includes(y)});i.refresh({partialGraph:{edges:s.edges()},skipIndexation:!p,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(d){var h=d.key;i.addNode(h),i.refresh({partialGraph:{nodes:[h]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(d){var h=d.key;i.refresh({partialGraph:{nodes:[h]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(d){var h=d.key;i.removeNode(h),i.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(d){var h=d.key;i.addEdge(h),i.refresh({partialGraph:{edges:[h]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(d){var h=d.key;i.refresh({partialGraph:{edges:[h]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(d){var h=d.key;i.removeEdge(h),i.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){i.clearEdgeState(),i.clearEdgeIndices(),i.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){i.clearEdgeState(),i.clearNodeState(),i.clearEdgeIndices(),i.clearNodeIndices(),i.refresh({schedule:!0})},s.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),s.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),s.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),s.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),s.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),s.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),s.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),s.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),s.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),s.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var i=this.graph;i.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),i.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),i.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),i.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),i.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),i.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),i.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),i.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),i.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),i.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(i,s){var c=Bg(this.webGLContexts.edges,this.frameBuffers.edges,i,s,this.pixelRatio,this.pickingDownSizingRatio),d=jg.apply(void 0,tp(c)),h=this.itemIDsIndex[d];return h&&h.type==="edge"?h.id:null}},{key:"process",value:function(){var i=this;this.emit("beforeProcess");var s=this.graph,c=this.settings,d=this.getDimensions();if(this.nodeExtent=a1(this.graph),!this.settings.autoRescale){var h=d.width,g=d.height,p=this.nodeExtent,y=p.x,v=p.y;this.nodeExtent={x:[(y[0]+y[1])/2-h/2,(y[0]+y[1])/2+h/2],y:[(v[0]+v[1])/2-g/2,(v[0]+v[1])/2+g/2]}}this.normalizationFunction=Pg(this.customBBox||this.nodeExtent);var S=new ep,_=fr(S.getState(),d,this.getGraphDimensions(),this.getStagePadding());this.labelGrid.resizeAndClear(d,c.labelGridCellSize);for(var w={},D={},H={},K={},$=1,q=s.nodes(),C=0,M=q.length;C<M;C++){var B=q[C],G=this.nodeDataCache[B],W=s.getNodeAttributes(B);G.x=W.x,G.y=W.y,this.normalizationFunction.applyTo(G),typeof G.label=="string"&&!G.hidden&&this.labelGrid.add(B,G.size,this.framedGraphToViewport(G,{matrix:_})),w[G.type]=(w[G.type]||0)+1}this.labelGrid.organize();for(var R in this.nodePrograms){if(!xn.call(this.nodePrograms,R))throw new Error('Sigma: could not find a suitable program for node type "'.concat(R,'"!'));this.nodePrograms[R].reallocate(w[R]||0),w[R]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(q=Ig(this.nodeZExtent,function(de){return i.nodeDataCache[de].zIndex},q));for(var k=0,Z=q.length;k<Z;k++){var te=q[k];D[te]=$,K[D[te]]={type:"node",id:te},$++;var ce=this.nodeDataCache[te];this.addNodeToProgram(te,D[te],w[ce.type]++)}for(var oe={},ye=s.edges(),N=0,V=ye.length;N<V;N++){var ee=ye[N],ae=this.edgeDataCache[ee];oe[ae.type]=(oe[ae.type]||0)+1}this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(ye=Ig(this.edgeZExtent,function(de){return i.edgeDataCache[de].zIndex},ye));for(var fe in this.edgePrograms){if(!xn.call(this.edgePrograms,fe))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(fe,'"!'));this.edgePrograms[fe].reallocate(oe[fe]||0),oe[fe]=0}for(var E=0,U=ye.length;E<U;E++){var Q=ye[E];H[Q]=$,K[H[Q]]={type:"edge",id:Q},$++;var ne=this.edgeDataCache[Q];this.addEdgeToProgram(Q,H[Q],oe[ne.type]++)}return this.itemIDsIndex=K,this.nodeIndices=D,this.edgeIndices=H,this.emit("afterProcess"),this}},{key:"handleSettingsUpdate",value:function(i){var s=this,c=this.settings;if(this.camera.minRatio=c.minCameraRatio,this.camera.maxRatio=c.maxCameraRatio,this.camera.enabledZooming=c.enableCameraZooming,this.camera.enabledPanning=c.enableCameraPanning,this.camera.enabledRotation=c.enableCameraRotation,c.cameraPanBoundaries?this.camera.clean=function(y){return s.cleanCameraState(y,c.cameraPanBoundaries&&Xu(c.cameraPanBoundaries)==="object"?c.cameraPanBoundaries:{})}:this.camera.clean=null,this.camera.setState(this.camera.validateState(this.camera.getState())),i){if(i.edgeProgramClasses!==c.edgeProgramClasses){for(var d in c.edgeProgramClasses)c.edgeProgramClasses[d]!==i.edgeProgramClasses[d]&&this.registerEdgeProgram(d,c.edgeProgramClasses[d]);for(var h in i.edgeProgramClasses)c.edgeProgramClasses[h]||this.unregisterEdgeProgram(h)}if(i.nodeProgramClasses!==c.nodeProgramClasses||i.nodeHoverProgramClasses!==c.nodeHoverProgramClasses){for(var g in c.nodeProgramClasses)(c.nodeProgramClasses[g]!==i.nodeProgramClasses[g]||c.nodeHoverProgramClasses[g]!==i.nodeHoverProgramClasses[g])&&this.registerNodeProgram(g,c.nodeProgramClasses[g],c.nodeHoverProgramClasses[g]);for(var p in i.nodeProgramClasses)c.nodeProgramClasses[p]||this.unregisterNodeProgram(p)}}return this.mouseCaptor.setSettings(this.settings),this.touchCaptor.setSettings(this.settings),this}},{key:"cleanCameraState",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.tolerance,d=c===void 0?0:c,h=s.boundaries,g=se({},i),p=h||this.nodeExtent,y=oa(p.x,2),v=y[0],S=y[1],_=oa(p.y,2),w=_[0],D=_[1],H=[this.graphToViewport({x:v,y:w},{cameraState:i}),this.graphToViewport({x:S,y:w},{cameraState:i}),this.graphToViewport({x:v,y:D},{cameraState:i}),this.graphToViewport({x:S,y:D},{cameraState:i})],K=1/0,$=-1/0,q=1/0,C=-1/0;H.forEach(function(oe){var ye=oe.x,N=oe.y;K=Math.min(K,ye),$=Math.max($,ye),q=Math.min(q,N),C=Math.max(C,N)});var M=$-K,B=C-q,G=this.getDimensions(),W=G.width,R=G.height,k=0,Z=0;if(M>=W?$<W-d?k=$-(W-d):K>d&&(k=K-d):$>W+d?k=$-(W+d):K<-d&&(k=K+d),B>=R?C<R-d?Z=C-(R-d):q>d&&(Z=q-d):C>R+d?Z=C-(R+d):q<-d&&(Z=q+d),k||Z){var te=this.viewportToFramedGraph({x:0,y:0},{cameraState:i}),ce=this.viewportToFramedGraph({x:k,y:Z},{cameraState:i});k=ce.x-te.x,Z=ce.y-te.y,g.x+=k,g.y+=Z}return g}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var i=this.camera.getState(),s=this.labelGrid.getLabelsToDisplay(i.ratio,this.settings.labelDensity);Wg(s,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var c=this.canvasContexts.labels,d=0,h=s.length;d<h;d++){var g=s[d],p=this.nodeDataCache[g];if(!this.displayedNodeLabels.has(g)&&!p.hidden){var y=this.framedGraphToViewport(p),v=y.x,S=y.y,_=this.scaleSize(p.size);if(!(!p.forceLabel&&_<this.settings.labelRenderedSizeThreshold)&&!(v<-ap||v>this.width+ap||S<-rp||S>this.height+rp)){this.displayedNodeLabels.add(g);var w=this.settings.defaultDrawNodeLabel,D=this.nodePrograms[p.type],H=D?.drawLabel||w;H(c,se(se({key:g},p),{},{size:_,x:v,y:S}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var i=this.canvasContexts.edgeLabels;i.clearRect(0,0,this.width,this.height);var s=x1({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes});Wg(s,this.edgesWithForcedLabels);for(var c=new Set,d=0,h=s.length;d<h;d++){var g=s[d],p=this.graph.extremities(g),y=this.nodeDataCache[p[0]],v=this.nodeDataCache[p[1]],S=this.edgeDataCache[g];if(!c.has(g)&&!(S.hidden||y.hidden||v.hidden)){var _=this.settings.defaultDrawEdgeLabel,w=this.edgePrograms[S.type],D=w?.drawLabel||_;D(i,se(se({key:g},S),{},{size:this.scaleSize(S.size)}),se(se(se({key:p[0]},y),this.framedGraphToViewport(y)),{},{size:this.scaleSize(y.size)}),se(se(se({key:p[1]},v),this.framedGraphToViewport(v)),{},{size:this.scaleSize(v.size)}),this.settings),c.add(g)}}return this.displayedEdgeLabels=c,this}},{key:"renderHighlightedNodes",value:function(){var i=this,s=this.canvasContexts.hovers;s.clearRect(0,0,this.width,this.height);var c=function(_){var w=i.nodeDataCache[_],D=i.framedGraphToViewport(w),H=D.x,K=D.y,$=i.scaleSize(w.size),q=i.settings.defaultDrawNodeHover,C=i.nodePrograms[w.type],M=C?.drawHover||q;M(s,se(se({key:_},w),{},{size:$,x:H,y:K}),i.settings)},d=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&d.push(this.hoveredNode),this.highlightedNodes.forEach(function(S){S!==i.hoveredNode&&d.push(S)}),d.forEach(function(S){return c(S)});var h={};d.forEach(function(S){var _=i.nodeDataCache[S].type;h[_]=(h[_]||0)+1});for(var g in this.nodeHoverPrograms)this.nodeHoverPrograms[g].reallocate(h[g]||0),h[g]=0;d.forEach(function(S){var _=i.nodeDataCache[S];i.nodeHoverPrograms[_.type].process(0,h[_.type]++,_)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);var p=this.getRenderParams();for(var y in this.nodeHoverPrograms){var v=this.nodeHoverPrograms[y];v.render(p)}}},{key:"scheduleHighlightedNodesRender",value:function(){var i=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){i.renderHighlightedNodesFrame=null,i.renderHighlightedNodes(),i.renderEdgeLabels()}))}},{key:"render",value:function(){var i=this;this.emit("beforeRender");var s=function(){return i.emit("afterRender"),i};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach(function(H){return i.resetWebGLTexture(H)}),!this.graph.order)return s();var c=this.mouseCaptor,d=this.camera.isAnimated()||c.isMoving||c.draggedEvents||c.currentWheelDirection,h=this.camera.getState(),g=this.getDimensions(),p=this.getGraphDimensions(),y=this.getStagePadding();this.matrix=fr(h,g,p,y),this.invMatrix=fr(h,g,p,y,!0),this.correctionRatio=i1(this.matrix,h,g),this.graphToViewportRatio=this.getGraphToViewportRatio();var v=this.getRenderParams();for(var S in this.nodePrograms){var _=this.nodePrograms[S];_.render(v)}if(!this.settings.hideEdgesOnMove||!d)for(var w in this.edgePrograms){var D=this.edgePrograms[w];D.render(v)}return this.settings.hideLabelsOnMove&&d||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),s()}},{key:"addNode",value:function(i){var s=Object.assign({},this.graph.getNodeAttributes(i));this.settings.nodeReducer&&(s=this.settings.nodeReducer(i,s));var c=_1(this.settings,i,s);this.nodeDataCache[i]=c,this.nodesWithForcedLabels.delete(i),c.forceLabel&&!c.hidden&&this.nodesWithForcedLabels.add(i),this.highlightedNodes.delete(i),c.highlighted&&!c.hidden&&this.highlightedNodes.add(i),this.settings.zIndex&&(c.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=c.zIndex),c.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=c.zIndex))}},{key:"updateNode",value:function(i){this.addNode(i);var s=this.nodeDataCache[i];this.normalizationFunction.applyTo(s)}},{key:"removeNode",value:function(i){delete this.nodeDataCache[i],delete this.nodeProgramIndex[i],this.highlightedNodes.delete(i),this.hoveredNode===i&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(i)}},{key:"addEdge",value:function(i){var s=Object.assign({},this.graph.getEdgeAttributes(i));this.settings.edgeReducer&&(s=this.settings.edgeReducer(i,s));var c=w1(this.settings,i,s);this.edgeDataCache[i]=c,this.edgesWithForcedLabels.delete(i),c.forceLabel&&!c.hidden&&this.edgesWithForcedLabels.add(i),this.settings.zIndex&&(c.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=c.zIndex),c.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=c.zIndex))}},{key:"updateEdge",value:function(i){this.addEdge(i)}},{key:"removeEdge",value:function(i){delete this.edgeDataCache[i],delete this.edgeProgramIndex[i],this.hoveredEdge===i&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(i)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new ip,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0],this.highlightedNodes=new Set}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(i,s,c){var d=this.nodeDataCache[i],h=this.nodePrograms[d.type];if(!h)throw new Error('Sigma: could not find a suitable program for node type "'.concat(d.type,'"!'));h.process(s,c,d),this.nodeProgramIndex[i]=c}},{key:"addEdgeToProgram",value:function(i,s,c){var d=this.edgeDataCache[i],h=this.edgePrograms[d.type];if(!h)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(d.type,'"!'));var g=this.graph.extremities(i),p=this.nodeDataCache[g[0]],y=this.nodeDataCache[g[1]];h.process(s,c,p,y,d),this.edgeProgramIndex[i]=c}},{key:"getRenderParams",value:function(){return{matrix:this.matrix,invMatrix:this.invMatrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio,minEdgeThickness:this.settings.minEdgeThickness,antiAliasingFeather:this.settings.antiAliasingFeather}}},{key:"getStagePadding",value:function(){var i=this.settings,s=i.stagePadding,c=i.autoRescale;return c&&s||0}},{key:"createLayer",value:function(i,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.elements[i])throw new Error('Sigma: a layer named "'.concat(i,'" already exists'));var d=l1(s,{position:"absolute"},{class:"sigma-".concat(i)});return c.style&&Object.assign(d.style,c.style),this.elements[i]=d,"beforeLayer"in c&&c.beforeLayer?this.elements[c.beforeLayer].before(d):"afterLayer"in c&&c.afterLayer?this.elements[c.afterLayer].after(d):this.container.appendChild(d),d}},{key:"createCanvas",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.createLayer(i,"canvas",s)}},{key:"createCanvasContext",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=this.createCanvas(i,s),d={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[i]=c.getContext("2d",d),this}},{key:"createWebGLContext",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s?.canvas||this.createCanvas(i,s);s.hidden&&c.remove();var d=se({preserveDrawingBuffer:!1,antialias:!1},s),h;h=c.getContext("webgl2",d),h||(h=c.getContext("webgl",d)),h||(h=c.getContext("experimental-webgl",d));var g=h;if(this.webGLContexts[i]=g,g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),s.picking){this.pickingLayers.add(i);var p=g.createFramebuffer();if(!p)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(i));this.frameBuffers[i]=p}return g}},{key:"killLayer",value:function(i){var s=this.elements[i];if(!s)throw new Error("Sigma: cannot kill layer ".concat(i,", which does not exist"));if(this.webGLContexts[i]){var c,d=this.webGLContexts[i];(c=d.getExtension("WEBGL_lose_context"))===null||c===void 0||c.loseContext(),delete this.webGLContexts[i]}else this.canvasContexts[i]&&delete this.canvasContexts[i];return s.remove(),delete this.elements[i],this}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(i){this.unbindCameraHandlers(),this.camera=i,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(i){i!==this.graph&&(this.hoveredNode&&!i.hasNode(this.hoveredNode)&&(this.hoveredNode=null),this.hoveredEdge&&!i.hasEdge(this.hoveredEdge)&&(this.hoveredEdge=null),this.unbindGraphHandlers(),this.checkEdgesEventsFrame!==null&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=i,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var i=this.customBBox||this.nodeExtent;return{width:i.x[1]-i.x[0]||1,height:i.y[1]-i.y[0]||1}}},{key:"getNodeDisplayData",value:function(i){var s=this.nodeDataCache[i];return s?Object.assign({},s):void 0}},{key:"getEdgeDisplayData",value:function(i){var s=this.edgeDataCache[i];return s?Object.assign({},s):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return se({},this.settings)}},{key:"getSetting",value:function(i){return this.settings[i]}},{key:"setSetting",value:function(i,s){var c=se({},this.settings);return this.settings[i]=s,Uu(this.settings),this.handleSettingsUpdate(c),this.scheduleRefresh(),this}},{key:"updateSetting",value:function(i,s){return this.setSetting(i,s(this.settings[i])),this}},{key:"setSettings",value:function(i){var s=se({},this.settings);return this.settings=se(se({},this.settings),i),Uu(this.settings),this.handleSettingsUpdate(s),this.scheduleRefresh(),this}},{key:"resize",value:function(i){var s=this.width,c=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=Jg(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");if(!i&&s===this.width&&c===this.height)return this;for(var d in this.elements){var h=this.elements[d];h.style.width=this.width+"px",h.style.height=this.height+"px"}for(var g in this.canvasContexts)this.elements[g].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[g].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[g].scale(this.pixelRatio,this.pixelRatio);for(var p in this.webGLContexts){this.elements[p].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[p].setAttribute("height",this.height*this.pixelRatio+"px");var y=this.webGLContexts[p];if(y.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(p)){var v=this.textures[p];v&&y.deleteTexture(v)}}return this.emit("resize"),this}},{key:"clear",value:function(){return this.emit("beforeClear"),this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this.emit("afterClear"),this}},{key:"refresh",value:function(i){var s=this,c=i?.skipIndexation!==void 0?i?.skipIndexation:!1,d=i?.schedule!==void 0?i.schedule:!1,h=!i||!i.partialGraph;if(h)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode(function(C){return s.addNode(C)}),this.graph.forEachEdge(function(C){return s.addEdge(C)});else{for(var g,p,y=((g=i.partialGraph)===null||g===void 0?void 0:g.nodes)||[],v=0,S=y?.length||0;v<S;v++){var _=y[v];if(this.updateNode(_),c){var w=this.nodeProgramIndex[_];if(w===void 0)throw new Error('Sigma: node "'.concat(_,`" can't be repaint`));this.addNodeToProgram(_,this.nodeIndices[_],w)}}for(var D=(i==null||(p=i.partialGraph)===null||p===void 0?void 0:p.edges)||[],H=0,K=D.length;H<K;H++){var $=D[H];if(this.updateEdge($),c){var q=this.edgeProgramIndex[$];if(q===void 0)throw new Error('Sigma: edge "'.concat($,`" can't be repaint`));this.addEdgeToProgram($,this.edgeIndices[$],q)}}}return(h||!c)&&(this.needToProcess=!0),d?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var i=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame(function(){i.render()})),this}},{key:"scheduleRefresh",value:function(i){return this.refresh(se(se({},i),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(i,s){var c=this.camera.getState(),d=c.ratio,h=c.angle,g=c.x,p=c.y,y=this.settings,v=y.minCameraRatio,S=y.maxCameraRatio;typeof S=="number"&&(s=Math.min(s,S)),typeof v=="number"&&(s=Math.max(s,v));var _=s/d,w={x:this.width/2,y:this.height/2},D=this.viewportToFramedGraph(i),H=this.viewportToFramedGraph(w);return{angle:h,x:(D.x-H.x)*(1-_)+g,y:(D.y-H.y)*(1-_)+p,ratio:s}}},{key:"viewRectangle",value:function(){var i=this.viewportToFramedGraph({x:0,y:0}),s=this.viewportToFramedGraph({x:this.width,y:0}),c=this.viewportToFramedGraph({x:0,y:this.height});return{x1:i.x,y1:i.y,x2:s.x,y2:s.y,height:s.y-c.y}}},{key:"framedGraphToViewport",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=!!s.cameraState||!!s.viewportDimensions||!!s.graphDimensions,d=s.matrix?s.matrix:c?fr(s.cameraState||this.camera.getState(),s.viewportDimensions||this.getDimensions(),s.graphDimensions||this.getGraphDimensions(),s.padding||this.getStagePadding()):this.matrix,h=Vu(d,i);return{x:(1+h.x)*this.width/2,y:(1-h.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=!!s.cameraState||!!s.viewportDimensions||!s.graphDimensions,d=s.matrix?s.matrix:c?fr(s.cameraState||this.camera.getState(),s.viewportDimensions||this.getDimensions(),s.graphDimensions||this.getGraphDimensions(),s.padding||this.getStagePadding(),!0):this.invMatrix,h=Vu(d,{x:i.x/this.width*2-1,y:1-i.y/this.height*2});return isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0),h}},{key:"viewportToGraph",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(i,s))}},{key:"graphToViewport",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(i),s)}},{key:"getGraphToViewportRatio",value:function(){var i={x:0,y:0},s={x:1,y:1},c=Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2)),d=this.graphToViewport(i),h=this.graphToViewport(s),g=Math.sqrt(Math.pow(d.x-h.x,2)+Math.pow(d.y-h.y,2));return g/c}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(i){return this.customBBox=i,this.scheduleRender(),this}},{key:"kill",value:function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var i=this.container;i.firstChild;)i.removeChild(i.firstChild);for(var s in this.nodePrograms)this.nodePrograms[s].kill();for(var c in this.nodeHoverPrograms)this.nodeHoverPrograms[c].kill();for(var d in this.edgePrograms)this.edgePrograms[d].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={};for(var h in this.elements)this.killLayer(h);this.canvasContexts={},this.webGLContexts={},this.elements={}}},{key:"scaleSize",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.camera.ratio;return i/this.settings.zoomToSizeRatioFunction(s)*(this.getSetting("itemSizesReference")==="positions"?s*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){var i={};for(var s in this.elements)this.elements[s]instanceof HTMLCanvasElement&&(i[s]=this.elements[s]);return i}}])})(Wu),Jp=T1;function Ip(o,a){const{activeClusters:l=new Set,activeKinds:i=new Set,activeProjects:s=new Set,similarity:c=0,hideIsolated:d=!1,onlyIsolated:h=!1,selectedNode:g=null,depth:p=1}=a,y=new Set,v=new Set;if(g){const S=Number(p),_=[{node:g,d:0}];for(y.add(g);_.length>0;){const{node:w,d:D}=_.shift();if(D>=S)continue;o.neighbors(w).forEach(K=>{if(!y.has(K)){const $=D+1;$<=S&&(y.add(K),_.push({node:K,d:$}))}})}o.forEachEdge((w,D,H,K)=>{y.has(H)&&y.has(K)&&v.add(w)})}else{const S=new Set(Array.from(l).map(D=>D.toLowerCase())),_=new Set(Array.from(i).map(D=>D.toLowerCase())),w=new Set(Array.from(s).map(D=>D.toLowerCase()));o.forEachNode((D,H)=>{let K=!0;S.size>0&&(K=[(H.cluster||"").toLowerCase(),...(H.clusters_extra||[]).map(R=>(R||"").toLowerCase())].filter(Boolean).some(R=>S.has(R)));const $=(H.kind||"").toLowerCase(),q=_.size===0||_.has($),C=(H.project||"").toLowerCase(),M=w.size===0||w.has(C),B=o.degree(D)===0;let G;h?G=B&&(S.size===0||K)&&(_.size===0||q)&&(w.size===0||M):G=K&&q&&M&&(!d||!B),G&&y.add(D)}),o.forEachEdge((D,H,K,$)=>{const q=!y.has(K),C=!y.has($),M=H.similarity??100;!q&&!C&&M>=c&&v.add(D)})}return{visibleNodes:y,visibleEdges:v}}const A1=pe.forwardRef(({graphData:o,setGraphInstance:a,setRendererInstance:l,filters:i,onNodeClick:s,onNodeHover:c,isDarkMode:d},h)=>{const g=pe.useRef(null),p=pe.useRef(null),y=pe.useRef(null),[v,S]=pe.useState(null),_=pe.useRef(d);return pe.useEffect(()=>{_.current=d,p.current&&p.current.refresh()},[d]),pe.useImperativeHandle(h,()=>({zoomIn:()=>{const w=p.current?.getCamera();w&&w.animatedZoom({duration:500})},zoomOut:()=>{const w=p.current?.getCamera();w&&w.animatedUnzoom({duration:500})},center:()=>{const w=p.current?.getCamera();w&&w.animate({x:0,y:0,ratio:1},{duration:700})},fullscreen:()=>{g.current&&(document.fullscreenElement!==g.current?g.current.requestFullscreen():document.exitFullscreen())}})),pe.useEffect(()=>{if(!o||!g.current)return;const w=new Ue;o.nodes.forEach(R=>w.addNode(String(R.key),R)),o.edges.forEach(R=>{const k=String(R.source),Z=String(R.target);!w.hasNode(k)||!w.hasNode(Z)||(R.directed?w.addDirectedEdge(k,Z,R):w.addUndirectedEdge(k,Z,R))}),y.current=w,a(w);let D=null,H={};const K=(R,k)=>{if(k.hidden)return{...k,hidden:!0,label:""};const Z={...k};return Z.label=k.label,D&&((H[R]??99)<=1?(Z.opacity=1,Z.label=k.label,Z.zIndex=10):(Z.opacity=.1,Z.label="",Z.zIndex=0),R===D&&(Z.highlighted=!0)),Z},$=(R,k)=>{if(k.hidden)return{...k,hidden:!0};if(D){const Z=w.source(R),te=w.target(R);if(Z===D||te===D)return{...k,zIndex:10};{const oe=_.current;return{...k,color:oe?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",zIndex:0}}}return k},q=new Jp(w,g.current,{renderer:"canvas",nodeReducer:K,edgeReducer:$,defaultLabelColor:"#ffffff",labelRenderer:(R,k)=>{const Z=Math.max(k.size/2,12),te=k.x+k.size+5,ce=k.y+Z/3;if(k.highlighted){const oe=_.current,ye=oe?"#ffffff":"#000000",N=oe?"#000000":"#ffffff";R.font=`bold ${Z}px Arial`;const V=R.measureText(k.label).width;R.fillStyle=ye,R.fillRect(te-2,ce-Z,V+4,Z+4),R.fillStyle=N,R.fillText(k.label,te,ce)}else R.fillStyle="#ffffff",R.font=`${Z}px Arial`,R.fillText(k.label,te,ce)},renderLabels:!0,defaultEdgeColor:"#ffffff",edgeRenderer:(R,k,Z,te)=>{const ce=Z.x,oe=Z.y,ye=te.x,N=te.y,V=k.color||"#999",ee=k.size||1;if(R.strokeStyle=V,R.lineWidth=ee,k.dashed?R.setLineDash([6,4]):R.setLineDash([]),R.beginPath(),R.moveTo(ce,oe),R.lineTo(ye,N),R.stroke(),k.directed){const ae=Math.atan2(N-oe,ye-ce),fe=10+ee*2;R.beginPath(),R.moveTo(ye,N),R.lineTo(ye-fe*Math.cos(ae-Math.PI/6),N-fe*Math.sin(ae-Math.PI/6)),R.lineTo(ye-fe*Math.cos(ae+Math.PI/6),N-fe*Math.sin(ae+Math.PI/6)),R.fillStyle=V,R.fill()}}});p.current=q,l&&l(q);let C=null;q.on("enterNode",R=>{D=R.node,H={},H[R.node]=0,w.forEachNeighbor(R.node,k=>{H[k]=1}),q.refresh(),c&&c(R.node),g.current.style.cursor="pointer"}),q.on("leaveNode",()=>{D=null,H={},q.refresh(),c&&c(null),g.current.style.cursor="default"}),q.on("clickNode",R=>{if(R.event.original.metaKey||R.event.original.ctrlKey){const k=w.getNodeAttributes(R.node),Z=k.url;if(Z&&k.kind!=="tag"){window.open(Z,"_blank");return}}s&&s(R.node)}),q.on("downNode",R=>{C=R.node,q.getCamera().disable()});const M=R=>{if(!C)return;const k=g.current.getBoundingClientRect(),Z=R.clientX-k.left,te=R.clientY-k.top,ce=q.viewportToGraph({x:Z,y:te});w.setNodeAttribute(C,"x",ce.x),w.setNodeAttribute(C,"y",ce.y),R.preventDefault()},B=()=>{C&&(C=null,q.getCamera().enable())},G=R=>{if(!g.current)return;const k=g.current.getBoundingClientRect(),Z=R.clientX-k.left,te=R.clientY-k.top,ce=q.viewportToGraph({x:Z,y:te});let oe=null,ye=10;if(w.forEachEdge((N,V,ee,ae)=>{if(V.hidden)return;const fe=w.getNodeAttributes(ee),E=w.getNodeAttributes(ae),U=q.getCamera(),Q=fe.x,ne=fe.y,de=E.x,Ee=E.y,Ae=de-Q,Xe=Ee-ne,He=Ae*Ae+Xe*Xe;if(He===0)return;let Qt=((ce.x-Q)*Ae+(ce.y-ne)*Xe)/He;Qt=Math.max(0,Math.min(1,Qt));const vi=Q+Qt*Ae,da=ne+Qt*Xe,Jt=Math.sqrt((ce.x-vi)**2+(ce.y-da)**2)*U.ratio;Jt<ye&&(ye=Jt,oe={edge:N,attrs:V,x:R.clientX,y:R.clientY})}),oe){const N=oe.attrs.reasons||oe.attrs.reason||[],V=Array.isArray(N)?N.join("; "):N||"Connection";S({x:Z,y:te,text:V})}else S(null)},W=R=>{const k=q.getCamera();if(!k)return;if((R.metaKey||R.ctrlKey)&&R.key==="0"){R.preventDefault(),k.animate({x:0,y:0,ratio:1},{duration:700});return}if(R.key==="+"||R.key==="="){R.preventDefault(),k.animatedZoom({duration:300});return}if(R.key==="-"||R.key==="_"){R.preventDefault(),k.animatedUnzoom({duration:300});return}const Z=k.getState(),te=.05*Z.ratio;if(R.key==="ArrowUp"){R.preventDefault(),k.animate({...Z,y:Z.y-te},{duration:50});return}if(R.key==="ArrowDown"){R.preventDefault(),k.animate({...Z,y:Z.y+te},{duration:50});return}if(R.key==="ArrowLeft"){R.preventDefault(),k.animate({...Z,x:Z.x+te},{duration:50});return}if(R.key==="ArrowRight"){R.preventDefault(),k.animate({...Z,x:Z.x-te},{duration:50});return}};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",B),document.addEventListener("keydown",W),g.current.addEventListener("mousemove",G),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",B),document.removeEventListener("keydown",W),g.current&&g.current.removeEventListener("mousemove",G),q.kill()}},[o,d]),pe.useEffect(()=>{const w=y.current,D=p.current;if(!w||!D)return;const{visibleNodes:H,visibleEdges:K}=Ip(w,i);w.forEachNode($=>{w.setNodeAttribute($,"hidden",!H.has($))}),w.forEachEdge($=>{w.setEdgeAttribute($,"hidden",!K.has($))}),D.refresh()},[i,o]),I.jsx("div",{ref:g,style:{width:"100%",height:"100%",position:"relative"},children:v&&I.jsx("div",{style:{position:"absolute",left:v.x+10,top:v.y+10,background:d?"#333":"#fff",color:d?"#fff":"#000",padding:"8px 12px",borderRadius:"4px",border:`1px solid ${d?"#555":"#ccc"}`,pointerEvents:"none",zIndex:1e3,maxWidth:"300px",fontSize:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:v.text})})});function C1({onZoomIn:o,onZoomOut:a,onCenter:l,onFullscreen:i}){return I.jsxs("div",{className:"graph-controls",children:[I.jsx("button",{id:"btn-fullscreen",title:"Pantalla Completa",onClick:i,children:""}),I.jsx("button",{id:"btn-center",title:"Recentrar",onClick:l,children:""}),I.jsx("button",{id:"btn-zoom-in",title:"Ampliar",onClick:o,children:""}),I.jsx("button",{id:"btn-zoom-out",title:"Allunyar",onClick:a,children:""})]})}const R1=({graphData:o,isDarkMode:a})=>{const{t:l}=yr();if(!o||!o.legend)return null;const{edges:i=[]}=o.legend;return i.length===0?null:I.jsx("div",{style:{position:"absolute",bottom:"20px",left:"calc(50% + 85px)",transform:"translateX(-50%)",background:a?"rgba(30, 30, 30, 0.95)":"rgba(255, 255, 255, 0.95)",color:a?"#fff":"#000",padding:"12px 20px",borderRadius:"8px",border:`1px solid ${a?"#444":"#ddd"}`,fontSize:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:100,display:"flex",alignItems:"center",gap:"20px"},children:i.map((c,d)=>I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[I.jsx("div",{style:{width:"24px",height:"2px",background:c.color}}),I.jsx("span",{style:{fontSize:"11px",whiteSpace:"nowrap"},children:c.label})]},d))})},D1=({graph:o,mainRenderer:a,isDarkMode:l})=>{const i=pe.useRef(null),s=pe.useRef(null),c=pe.useRef(null),d=pe.useRef(!1);return pe.useEffect(()=>{if(!o||!i.current||!a)return;const h=new Jp(o,i.current,{renderer:"canvas",renderLabels:!1,enableEdgeEvents:!1,defaultNodeColor:l?"#888":"#666",defaultEdgeColor:l?"#444":"#ccc",nodeReducer:(w,D)=>({...D,size:2,label:null,color:l?"#888":"#666"}),edgeReducer:(w,D)=>({...D,size:.5,color:l?"#444":"#ccc",hidden:!1})});s.current=h,h.getCamera().ratio=1.2;const g=()=>{if(!a||!h||!c.current)return;a.getCamera(),h.getCamera();const w=a.getDimensions();h.getDimensions();const D=a.viewportToGraph({x:0,y:0}),H=a.viewportToGraph({x:w.width,y:w.height}),K=h.graphToViewport(D),$=h.graphToViewport(H),q=K.x,C=K.y,M=$.x-K.x,B=$.y-K.y,G=c.current;G.style.transform=`translate(${q}px, ${C}px)`,G.style.width=`${M}px`,G.style.height=`${B}px`,G.style.display=M<=0||B<=0?"none":"block"};a.on("afterRender",g),h.on("afterRender",g);const p=w=>{if(d.current)return;const D=i.current.getBoundingClientRect(),H=w.clientX-D.left,K=w.clientY-D.top,$=h.viewportToGraph({x:H,y:K});a.getCamera().animate({x:$.x,y:$.y},{duration:500})},y=w=>{w.target===c.current&&(d.current=!0,w.stopPropagation())},v=w=>{if(!d.current)return;const D=i.current.getBoundingClientRect(),H=w.clientX-D.left,K=w.clientY-D.top,$=h.viewportToGraph({x:H,y:K});a.getCamera().setState({x:$.x,y:$.y})},S=()=>{d.current=!1},_=i.current;return _.addEventListener("click",p),_.addEventListener("mousedown",y),window.addEventListener("mousemove",v),window.addEventListener("mouseup",S),()=>{a.off("afterRender",g),h.kill(),_.removeEventListener("click",p),_.removeEventListener("mousedown",y),window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",S)}},[o,a,l]),I.jsx("div",{style:{position:"absolute",bottom:"20px",left:"20px",width:"200px",height:"150px",background:l?"rgba(30, 30, 30, 0.95)":"rgba(255, 255, 255, 0.95)",border:`1px solid ${l?"#444":"#ddd"}`,borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:100},children:I.jsx("div",{ref:i,style:{width:"100%",height:"100%",position:"relative"},children:I.jsx("div",{ref:c,style:{position:"absolute",top:0,left:0,border:`2px solid ${l?"#6ba8ff":"#4583ec"}`,backgroundColor:l?"rgba(107, 168, 255, 0.2)":"rgba(69, 131, 236, 0.2)",pointerEvents:"auto",cursor:"move",boxSizing:"border-box",display:"none"}})})})},N1=({graphInstance:o,filters:a,isDarkMode:l})=>{const{t:i}=yr(),s=pe.useMemo(()=>{if(!o)return[];const{visibleEdges:c}=Ip(o,a),d={};return c.forEach(h=>{const g=o.getEdgeAttributes(h),p=o.source(h),y=o.target(h),v=o.getNodeAttributes(p),S=o.getNodeAttributes(y);d[p]||(d[p]={id:p,label:v.label||p,url:v.url,targets:[]}),d[p].targets.push({id:h,label:S.label||y,url:S.url,similarity:g.similarity,reasons:g.reasons||g.reason||g.evidence||[],color:g.color,isTagEdge:g.isTagEdge})}),Object.values(d).forEach(h=>{h.targets.sort((g,p)=>(p.similarity||0)-(g.similarity||0))}),Object.values(d).sort((h,g)=>h.label.localeCompare(g.label))},[o,a]);return!o||s.length===0?null:I.jsxs("div",{style:{background:l?"#1e1e1e":"#fff",color:l?"#eee":"#333",borderTop:`1px solid ${l?"#333":"#eee"}`,borderRadius:"8px",padding:"20px"},children:[I.jsx("h3",{style:{marginTop:0,fontSize:"1.1rem"},children:i("connections_title")}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:s.map(c=>I.jsxs("div",{style:{background:l?"#252525":"#f0f0f0",borderRadius:"8px",padding:"12px"},children:[I.jsx("div",{style:{marginBottom:"8px",fontWeight:"bold",fontSize:"1rem",borderBottom:`1px solid ${l?"#444":"#ddd"}`,paddingBottom:"4px"},children:c.url?I.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none",borderBottom:"1px dotted currentColor"},children:c.label}):c.label}),I.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px",paddingLeft:"8px"},children:c.targets.map(d=>I.jsxs("div",{style:{display:"flex",alignItems:"center",fontSize:"0.9rem"},children:[I.jsx("span",{style:{marginRight:"8px",color:"#888"},children:""}),I.jsx("span",{style:{fontWeight:500},children:d.url?I.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none",borderBottom:"1px dotted currentColor"},children:d.label}):d.label}),I.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"12px"},children:[I.jsx("span",{style:{fontSize:"0.8rem",color:l?"#aaa":"#666",fontStyle:"italic"},children:(()=>{const h=Array.isArray(d.reasons)?d.reasons.join(", "):d.reasons;return h.length>100?h.substring(0,100)+"...":h})()}),!d.isTagEdge&&d.similarity!==void 0&&I.jsxs("span",{style:{background:d.color||"#888",color:"#fff",padding:"2px 6px",borderRadius:"4px",fontSize:"0.75rem",minWidth:"30px",textAlign:"center"},children:[Math.round(d.similarity),"%"]}),d.isTagEdge&&I.jsx("span",{style:{background:"#ddd",color:"#555",padding:"2px 6px",borderRadius:"4px",fontSize:"0.75rem"},children:"Tag"})]})]},d.id))})]},c.id))})]})};function L1(){const{t:o}=yr(),[a,l]=pe.useState(null),[i,s]=pe.useState(null),[c,d]=pe.useState(null),[h,g]=pe.useState(window.matchMedia("(prefers-color-scheme: dark)").matches),[p,y]=pe.useState(""),[v,S]=pe.useState(30),[_,w]=pe.useState(!1),[D,H]=pe.useState(!1),[K,$]=pe.useState(new Set),[q,C]=pe.useState(new Set),[M,B]=pe.useState(new Set),[G,W]=pe.useState(null),[R,k]=pe.useState(1);pe.useEffect(()=>{fetch("/api/graph").then(ae=>ae.json()).then(ae=>{l(ae)}).catch(ae=>console.error("Error loading graph:",ae));const V=window.matchMedia("(prefers-color-scheme: dark)"),ee=ae=>g(ae.matches);return V.addEventListener("change",ee),()=>V.removeEventListener("change",ee)},[]);const Z=pe.useMemo(()=>{if(!a||!a.legend)return{clusters:[],kinds:[],projects:[]};const V=(a.legend.kinds||[]).filter(U=>U.label.toLowerCase()!=="default").map(U=>({label:U.label,value:U.label,color:U.color,count:U.count})),ee={};a.nodes.forEach(U=>{[U.cluster,...U.clusters_extra||[]].filter(Boolean).forEach(ne=>{const de=ne.toLowerCase().trim().replace(/\s+/g,"-");ee[de]=(ee[de]||0)+1})});const ae=(a.legend.clusters||[]).map(U=>{const Q=U.label.toLowerCase().trim().replace(/\s+/g,"-");return{label:U.label,value:U.label,color:U.color,count:ee[Q]||0}}),fe={};a.nodes.forEach(U=>{const Q=U.project;Q&&Q!=="None"&&Q!=="Altres"&&(fe[Q]=(fe[Q]||0)+1)});const E=Object.keys(fe).sort().map(U=>({label:U,value:U,color:"#757575",count:fe[U]}));return{kinds:V,clusters:ae,projects:E}},[a]),te=(V,ee)=>{const ae=new Set(V);return ae.has(ee)?ae.delete(ee):ae.add(ee),ae},ce=V=>{V(new Set)},oe=pe.useRef(null),ye=pe.useMemo(()=>({activeClusters:K,activeKinds:q,activeProjects:M,similarity:v,hideIsolated:_,onlyIsolated:D,selectedNode:G,depth:R}),[K,q,M,v,_,D,G,R]),N=(V,ee,ae)=>{if(!V||V.length===0)return null;const fe=Math.max(...V.map(E=>E.count),1);return I.jsx("div",{className:"filter-list",children:V.map(E=>I.jsxs("div",{className:"filter-item-advanced",children:[I.jsx("input",{type:"checkbox",id:`filter-${E.value}`,checked:ee.has(E.value),onChange:()=>ae(te(ee,E.value)),style:{display:"none"}}),I.jsxs("label",{htmlFor:`filter-${E.value}`,children:[I.jsx("span",{className:"custom-checkbox",style:{backgroundColor:E.color,position:"relative"},children:ee.has(E.value)&&I.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"white",transform:"translate(-50%, -50%)"}})}),I.jsxs("span",{className:"filter-label-text",children:[E.label," (",E.count,")"]})]}),I.jsx("div",{className:"density-bar-container",children:I.jsx("div",{className:"density-bar",style:{width:`${E.count/fe*100}%`,backgroundColor:E.color}})})]},E.value))})};return I.jsxs(K0,{sidebar:I.jsxs(Q0,{searchTerm:p,onSearchChange:y,similarity:v,onSimilarityChange:S,hideIsolated:_,onHideIsolatedChange:w,onlyIsolated:D,onOnlyIsolatedChange:H,children:[I.jsxs("div",{className:"section",children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[I.jsx("h2",{className:"filter-title",children:o("filter_by_kind")}),q.size>0&&I.jsx("button",{onClick:()=>ce(C),style:{background:"none",border:"none",color:"#888",cursor:"pointer",fontSize:"12px",textDecoration:"underline"},children:"Deselect All"})]}),N(Z.kinds,q,C)]}),I.jsxs("div",{className:"section",children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[I.jsx("h2",{className:"filter-title",children:o("filter_by_cluster")}),K.size>0&&I.jsx("button",{onClick:()=>ce($),style:{background:"none",border:"none",color:"#888",cursor:"pointer",fontSize:"12px",textDecoration:"underline"},children:"Deselect All"})]}),N(Z.clusters,K,$)]}),I.jsxs("div",{className:"section",children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[I.jsx("h2",{className:"filter-title",children:o("filter_by_project")}),M.size>0&&I.jsx("button",{onClick:()=>ce(B),style:{background:"none",border:"none",color:"#888",cursor:"pointer",fontSize:"12px",textDecoration:"underline"},children:"Deselect All"})]}),N(Z.projects,M,B)]}),G&&I.jsx("div",{className:"section",children:I.jsxs("div",{id:"depth-controls",className:"depth-controls",style:{display:"block"},children:[I.jsx("p",{children:"Mostrant vens de:"}),I.jsx("strong",{children:i&&i.getNodeAttribute(G,"label")||G}),I.jsxs("div",{className:"depth-slider-container",children:[I.jsxs("label",{htmlFor:"depth-slider",children:[o("depth_filter"),":"]}),I.jsx("input",{type:"range",id:"depth-slider",min:"1",max:"5",value:R,step:"1",onChange:V=>k(parseInt(V.target.value))}),I.jsx("span",{id:"depth-label",children:R})]}),I.jsx("button",{id:"clear-selection-btn",onClick:()=>W(null),children:"Neteja la selecci"})]})})]}),controls:I.jsx(C1,{onZoomIn:()=>oe.current?.zoomIn(),onZoomOut:()=>oe.current?.zoomOut(),onCenter:()=>oe.current?.center(),onFullscreen:()=>oe.current?.fullscreen()}),containerStyle:{overflowY:"auto",display:"block"},children:[I.jsxs("div",{style:{height:"100%",position:"relative",minHeight:"600px"},children:[I.jsx(A1,{ref:oe,graphData:a,setGraphInstance:s,setRendererInstance:d,filters:ye,onNodeClick:V=>W(V),isDarkMode:h}),I.jsx(R1,{graphData:a,isDarkMode:h}),I.jsx(D1,{graph:i,mainRenderer:c,isDarkMode:h})]}),I.jsx("div",{style:{padding:"20px",background:h?"#111":"#f7f7f7"},children:I.jsx(N1,{graphInstance:i,filters:ye,isDarkMode:h})})]})}X0.createRoot(document.getElementById("root")).render(I.jsx(lp.StrictMode,{children:I.jsx(L1,{})}));
